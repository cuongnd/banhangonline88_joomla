!function(a){var c,d,b=function(a){var b=[],c=1,d=0,a=a,e=function(){b.push([this,arguments]),c||e.execute()};return e.execute=function(){if(!d){d=1,c=0;for(var e;e=b.shift();)a.apply(e[0],e[1]);d=0}},e.lock=function(){c=0},e},e={},f=0,g=[],h=window[a]={setup:function(a){d=a,h.init()},jquery:function(a){c||(c=a,h.init())},init:function(){f||c&&d&&(h.$=c.initialize(d),h.plugin.execute(),f=1)},plugin:b(function(a,b){b.apply(h,[c])}),module:b(function(a,b){c.module(a,b)}),installer:function(a,b,c){if(g[a]||(g[a]=[]),!b)return g[a];
var d=e[a];return d.registered?d.install(b,c):(g[a].push([b,c]),void 0)},component:function(a,b){if(!a)return e;if(!b)return e[a];if("function"==typeof b){var d=b;return d.registered=!0,e[a]=d}var g=[],h=function(a,b,c){return{method:a,context:this,args:c}},i=function(a,b,c){return function(){return(c||g).push(h(a,this,arguments)),b}},j=function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];a[e]=i(e,a,c)}return a},k=function(a,b){return function(){var c=[h(a,this,arguments)];return g.push(c),j({},b,c)}};g.execute=function(){for(var b=e[a],c=0;c<g.length;c++){var d=g[c];
if("[object Array]"===Object.prototype.toString.call(d))for(var f=d,h=b,i=0;i<f.length;i++)h=h[f[i].method].apply(h,f[i].args);else b[d.method].apply(b,d.args)}};var d=j(function(){d.run.apply(this.arguments)},["run","ready","template","dialog"]);return d.className=a,d.options=b,d.queue=g,d.module=k("module",["done","always","fail","progress"]),d.require=k("require",["library","script","stylesheet","language","template","app","view","done","always","fail","progress"]),window[a]=e[a]=d,f&&c.Component.register(d),d
}}}("FD40"),FD40.setup({environment:window.es.environment,source:"local",mode:"production"==window.es.environment?"compressed":"uncompressed",path:window.es.rootUrl+"/media/com_easysocial/scripts/vendors",cdn:"",extension:".js",cdnPath:"",rootPath:window.es.rootUrl,basePath:window.es.rootUrl,indexUrl:window.es.rootUrl+"/index.php",token:window.es.token,joomla:{appendTitle:window.es.appendTitle,sitename:window.es.siteName},locale:{lang:window.es.locale}}),FD40.component("EasySocial",{environment:window.es.environment,source:"local",mode:"production"==window.es.environment?"compressed":"uncompressed",mode:"compressed",baseUrl:window.es.baseUrl,version:"2.0",momentLang:window.es.momentLang,ajaxUrl:window.es.ajaxUrl}),!function(a){var b,c=" ",d="width",e="height",f="replace",g="classList",h="className",i="parentNode",j="fit-width",k="fit-height",l="fit-both",m="fit-small",n=j+c+k+c+l+c+m,o=function(a,b){return a.getAttribute("data-"+b)
},p=function(a,b){return a["natural"+b[0].toUpperCase()+b.slice(1)]},q=function(a,b){return parseInt(o(a,b)||p(a,b)||a[b])},r=function(a,b){a[g]?a[g].add(b):a[h]+=c+b},s=function(a,b){a[h]=a[h][f](new RegExp("\\b("+b[f](/\s+/g,"|")+")\\b","g"),c)[f](/\s+/g,c)[f](/^\s+|\s+$/g,"")},t=function(a,b,c){a.style[b]=c+"px"},u=function(a,b,c,f,g,h,v,x,y,z){return!o(a,d)&&0===p(a,d)&&(a._retry||(a._retry=0))<=25?setTimeout(function(){a._retry++,u(a)},200):(b=a[i],c=b[i],f=c[i],g=o(b,"mode"),h=o(b,"threshold"),v=q(a,d),x=q(a,e),y=b.offsetWidth,z=b.offsetHeight,s(f,n),r(f,h>v&&h>x?function(){return t(a,d,v),t(a,e,x),m
}():"cover"==g?function(b,c,d){return 1>y||1>z?(w.push(a),l):(b=y/z,c=y/v,d=z/x,1>b?z>x*c?k:j:b>1?y>v*d?j:k:1==b?1>=v/x?j:k:void 0)}():function(){return w.push(a),a.style.maxHeight="none",t(a,"maxHeight",b.offsetHeight),l}()),a.removeAttribute("onload"),void 0)},v=function(a,b){for(b=w,w=[];a=b.shift();)a[i]&&u(a)},w=[],x=function(){clearTimeout(b),b=setTimeout(v,500)},y=a.ESImageList||[];for(a.ESImage=u,a.ESImageRefresh=v,a.addEventListener?a.addEventListener("resize",x,!1):a.attachEvent("resize",x);y.length;)u(y.shift())
}(window),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c
});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}function E(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))
}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;
for(;e--;)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;
if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);
return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);
b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");
return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?(delete this.get,void 0):(this.get=b).apply(this,arguments)}}}function Vb(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;e--;)if(b=Ub[e]+c,b in a)return b;
return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b
}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e))return e;
d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");
c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]
}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function kc(a,b){var c,d,e,f,g;
for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)
},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;
return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);
return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===Jc;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];
else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));
break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1
}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.1pre",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b
},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;
for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)
},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)
},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;
return a},trim:k&&!k.call("\ufeff\xa0")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];
return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0
},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function eb(a,b,d,e){var f,g,i,j,k,n,q,r,v,w;if((b?b.ownerDocument||b:u)!==m&&l(b),b=b||m,d=d||[],!a||"string"!=typeof a)return d;if(1!==(j=b.nodeType)&&9!==j)return[];if(o&&!e){if(f=$.exec(a))if(i=f[1]){if(9===j){if(g=b.getElementById(i),!g||!g.parentNode)return d;if(g.id===i)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(i))&&s(b,g)&&g.id===i)return d.push(g),d
}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((i=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(i)),d}if(c.qsa&&(!p||!p.test(a))){if(r=q=t,v=b,w=9===j&&a,1===j&&"object"!==b.nodeName.toLowerCase()){for(n=pb(a),(q=b.getAttribute("id"))?r=q.replace(ab,"\\$&"):b.setAttribute("id",r),r="[id='"+r+"'] ",k=n.length;k--;)n[k]=r+qb(n[k]);v=_.test(a)&&nb(b.parentNode)||b,w=n.join(",")}if(w)try{return H.apply(d,v.querySelectorAll(w)),d}catch(x){}finally{q||b.removeAttribute("id")
}}}return h(a.replace(Q,"$1"),b,d,e)}function fb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function gb(a){return a[t]=!0,a}function hb(a){var b=m.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ib(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function jb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function mb(a){return gb(function(b){return b=+b,gb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function nb(a){return a&&typeof a.getElementsByTagName!==B&&a}function ob(){}function pb(a,b){var c,e,f,g,h,i,j,k=y[a+" "];
if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?eb.error(a):y(a,i).slice(0)}function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=w++;
return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[v,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[t]||(b[t]={}),(h=i[d])&&h[0]===v&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)eb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));
return g}function vb(a,b,c,d,e,f){return d&&!d[t]&&(d=vb(d)),e&&!e[t]&&(e=vb(e,f)),gb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ub(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)
})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],j=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return J.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==i)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[t]){for(e=++j;f>e&&!d.relative[a[e].type];e++);return vb(j>1&&sb(m),j>1&&qb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(Q,"$1"),c,e>j&&wb(a.slice(j,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))
}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,j,k){var l,n,o,p=0,q="0",r=f&&[],s=[],t=i,u=f||e&&d.find.TAG("*",k),w=v+=null==t?1:Math.random()||.1,x=u.length;for(k&&(i=g!==m&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(n=0;o=a[n++];)if(o(l,g,h)){j.push(l);break}k&&(v=w)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(n=0;o=b[n++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(j));s=ub(s)}H.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&eb.uniqueSort(j)
}return k&&(v=w,i=t),r};return c?gb(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t="sizzle"+-new Date,u=a.document,v=0,w=0,x=fb(),y=fb(),z=fb(),A=function(a,b){return a===b&&(k=!0),0},B="undefined",C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=E.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")"+L+"*(?:([*^$|!~]?=)"+L+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)"+L+"*\\]",P=":("+M+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+O.replace(3,8)+")*)|.*)\\)|)",Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(P),V=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,ab=/'|\\/g,bb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),cb=function(a,b,c){var d="0x"+b-65536;
return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{H.apply(E=I.call(u.childNodes),u.childNodes),E[u.childNodes.length].nodeType}catch(db){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=eb.support={},f=eb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},l=eb.setDocument=function(a){var b,e=a?a.ownerDocument||a:u,g=e.defaultView;return e!==m&&9===e.nodeType&&e.documentElement?(m=e,n=e.documentElement,o=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){l()
},!1):g.attachEvent&&g.attachEvent("onunload",function(){l()})),c.attributes=hb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=hb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(e.getElementsByClassName)&&hb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=hb(function(a){return n.appendChild(a).id=t,!e.getElementsByName||!e.getElementsByName(t).length
}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==B&&o){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(bb,cb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(bb,cb);return function(a){var c=typeof a.getAttributeNode!==B&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==B?b.getElementsByTagName(a):void 0
}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==B&&o?b.getElementsByClassName(a):void 0},q=[],p=[],(c.qsa=Z.test(e.querySelectorAll))&&(hb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&p.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll(":checked").length||p.push(":checked")
}),hb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&p.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||p.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),p.push(",.*:")})),(c.matchesSelector=Z.test(r=n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&hb(function(a){c.disconnectedMatch=r.call(a,"div"),r.call(a,"[s!='']:x"),q.push("!=",P)
}),p=p.length&&new RegExp(p.join("|")),q=q.length&&new RegExp(q.join("|")),b=Z.test(n.compareDocumentPosition),s=b||Z.test(n.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},A=b?function(a,b){if(a===b)return k=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===u&&s(u,a)?-1:b===e||b.ownerDocument===u&&s(u,b)?1:j?J.call(j,a)-J.call(j,b):0:4&d?-1:1)
}:function(a,b){if(a===b)return k=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:j?J.call(j,a)-J.call(j,b):0;if(f===g)return jb(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?jb(h[d],i[d]):h[d]===u?-1:i[d]===u?1:0},e):m},eb.matches=function(a,b){return eb(a,null,null,b)},eb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==m&&l(a),b=b.replace(T,"='$1']"),!(!c.matchesSelector||!o||q&&q.test(b)||p&&p.test(b)))try{var d=r.call(a,b);
if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return eb(b,m,null,[a]).length>0},eb.contains=function(a,b){return(a.ownerDocument||a)!==m&&l(a),s(a,b)},eb.attr=function(a,b){(a.ownerDocument||a)!==m&&l(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!o):void 0;return void 0!==f?f:c.attributes||!o?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},eb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)
},eb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(k=!c.detectDuplicates,j=!c.sortStable&&a.slice(0),a.sort(A),k){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return j=null,a},e=eb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=eb.selectors={cacheLength:50,createPseudo:gb,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(bb,cb),a[3]=(a[4]||a[5]||"").replace(bb,cb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)
},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||eb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&eb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return W.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&U.test(c)&&(b=pb(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(bb,cb).toLowerCase();return"*"===a?function(){return!0
}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=x[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&x(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==B&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=eb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0
}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[t]||(q[t]={}),j=k[a]||[],n=j[0]===v&&j[1],m=j[0]===v&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[v,n,m];
break}}else if(s&&(j=(b[t]||(b[t]={}))[a])&&j[0]===v)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[t]||(l[t]={}))[a]=[v,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||eb.error("unsupported pseudo: "+a);return e[t]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?gb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J.call(a,f[g]),a[d]=!(c[d]=f[g])
}):function(a){return e(a,0,c)}):e}},pseudos:{not:gb(function(a){var b=[],c=[],d=g(a.replace(Q,"$1"));return d[t]?gb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:gb(function(a){return function(b){return eb(a,b).length>0}}),contains:gb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:gb(function(a){return V.test(a||"")||eb.error("unsupported lang: "+a),a=a.replace(bb,cb).toLowerCase(),function(b){var c;
do if(c=o?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===n},focus:function(a){return a===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())
},first:mb(function(){return[0]}),last:mb(function(a,b){return[b-1]}),eq:mb(function(a,b,c){return[0>c?c+b:c]}),even:mb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:mb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:mb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:mb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=kb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=lb(b);
return ob.prototype=d.filters=d.pseudos,d.setFilters=new ob,g=eb.compile=function(a,b){var c,d=[],e=[],f=z[a+" "];if(!f){for(b||(b=pb(a)),c=b.length;c--;)f=wb(b[c]),f[t]?d.push(f):e.push(f);f=z(a,xb(e,d)),f.selector=a}return f},h=eb.select=function(a,b,e,f){var h,i,j,k,l,m="function"==typeof a&&a,n=!f&&pb(a=m.selector||a);if(e=e||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&o&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(bb,cb),b)||[])[0],!b)return e;
m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}for(h=W.needsContext.test(a)?0:i.length;h--&&(j=i[h],!d.relative[k=j.type]);)if((l=d.find[k])&&(f=l(j.matches[0].replace(bb,cb),_.test(i[0].type)&&nb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&qb(i),!a)return H.apply(e,f),e;break}}return(m||g(a,n))(f,b,!o,e,_.test(a)&&nb(b.parentNode)||b),e},c.sortStable=t.split("").sort(A).join("")===t,c.detectDuplicates=!!k,l(),c.sortDetached=hb(function(a){return 1&a.compareDocumentPosition(m.createElement("div"))
}),hb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ib("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&hb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ib("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),hb(function(a){return null==a.getAttribute("disabled")})||ib(K,function(a,b,c){var d;
return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),eb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;
if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;
if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d
}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d
},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)
},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)
},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)
}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())
},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){for(var d;(d=n.inArray(c,h,d))>-1;)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h
},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c
},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];
d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;
return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}}),n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);
else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var M,L="undefined";for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)
}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)
},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)
}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()
},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])
},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;
for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1
}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);
if(r){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;h--;)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);
a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){for(b=(b||"").match(F)||[""],j=b.length;j--;)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));
i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;
l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}for(m=0;(h=o[m++])&&!b.isPropagationStopped();)b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)
}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));
return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g
},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a
}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)
}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),this[n.expando]=!0,void 0):new n.Event(a,b)
},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;
return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:(n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))}),void 0)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))
},teardown:function(){return n.nodeName(this,"form")?!1:(n.event.remove(this,"._submit"),void 0)}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):(n.event.add(this,"beforeactivate._change",function(a){var b=a.target;
Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)
};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=cb;
else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)
})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));
sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td,n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);
else Bb(a,f);return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if(f=a[q],f||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody)for(f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);
for(n.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;f=p[q++];)if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c))for(e=0;f=h[e++];)pb.test(f.type||"")&&c.push(f);return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);
j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);
b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&n.cleanData(vb(a,!1));a.firstChild;)a.removeChild(a.firstChild);
a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);
b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);
q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));
i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;
if(null==b){if(a=z.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Jb,Kb,Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)
},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"
}),function(){function j(){var b,c,g=z.getElementsByTagName("body")[0];g&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=h,g.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),g.removeChild(b),c=g=null)
}var b,c,d,e,f,g=z.createElement("div"),h="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=g.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,b=g=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;
var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=h,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c
},boxSizing:function(){return null==d&&j(),d},boxSizingReliable:function(){return null==e&&j(),e},pixelPosition:function(){return null==f&&j(),f},reliableMarginRight:function(){var b,c,d,e,f=!0;if(a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b)return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=h,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=i,e.style.marginRight=e.style.width="0",d.style.width="1px",f=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)
}return f}})}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c
}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c
}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);
return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)
}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);
return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];
return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]
},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;
if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};
return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);
(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));
(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)
}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))
},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null
}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)
}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0
}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)
})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):(n.removeAttr(a,b),void 0))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)
},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e
}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?(a.defaultValue=b,void 0):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);
return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)
},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1
}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;
n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;
if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)
}):this.each(function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(F)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)
}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");
var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};
var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)
},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){function w(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))
}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j)for(j={};b=Dc.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this
},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),w(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;
h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);
for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);return i=Nc(Jc,k,b,v),v.send=function(){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,w)}catch(a){if(!(2>t))throw a;w(-1,a)}},i?b.autostart!==!1&&v.send():w(-1,"No Transport"),v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")
}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))
});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)
})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)
};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))
}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;
return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();
else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a
}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))
},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]
},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);
var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;return n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};
"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;
if(f)return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}
}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dd;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e,void 0)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0
})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)
}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,function(){var a,b;n.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=n.uaMatch(navigator.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),n.browser=b
}(),n.version="4.0",n.long_version="4.0.37",n.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".","")+(b?b:"")},n.globalNamespace=n.uid("Foundry"),a[n.globalNamespace]=n,n.run=function(a){return n.isFunction(a)?a(n):null},n.initialize=function(b){n.initialized||(n.extend(n,b),"development"==n.environment&&(a.F=n),n.initialized=!0,FD40.module.execute())},FD40.jquery(n),"function"==typeof define&&define.amd&&define("jquery",[],function(){return n}),n}),FD40.plugin("lodash",function(a){function P(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;
return-1}function Q(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b]?0:-1;"number"!=c&&"string"!=c&&(c="object");var d="number"==c?b:f+b;return a=(a=a[c])&&a[d],"object"==c?a&&P(a,b)>-1?0:-1:a?0:-1}function R(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:f+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function S(a){return a.charCodeAt(0)}function T(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];
if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function U(a){var b=-1,c=a.length,d=a[0],e=a[c/2|0],f=a[c-1];if(d&&"object"==typeof d&&e&&"object"==typeof e&&f&&"object"==typeof f)return!1;var g=X();g["false"]=g["null"]=g["true"]=g.undefined=!1;var h=X();for(h.array=a,h.cache=g,h.push=R;++b<c;)h.push(a[b]);return h}function V(a){return"\\"+J[a]}function W(){return c.pop()||[]}function X(){return d.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}
}function Y(a){a.length=0,c.length<h&&c.push(a)}function Z(a){var b=a.cache;b&&Z(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,d.length<h&&d.push(a)}function $(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function _(a){function Cb(a){return a&&"object"==typeof a&&!Zb(a)&&mb.call(a,"__wrapped__")?a:new Db(a)}function Db(a,b){this.__chain__=!!b,this.__wrapped__=a}function Fb(a){function e(){if(c){var a=$(c);nb.apply(a,arguments)
}if(this instanceof e){var f=Hb(b.prototype),g=b.apply(f,a||arguments);return zc(g)?g:f}return b.apply(d,a||arguments)}var b=a[0],c=a[2],d=a[4];return Vb(e,a),e}function Gb(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=zc(a);if(!g)return a;var h=fb.call(a);if(!F[h])return a;var i=Bb[h];switch(h){case y:case z:return new i(+a);case B:case E:return new i(a);case D:return f=i(a.source,n.exec(a)),f.lastIndex=a.lastIndex,f}var j=Zb(a);if(b){var k=!d;d||(d=W()),e||(e=W());for(var l=d.length;l--;)if(d[l]==a)return e[l];
f=j?i(a.length):{}}else f=j?$(a):ec({},a);return j&&(mb.call(a,"index")&&(f.index=a.index),mb.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(j?Vc:nc)(a,function(a,g){f[g]=Gb(a,b,c,d,e)}),k&&(Y(d),Y(e)),f):f}function Hb(a){return zc(a)?sb(a):{}}function Ib(a,b,c){if("function"!=typeof a)return $d;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Eb.funcNames&&(d=!a.name),d=d||!Eb.funcDecomp,!d)){var e=kb.call(a);Eb.funcNames||(d=!o.test(e)),d||(d=s.test(e),Vb(a,d))
}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Jd(a,b)}function Jb(a){function m(){var a=h?f:this;if(d){var n=$(d);nb.apply(n,arguments)}if((e||j)&&(n||(n=$(arguments)),e&&nb.apply(n,e),j&&n.length<g))return c|=16,Jb([b,k?c:-4&c,n,null,f,g]);if(n||(n=arguments),i&&(b=a[l]),this instanceof m){a=Hb(b.prototype);
var o=b.apply(a,n);return zc(o)?o:a}return b.apply(a,n)}var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=1&c,i=2&c,j=4&c,k=8&c,l=b;return Vb(m,a),m}function Kb(a,b){var c=-1,d=Tb(),e=a?a.length:0,f=e>=g&&d===P,h=[];if(f){var i=U(b);i?(d=Q,b=i):f=!1}for(;++c<e;){var j=a[c];d(b,j)<0&&h.push(j)}return f&&Z(b),h}function Lb(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zb(h)||Yb(h))){b||(h=Lb(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]
}else c||g.push(h)}return g}function Mb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,i=typeof b;if(!(a!==a||a&&I[h]||b&&I[i]))return!1;if(null==a||null==b)return a===b;var j=fb.call(a),k=fb.call(b);if(j==w&&(j=C),k==w&&(k=C),j!=k)return!1;switch(j){case y:case z:return+a==+b;case B:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case D:case E:return a==R(b)}var l=j==x;if(!l){var m=mb.call(a,"__wrapped__"),n=mb.call(b,"__wrapped__");if(m||n)return Mb(m?a.__wrapped__:a,n?b.__wrapped__:b,c,d,e,f);
if(j!=C)return!1;var o=a.constructor,p=b.constructor;if(o!=p&&!(yc(o)&&o instanceof o&&yc(p)&&p instanceof p)&&"constructor"in a&&"constructor"in b)return!1}var q=!e;e||(e=W()),f||(f=W());for(var r=e.length;r--;)if(e[r]==a)return f[r]==b;var s=0;if(g=!0,e.push(a),f.push(b),l){if(r=a.length,s=b.length,g=s==r,g||d)for(;s--;){var t=r,u=b[s];if(d)for(;t--&&!(g=Mb(a[t],u,c,d,e,f)););else if(!(g=Mb(a[s],u,c,d,e,f)))break}}else lc(b,function(b,h,i){return mb.call(i,h)?(s++,g=mb.call(a,h)&&Mb(a[h],b,c,d,e,f)):void 0
}),g&&!d&&lc(a,function(a,b,c){return mb.call(c,b)?g=--s>-1:void 0});return e.pop(),f.pop(),q&&(Y(e),Y(f)),g}function Nb(a,b,c,d,e){(Zb(b)?Vc:nc)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zb(b))||Dc(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zb(j)?j:[]:Dc(j)?j:{}),d.push(b),e.push(j),l||Nb(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function Ob(a,b){return a+jb(Ab()*(b-a+1))
}function Pb(a,b,c){var d=-1,e=Tb(),f=a?a.length:0,h=[],i=!b&&f>=g&&e===P,j=c||i?W():h;if(i){var k=U(j);e=Q,j=k}for(;++d<f;){var l=a[d],m=c?c(l,d,a):l;(b?!d||j[j.length-1]!==m:e(j,m)<0)&&((c||i)&&j.push(m),h.push(l))}return i?(Y(j.array),Z(j)):c&&Y(j),h}function Qb(a){return function(b,c,d){var e={};c=Cb.createCallback(c,d,3);var f=-1,g=b?b.length:0;if("number"==typeof g)for(;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else nc(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function Rb(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,k=16&b,l=32&b;
if(!h&&!yc(a))throw new bb;k&&!c.length&&(b&=-17,k=c=!1),l&&!d.length&&(b&=-33,l=d=!1);var m=a&&a.__bindData__;if(m&&m!==!0)return m=$(m),m[2]&&(m[2]=$(m[2])),m[3]&&(m[3]=$(m[3])),!g||1&m[1]||(m[4]=e),!g&&1&m[1]&&(b|=8),!i||4&m[1]||(m[5]=f),k&&nb.apply(m[2]||(m[2]=[]),c),l&&qb.apply(m[3]||(m[3]=[]),d),m[1]|=b,Rb.apply(null,m);var n=1==b||17===b?Fb:Jb;return n([a,b,c,d,e,f])}function Sb(a){return ac[a]}function Tb(){var a=(a=Cb.indexOf)===sd?P:a;return a}function Ub(a){return"function"==typeof a&&gb.test(a)}function Wb(a){var b,c;
return a&&fb.call(a)==C&&(b=a.constructor,!yc(b)||b instanceof b)?(lc(a,function(a,b){c=b}),"undefined"==typeof c||mb.call(a,c)):!1}function Xb(a){return bc[a]}function Yb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&fb.call(a)==w||!1}function fc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),Gb(a,b,"function"==typeof c&&Ib(c,d,1))}function gc(a,b,c){return Gb(a,!0,"function"==typeof b&&Ib(b,c,1))}function hc(a,b){var c=Hb(a);return b?ec(c,b):c}function jc(a,b,c){var d;return b=Cb.createCallback(b,c,3),nc(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0
}),d}function kc(a,b,c){var d;return b=Cb.createCallback(b,c,3),oc(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function mc(a,b,c){var d=[];lc(a,function(a,b){d.push(b,a)});var e=d.length;for(b=Ib(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function oc(a,b,c){var d=_b(a),e=d.length;for(b=Ib(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function pc(a){var b=[];return lc(a,function(a,c){yc(a)&&b.push(c)}),b.sort()}function qc(a,b){return a?mb.call(a,b):!1}function rc(a){for(var b=-1,c=_b(a),d=c.length,e={};++b<d;){var f=c[b];
e[a[f]]=f}return e}function sc(a){return a===!0||a===!1||a&&"object"==typeof a&&fb.call(a)==y||!1}function tc(a){return a&&"object"==typeof a&&fb.call(a)==z||!1}function uc(a){return a&&1===a.nodeType||!1}function vc(a){var b=!0;if(!a)return b;var c=fb.call(a),d=a.length;return c==x||c==E||c==w||c==C&&"number"==typeof d&&yc(a.splice)?!d:(nc(a,function(){return b=!1}),b)}function wc(a,b,c,d){return Mb(a,b,"function"==typeof c&&Ib(c,d,2))}function xc(a){return ub(a)&&!vb(parseFloat(a))}function yc(a){return"function"==typeof a
}function zc(a){return!(!a||!I[typeof a])}function Ac(a){return Cc(a)&&a!=+a}function Bc(a){return null===a}function Cc(a){return"number"==typeof a||a&&"object"==typeof a&&fb.call(a)==B||!1}function Ec(a){return a&&"object"==typeof a&&fb.call(a)==D||!1}function Fc(a){return"string"==typeof a||a&&"object"==typeof a&&fb.call(a)==E||!1}function Gc(a){return"undefined"==typeof a}function Hc(a,b,c){var d={};return b=Cb.createCallback(b,c,3),nc(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Ic(a){var b=arguments,c=2;
if(!zc(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=Ib(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=$(arguments,1,c),f=-1,g=W(),h=W();++f<c;)Nb(a,e[f],d,g,h);return Y(g),Y(h),a}function Jc(a,b,c){var d={};if("function"!=typeof b){var e=[];lc(a,function(a,b){e.push(b)}),e=Kb(e,Lb(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=Cb.createCallback(b,c,3),lc(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function Kc(a){for(var b=-1,d=_b(a),e=d.length,f=c(e);++b<e;){var g=d[b];
f[b]=[g,a[g]]}return f}function Lc(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=Lb(arguments,!0,!1,1),g=zc(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=Cb.createCallback(b,c,3),lc(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Mc(a,b,c,d){var e=Zb(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=Hb(g)}return b&&(b=Cb.createCallback(b,d,4),(e?Vc:nc)(a,function(a,d,e){return b(c,a,d,e)})),c}function Nc(a){for(var b=-1,d=_b(a),e=d.length,f=c(e);++b<e;)f[b]=a[d[b]];
return f}function Oc(a){for(var b=arguments,d=-1,e=Lb(b,!0,!1,1),f=b[2]&&b[2][b[1]]===a?1:e.length,g=c(f);++d<f;)g[d]=a[e[d]];return g}function Pc(a,b,c){var d=-1,e=Tb(),f=a?a.length:0,g=!1;return c=(0>c?xb(0,f+c):c)||0,Zb(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Fc(a)?a.indexOf(b,c):e(a,b,c))>-1:nc(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Rc(a,b,c){var d=!0;b=Cb.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else nc(a,function(a,c,e){return d=!!b(a,c,e)
});return d}function Sc(a,b,c){var d=[];b=Cb.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else nc(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Tc(a,b,c){b=Cb.createCallback(b,c,3);var d=-1,e=a?a.length:0;if("number"!=typeof e){var g;return nc(a,function(a,c,d){return b(a,c,d)?(g=a,!1):void 0}),g}for(;++d<e;){var f=a[d];if(b(f,d,a))return f}}function Uc(a,b,c){var d;return b=Cb.createCallback(b,c,3),Wc(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0
}),d}function Vc(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Ib(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else nc(a,b);return a}function Wc(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Ib(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_b(a);d=e.length,nc(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function Zc(a,b){var d=$(arguments,2),e=-1,f="function"==typeof b,g=a?a.length:0,h=c("number"==typeof g?g:0);return Vc(a,function(a){h[++e]=(f?b:a[b]).apply(a,d)
}),h}function $c(a,b,d){var e=-1,f=a?a.length:0;if(b=Cb.createCallback(b,d,3),"number"==typeof f)for(var g=c(f);++e<f;)g[e]=b(a[e],e,a);else g=[],nc(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function _c(a,b,c){var d=-1/0,e=d;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zb(a))for(var f=-1,g=a.length;++f<g;){var h=a[f];h>e&&(e=h)}else b=null==b&&Fc(a)?S:Cb.createCallback(b,c,3),Vc(a,function(a,c,f){var g=b(a,c,f);g>d&&(d=g,e=a)});return e}function ad(a,b,c){var d=1/0,e=d;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zb(a))for(var f=-1,g=a.length;++f<g;){var h=a[f];
e>h&&(e=h)}else b=null==b&&Fc(a)?S:Cb.createCallback(b,c,3),Vc(a,function(a,c,f){var g=b(a,c,f);d>g&&(d=g,e=a)});return e}function cd(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=Cb.createCallback(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else nc(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function dd(a,b,c,d){var e=arguments.length<3;return b=Cb.createCallback(b,d,4),Wc(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function ed(a,b,c){return b=Cb.createCallback(b,c,3),Sc(a,function(a,c,d){return!b(a,c,d)
})}function fd(a,c,d){if(a&&"number"!=typeof a.length&&(a=Nc(a)),null==c||d)return a?a[Ob(0,a.length-1)]:b;var e=gd(a);return e.length=yb(xb(0,c),e.length),e}function gd(a){var b=-1,d=a?a.length:0,e=c("number"==typeof d?d:0);return Vc(a,function(a){var c=Ob(0,++b);e[b]=e[c],e[c]=a}),e}function hd(a){var b=a?a.length:0;return"number"==typeof b?b:_b(a).length}function id(a,b,c){var d;b=Cb.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else nc(a,function(a,c,e){return!(d=b(a,c,e))
});return!!d}function jd(a,b,d){var e=-1,f=Zb(b),g=a?a.length:0,h=c("number"==typeof g?g:0);for(f||(b=Cb.createCallback(b,d,3)),Vc(a,function(a,c,d){var g=h[++e]=X();f?g.criteria=$c(b,function(b){return a[b]}):(g.criteria=W())[0]=b(a,c,d),g.index=e,g.value=a}),g=h.length,h.sort(T);g--;){var i=h[g];h[g]=i.value,f||Y(i.criteria),Z(i)}return h}function kd(a){return a&&"number"==typeof a.length?$(a):Nc(a)}function md(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function nd(a){return Kb(a,Lb(arguments,!0,!0,1))
}function od(a,b,c){var d=-1,e=a?a.length:0;for(b=Cb.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function pd(a,b,c){var d=a?a.length:0;for(b=Cb.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function qd(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=Cb.createCallback(c,d,3);++g<f&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[0]:b;return $(a,0,yb(xb(0,e),f))}function rd(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=$c(a,c,d)),Lb(a,b)
}function sd(a,b,c){if("number"==typeof c){var d=a?a.length:0;c=0>c?xb(0,d+c):c||0}else if(c){var e=Bd(a,b);return a[e]===b?e:-1}return P(a,b,c)}function td(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=Cb.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return $(a,0,yb(xb(0,e-d),e))}function ud(){for(var a=[],b=-1,c=arguments.length,d=W(),e=Tb(),f=e===P,h=W();++b<c;){var i=arguments[b];(Zb(i)||Yb(i))&&(a.push(i),d.push(f&&i.length>=g&&U(b?a[b]:h)))}var j=a[0],k=-1,l=j?j.length:0,m=[];
a:for(;++k<l;){var n=d[0];if(i=j[k],(n?Q(n,i):e(h,i))<0){for(b=c,(n||h).push(i);--b;)if(n=d[b],(n?Q(n,i):e(a[b],i))<0)continue a;m.push(i)}}for(;c--;)n=d[c],n&&Z(n);return Y(d),Y(h),m}function vd(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=Cb.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[f-1]:b;return $(a,xb(0,f-e))}function wd(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?xb(0,d+c):yb(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function xd(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(pb.call(a,f--,1),e--);
return a}function yd(a,b,d){a=+a||0,d="number"==typeof d?d:+d||1,null==b&&(b=a,a=0);for(var e=-1,f=xb(0,hb((b-a)/(d||1))),g=c(f);++e<f;)g[e]=a,a+=d;return g}function zd(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=Cb.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),pb.call(a,d--,1),e--)}return f}function Ad(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=Cb.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:xb(0,b);return $(a,d)}function Bd(a,b,c,d){var e=0,f=a?a.length:e;
for(c=c?Cb.createCallback(c,d,1):$d,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function Cd(){return Pb(Lb(arguments,!0,!0))}function Dd(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=Cb.createCallback(c,d,3)),Pb(a,b,c)}function Ed(a){return Kb(a,$(arguments,1))}function Fd(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zb(c)||Yb(c))var d=d?Pb(Kb(d,c).concat(Kb(c,d))):c}return d||[]}function Gd(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,d=a?_c(bd(a,"length")):0,e=c(0>d?0:d);++b<d;)e[b]=bd(a,b);
return e}function Hd(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zb(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Id(a,b){if(!yc(b))throw new bb;return function(){return--a<1?b.apply(this,arguments):void 0}}function Jd(a,b){return arguments.length>2?Rb(a,17,$(arguments,2),null,b):Rb(a,1,null,null,b)}function Kd(a){for(var b=arguments.length>1?Lb(arguments,!0,!1,1):pc(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Rb(a[e],1,null,null,a)}return a}function Ld(a,b){return arguments.length>2?Rb(b,19,$(arguments,2),null,a):Rb(b,3,null,null,a)
}function Md(){for(var a=arguments,b=a.length;b--;)if(!yc(a[b]))throw new bb;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Nd(a,b){return b="number"==typeof b?b:+b||a.length,Rb(a,4,null,null,null,b)}function Od(a,c,d){var e,f,g,h,i,j,k,l=0,m=!1,n=!0;if(!yc(a))throw new bb;if(c=xb(0,c)||0,d===!0){var o=!0;n=!1}else zc(d)&&(o=d.leading,m="maxWait"in d&&(xb(c,d.maxWait)||0),n="trailing"in d?d.trailing:n);var p=function(){var d=c-(ce()-h);if(0>=d){f&&ib(f);var m=k;
f=j=k=b,m&&(l=ce(),g=a.apply(i,e),j||f||(e=i=null))}else j=ob(p,d)},q=function(){j&&ib(j),f=j=k=b,(n||m!==c)&&(l=ce(),g=a.apply(i,e),j||f||(e=i=null))};return function(){if(e=arguments,h=ce(),i=this,k=n&&(j||!o),m===!1)var b=o&&!j;else{f||o||(l=h);var d=m-(h-l),r=0>=d;r?(f&&(f=ib(f)),l=h,g=a.apply(i,e)):f||(f=ob(q,d))}return r&&j?j=ib(j):j||c===m||(j=ob(p,c)),b&&(r=!0,g=a.apply(i,e)),!r||j||f||(e=i=null),g}}function Pd(a){if(!yc(a))throw new bb;var c=$(arguments,1);return ob(function(){a.apply(b,c)},1)}function Qd(a,c){if(!yc(a))throw new bb;
var d=$(arguments,2);return ob(function(){a.apply(b,d)},c)}function Rd(a,b){if(!yc(a))throw new bb;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):f+arguments[0];return mb.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c.reset=function(){var a=c.cache,d=b?b.apply(this,arguments):f+arguments[0];mb.call(a,d)&&delete a[d]},c}function Sd(a){var b,c;if(!yc(a))throw new bb;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Td(a){return Rb(a,16,$(arguments,1))
}function Ud(a){return Rb(a,32,null,$(arguments,1))}function Vd(a,b,c){var d=!0,e=!0;if(!yc(a))throw new bb;return c===!1?d=!1:zc(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),G.leading=d,G.maxWait=b,G.trailing=e,Od(a,b,G)}function Wd(a,b){return Rb(b,16,[a])}function Xd(a){return function(){return a}}function Yd(a,b,c){var d=typeof a;if(null==a||"function"==d)return Ib(a,b,c);if("object"!=d)return ee(a);var e=_b(a),f=e[0],g=a[f];return 1!=e.length||g!==g||zc(g)?function(b){for(var c=e.length,d=!1;c--&&(d=Mb(b[e[c]],a[e[c]],null,!0)););return d
}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Zd(a){return null==a?"":R(a).replace(dc,Sb)}function $d(a){return a}function _d(a,b,c){var d=!0,e=b&&pc(b);b&&(c||e.length)||(null==c&&(c=b),f=Db,b=a,a=Cb,e=pc(b)),c===!1?d=!1:zc(c)&&"chain"in c&&(d=c.chain);var f=a,g=yc(f);Vc(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];nb.apply(g,arguments);var h=e.apply(a,g);if(d||b){if(c===h&&zc(h))return this;h=new f(h),h.__chain__=b}return h})
})}function ae(){return a._=eb,this}function be(){}function ee(a){return function(b){return b[a]}}function fe(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Ab();return yb(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return Ob(a,b)}function ge(a,b){if(a){var c=a[b];return yc(c)?a[b]():c}}function he(a,c,d){var e=Cb.templateSettings;a=R(a||""),d=ic({},d,e);var i,f=ic({},d.imports,e.imports),g=_b(f),h=Nc(f),n=0,o=d.interpolate||r,q="__p += '",s=O((d.escape||r).source+"|"+o.source+"|"+(o===p?m:r).source+"|"+(d.evaluate||r).source+"|$","g");
a.replace(s,function(b,c,d,e,f,g){return d||(d=e),q+=a.slice(n,g).replace(t,V),c&&(q+="' +\n__e("+c+") +\n'"),f&&(i=!0,q+="';\n"+f+";\n__p += '"),d&&(q+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),n=g+b.length,b}),q+="';\n";var u=d.variable,w=u;w||(u="obj",q="with ("+u+") {\n"+q+"\n}\n"),q=(i?q.replace(j,""):q).replace(k,"$1").replace(l,"$1;"),q="function("+u+") {\n"+(w?"":u+" || ("+u+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+q+"return __p\n}";
var x="\n/*\n//# sourceURL="+(d.sourceURL||"/lodash/template/source["+v++ +"]")+"\n*/";try{var y=J(g,"return "+q+x).apply(b,h)}catch(z){throw z.source=q,z}return c?y(c):(y.source=q,y)}function ie(a,b,d){a=(a=+a)>-1?a:0;var e=-1,f=c(a);for(b=Ib(b,d,1);++e<a;)f[e]=b(e);return f}function je(a){return null==a?"":R(a).replace(cc,Xb)}function ke(a){var b=++e;return R(null==a?"":a)+b}function le(a){return a=new Db(a),a.__chain__=!0,a}function me(a,b){return b(a),a}function ne(){return this.__chain__=!0,this}function oe(){return R(this.__wrapped__)
}function pe(){return this.__wrapped__}a=a?ab.defaults(K.Object(),a,ab.pick(K,u)):K;var c=a.Array,d=a.Boolean,h=a.Date,J=a.Function,L=a.Math,M=a.Number,N=a.Object,O=a.RegExp,R=a.String,bb=a.TypeError,cb=[],db=N.prototype,eb=a._,fb=db.toString,gb=O("^"+R(fb).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),hb=L.ceil,ib=a.clearTimeout,jb=L.floor,kb=J.prototype.toString,lb=Ub(lb=N.getPrototypeOf)&&lb,mb=db.hasOwnProperty,nb=cb.push,ob=a.setTimeout,pb=cb.splice,qb=cb.unshift,rb=function(){try{var a={},b=Ub(b=N.defineProperty)&&b,c=b(a,a,a)&&b
}catch(d){}return c}(),sb=Ub(sb=N.create)&&sb,tb=Ub(tb=c.isArray)&&tb,ub=a.isFinite,vb=a.isNaN,wb=Ub(wb=N.keys)&&wb,xb=L.max,yb=L.min,zb=a.parseInt,Ab=L.random,Bb={};Bb[x]=c,Bb[y]=d,Bb[z]=h,Bb[A]=J,Bb[C]=N,Bb[B]=M,Bb[D]=O,Bb[E]=R,Db.prototype=Cb.prototype;var Eb=Cb.support={};Eb.funcDecomp=!Ub(a.WinRTError)&&s.test(_),Eb.funcNames="string"==typeof J.name,Cb.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:p,variable:"",imports:{_:Cb}},sb||(Hb=function(){function b(){}return function(c){if(zc(c)){b.prototype=c;
var d=new b;b.prototype=null}return d||a.Object()}}());var Vb=rb?function(a,b){H.value=b,rb(a,"__bindData__",H)}:be,Zb=tb||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&fb.call(a)==x||!1},$b=function(a){var b,c=a,d=[];if(!c)return d;if(!I[typeof a])return d;for(b in c)mb.call(c,b)&&d.push(b);return d},_b=wb?function(a){return zc(a)?wb(a):[]}:$b,ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bc=rc(ac),cc=O("("+_b(bc).join("|")+")","g"),dc=O("["+_b(ac).join("")+"]","g"),ec=function(a,b,c){var d,e=a,f=e;
if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=Ib(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&I[typeof e])for(var k=-1,l=I[typeof e]&&_b(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},ic=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&I[typeof e])for(var j=-1,k=I[typeof e]&&_b(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);
return f},lc=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!I[typeof e])return f;b=b&&"undefined"==typeof c?b:Ib(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},nc=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!I[typeof e])return f;b=b&&"undefined"==typeof c?b:Ib(b,c,3);for(var g=-1,h=I[typeof e]&&_b(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},Dc=lb?function(a){if(!a||fb.call(a)!=C)return!1;var b=a.valueOf,c=Ub(b)&&(c=lb(b))&&lb(c);return c?a==c||lb(a)==c:Wb(a)}:Wb,Qc=Qb(function(a,b,c){mb.call(a,c)?a[c]++:a[c]=1
}),Xc=Qb(function(a,b,c){(mb.call(a,c)?a[c]:a[c]=[]).push(b)}),Yc=Qb(function(a,b,c){a[c]=b}),bd=$c,ld=Sc,ce=Ub(ce=h.now)&&ce||function(){return(new h).getTime()},de=8==zb(i+"08")?zb:function(a,b){return zb(Fc(a)?a.replace(q,""):a,b||0)};return Cb.after=Id,Cb.assign=ec,Cb.at=Oc,Cb.bind=Jd,Cb.bindAll=Kd,Cb.bindKey=Ld,Cb.chain=le,Cb.compact=md,Cb.compose=Md,Cb.constant=Xd,Cb.countBy=Qc,Cb.create=hc,Cb.createCallback=Yd,Cb.curry=Nd,Cb.debounce=Od,Cb.defaults=ic,Cb.defer=Pd,Cb.delay=Qd,Cb.difference=nd,Cb.filter=Sc,Cb.flatten=rd,Cb.forEach=Vc,Cb.forEachRight=Wc,Cb.forIn=lc,Cb.forInRight=mc,Cb.forOwn=nc,Cb.forOwnRight=oc,Cb.functions=pc,Cb.groupBy=Xc,Cb.indexBy=Yc,Cb.initial=td,Cb.intersection=ud,Cb.invert=rc,Cb.invoke=Zc,Cb.keys=_b,Cb.map=$c,Cb.mapValues=Hc,Cb.max=_c,Cb.memoize=Rd,Cb.merge=Ic,Cb.min=ad,Cb.omit=Jc,Cb.once=Sd,Cb.pairs=Kc,Cb.partial=Td,Cb.partialRight=Ud,Cb.pick=Lc,Cb.pluck=bd,Cb.property=ee,Cb.pull=xd,Cb.range=yd,Cb.reject=ed,Cb.remove=zd,Cb.rest=Ad,Cb.shuffle=gd,Cb.sortBy=jd,Cb.tap=me,Cb.throttle=Vd,Cb.times=ie,Cb.toArray=kd,Cb.transform=Mc,Cb.union=Cd,Cb.uniq=Dd,Cb.values=Nc,Cb.where=ld,Cb.without=Ed,Cb.wrap=Wd,Cb.xor=Fd,Cb.zip=Gd,Cb.zipObject=Hd,Cb.collect=$c,Cb.drop=Ad,Cb.each=Vc,Cb.eachRight=Wc,Cb.extend=ec,Cb.methods=pc,Cb.object=Hd,Cb.select=Sc,Cb.tail=Ad,Cb.unique=Dd,Cb.unzip=Gd,_d(Cb),Cb.clone=fc,Cb.cloneDeep=gc,Cb.contains=Pc,Cb.escape=Zd,Cb.every=Rc,Cb.find=Tc,Cb.findIndex=od,Cb.findKey=jc,Cb.findLast=Uc,Cb.findLastIndex=pd,Cb.findLastKey=kc,Cb.has=qc,Cb.identity=$d,Cb.indexOf=sd,Cb.isArguments=Yb,Cb.isArray=Zb,Cb.isBoolean=sc,Cb.isDate=tc,Cb.isElement=uc,Cb.isEmpty=vc,Cb.isEqual=wc,Cb.isFinite=xc,Cb.isFunction=yc,Cb.isNaN=Ac,Cb.isNull=Bc,Cb.isNumber=Cc,Cb.isObject=zc,Cb.isPlainObject=Dc,Cb.isRegExp=Ec,Cb.isString=Fc,Cb.isUndefined=Gc,Cb.lastIndexOf=wd,Cb.mixin=_d,Cb.noConflict=ae,Cb.noop=be,Cb.now=ce,Cb.parseInt=de,Cb.random=fe,Cb.reduce=cd,Cb.reduceRight=dd,Cb.result=ge,Cb.runInContext=_,Cb.size=hd,Cb.some=id,Cb.sortedIndex=Bd,Cb.template=he,Cb.unescape=je,Cb.uniqueId=ke,Cb.all=Rc,Cb.any=id,Cb.detect=Tc,Cb.findWhere=Tc,Cb.foldl=cd,Cb.foldr=dd,Cb.include=Pc,Cb.inject=cd,_d(function(){var a={};
return nc(Cb,function(b,c){Cb.prototype[c]||(a[c]=b)}),a}(),!1),Cb.first=qd,Cb.last=vd,Cb.sample=fd,Cb.take=qd,Cb.head=qd,nc(Cb,function(a,b){var c="sample"!==b;Cb.prototype[b]||(Cb.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new Db(f,e):f})}),Cb.VERSION="2.4.1",Cb.prototype.chain=ne,Cb.prototype.toString=oe,Cb.prototype.value=pe,Cb.prototype.valueOf=pe,Vc(["join","pop","shift"],function(a){var b=cb[a];Cb.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);
return a?new Db(c,a):c}}),Vc(["push","reverse","sort","unshift"],function(a){var b=cb[a];Cb.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Vc(["concat","slice","splice"],function(a){var b=cb[a];Cb.prototype[a]=function(){return new Db(b.apply(this.__wrapped__,arguments),this.__chain__)}}),Cb}var b,c=[],d=[],e=0,f=+new Date+"",g=75,h=40,i=" 	\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",j=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,n=/\w*$/,o=/^\s*function[ \n\r\t]+\w/,p=/<%=([\s\S]+?)%>/g,q=RegExp("^["+i+"]*0+(?=.$)"),r=/($^)/,s=/\bthis\b/,t=/['\n\r\t\u2028\u2029\\]/g,u=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],v=0,w="[object Arguments]",x="[object Array]",y="[object Boolean]",z="[object Date]",A="[object Function]",B="[object Number]",C="[object Object]",D="[object RegExp]",E="[object String]",F={};
F[A]=!1,F[w]=F[x]=F[y]=F[z]=F[B]=F[C]=F[D]=F[E]=!0;var G={leading:!1,maxWait:0,trailing:!1},H={configurable:!1,enumerable:!1,value:null,writable:!1},I={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},J={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=I[typeof window]&&window||this,L=I[typeof exports]&&exports&&!exports.nodeType&&exports,M=I[typeof module]&&module&&!module.nodeType&&module,O=(M&&M.exports===L&&L,I[typeof global]&&global);!O||O.global!==O&&O.window!==O||(K=O);
var ab=a._=_();a.each(ab,function(b,c){Object.hasOwnProperty.call(ab,b)&&!/VERSION/.test(name)&&(a[b]||(a[b]=c))})}),FD40.plugin("bootstrap3",function(a){var b=a;if(window["Foundry/Bootstrap"])throw new Error("An instance of Bootstrap has been initialized before this.");window["Foundry/Bootstrap"]={version:"3.0.3",foundry:b},+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};
for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(b),+function(a){"use strict";var b='[data-bs-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed.bs.alert").remove()}var c=a(this),d=c.attr("data-target");
d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));var e=a(d);b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one(a.support.transition.end,f).emulateTransitionEnd(150):f())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this
},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(b),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-bs-toggle="buttons"]'),b=!0;
if(a.length){var c=this.$element.find("input");"radio"===c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active")),b&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this
},a(document).on("click.bs.button.data-api","[data-bs-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(b),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))
};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)
}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;
if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;
e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;
e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(b){var d,c=a(this),e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),c.data()),g=c.attr("data-bs-slide-to");g&&(f.interval=!1),e.carousel(f),(g=c.attr("data-bs-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()
}),a(window).on("load",function(){a('[data-bs-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(b),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");
if(this.$element.triggerHandler(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);
var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.triggerHandler(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this
},a(document).on("click.bs.collapse.data-api","[data-bs-toggle=collapse]",function(b){var d,c=a(this),e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":c.data(),i=c.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-bs-toggle=collapse][data-parent="'+i+'"]').not(c).addClass("collapsed"),c[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(b),+function(a){"use strict";function e(){a(b).remove(),a(c).each(function(b){var c=f(a(this));
c.hasClass("open")&&(c.triggerHandler(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function f(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var b=".dropdown-backdrop",c="[data-bs-toggle=dropdown]",d=function(b){a(b).on("click.bs.dropdown",this.toggle)};d.prototype.toggle=function(b){var c=a(this);if(!c.is(".disabled, :disabled")){var d=f(c),g=d.hasClass("open");
if(e(),!g){if("ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",e),d.triggerHandler(b=a.Event("show.bs.dropdown")),b.isDefaultPrevented())return;d.toggleClass("open").trigger("shown.bs.dropdown"),c.focus()}return!1}},d.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=f(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(c).focus(),d.click();
var h=a("[role=menu] li:not(.divider):visible a",e);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),e=c.data("bs.dropdown");e||c.data("bs.dropdown",e=new d(this)),"string"==typeof b&&e[b].call(c)})},a.fn.dropdown.Constructor=d,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown_ form, .dropdown-static",function(a){a.stopPropagation()
}).on("click.bs.dropdown.data-api",c,d.prototype.toggle).on("keydown.bs.dropdown.data-api",c+", [role=menu]",d.prototype.keydown)}(b),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});
this.$element.triggerHandler(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-bs-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)
}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.triggerHandler(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())
},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")
})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))
},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);
f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal.bs",function(){a(document.body).addClass("modal-open")
}).on("hidden.bs.modal",".modal.bs",function(){a(document.body).removeClass("modal-open")})}(b),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);
for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()
},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()
},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.triggerHandler(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d.split("-")[0]),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);
var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)
}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),0===["top","bottom"].indexOf(b.split("-")[0])){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")
}0===["left","right"].indexOf(b.split("-")[0])&&this.replaceArrow(j-f,j,"top"),c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function e(){"in"!=b.hoverState&&c.detach()}var b=this,c=this.tip(),d=a.Event("hide.bs."+this.type);return this.$element.triggerHandler(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?c.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)
},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"left-top"==a?{top:b.top,left:b.left-c}:"left-bottom"==a?{top:b.top+b.height-d,left:b.left-c}:"right-top"==a?{top:b.top,left:b.left+b.width}:"right-bottom"==a?{top:b.top+b.height-d,left:b.left+b.width}:"top-left"==a?{top:b.top-d,left:b.left}:"top-right"==a?{top:b.top-d,left:b.left+b.width-c}:"bottom-left"==a?{top:b.top+b.height,left:b.left}:"bottom-right"==a?{top:b.top+b.height,left:b.left+b.width-c}:"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}
},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1
},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()
})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(b),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div id="es" class="o-popover--es"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS
},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)
},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(b),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);
this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);
{var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})}},b.prototype.process=function(){var g,a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget;
if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;
e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-bs-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(b),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});
if(b.triggerHandler(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");
f?e.one(a.support.transition.end,g).emulateTransitionEnd(150):g(),e.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(b),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()
};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;
this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this
},a(window).on("load",function(){a('[data-bs-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(b),!function(a){var b=function(b,c){if(this.$element=a(b),this.$note=a('<div class="alert"></div>'),this.options=a.extend(!0,a.fn.notify.defaults,c),this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in"),this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success"),this.options.message||""===this.$element.data("message")?"object"==typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message")),this.options.closable)var d=a('<a class="close pull-right" href="javascript: void(0);">&times;</a>');
return a(d).on("click",a.proxy(onClose,this)),this.$note.prepend(d),this};onClose=function(){this.options.onClose(),a(this.$note).remove(),this.options.onClosed()},b.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",a.proxy(onClose,this)),this.$element.append(this.$note),this.$note.alert()},b.prototype.hide=function(){this.options.fadeOut.enabled?this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",a.proxy(onClose,this)):onClose.call(this)
},a.fn.notify=function(a){return new b(this,a)},a.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3e3},message:null,onClose:function(){},onClosed:function(){}}}(a)}),FD40.plugin("utils",function(a){!function(){var b=function(a){this.items=a,this.start=0,this.end=a.length-1,this.node=null,this.stopped=!1};a.extend(b.prototype,{isLooping:function(){return this.stopped?!1:Math.abs(this.start-this.end)>1?(this.node=Math.floor((this.start+this.end)/2),!0):!1},flip:function(a){a?this.end=this.node-1:this.start=this.node+1
},stop:function(){this.stop=!0}}),a.Bloop=function(a){return new b(a)}}(),a.Chunk=function(b,c){a.isArray(b)&&(b=[]);var c=a.extend({},{size:256,every:1e3},c),d=a.extend(a.Deferred(),{size:c.size,every:c.every,from:0,to:b.length,process:function(a){return d.process.fn=a,d},chunkStart:function(a){return d.chunkStart.fn=a,d},chunkEnd:function(a){return d.chunkEnd.fn=a,d},start:function(){return d.stopped=!1,d.iterate(),d},iterate:function(){if(!d.stopped){var a=d.process.fn;if(a){d.to=from.size+d.size;var c=b.length;
d.to>c&&(d.to=c);var e={from:d.from,to:d.to};for(d.chunkStart.fn&&d.chunkStart.fn.call(d,e.from,e.to);d.from<d.to&&!d.stopped;)a.call(d,b[d.from]),d.from++;return d.chunkEnd.fn&&d.chunkEnd.fn.call(d,e.from,e.to),d.completed=d.from>=b.length-1,d.completed?d.resolveWith(d):d.nextIteration=setTimeout(d.iterate,d.every),d}}},pause:function(){return d.stopped=!0,clearTimeout(d.nextIteration),d},restart:function(){return"rejected"===d.state()?d:(d.from=0,d.start(),d)},stop:function(){return d.pause(),d.rejectWith(d,[d.from]),d
}});return d},function(b){var c=function(){this.lastId=0};c.prototype.queue=function(c){var d=this,e=a.uid();return d.lastId=e,function(){if(d.lastId===e){var a=arguments,a=b(c)?c.apply(this,a):a;return b(d.fn)?d.fn.apply(this,a):a}}},a.Enqueue=function(d){var e=new c;b(d)&&(e.fn=d);var f=a.proxy(e.queue,e);return f.reset=function(){e.lastId=0},f}}(a.isFunction),function(){var b={error:"error",warning:"warn",success:"log",info:"info"};a.Exception=function(c){var d=arguments,e=1==d.length,f=3==d.length;return c=a.isPlainObject(c)?c:{type:e?"error":d[0],message:e?d[0]:d[1]},f&&a.extend(c,d[2]),"development"==a.environment&&console[b[c.type]](c.message,c),c
}}(),a.IE=function(){var a=navigator.userAgent;if(a.match(/MSIE 9/))return 9;if(a.match(/MSIE 10/))return 10;if(a.match(/rv:11/i))return 11;for(var b,c=3,d=document.createElement("div"),e=d.getElementsByTagName("i");c++,d.innerHTML="<!--[if gt IE "+c+"]><i></i><![endif]-->",e[0];);return c>4?c:b}(),a.Task=function(b){var c=a.extend(a.Deferred(),{data:{},list:[],add:function(b){var d=a.extend(a.Deferred(),{name:b,item:d});return c.list.push(d),d},process:function(){return c._promise||(c._promise=a.when.apply(a,c.list).then(c.resolve,c.reject,c.progress)),c
}},b);return c},function(){var b=function(a){this.threads=[],this.threadCount=0,this.threadLimit=a.threadLimit||1,this.threadDelay=a.threadDelay||0};a.extend(b.prototype,{add:function(b,c){a.isFunction(b)&&(b.type=c||"normal","deferred"==c&&(b.deferred=a.Deferred().always(a.proxy(this.next,this))),this.threads.push(b),this.run())},addDeferred:function(a){return this.add(a,"deferred")},next:function(){this.threadCount--,this.run()},run:function(){var a=this;setTimeout(function(){if(!(a.threads.length<1)&&a.threadCount<a.threadLimit){a.threadCount++;
var b=a.threads.shift();try{b.call(b,b.deferred)}catch(c){console.error(c)}!b.deferred&&a.next()}},a.threadDelay)}}),a.Threads=function(a){return new b(a)}}(),a.callback=function(b,c){if(a.isFunction(b)){var d=a.uid("cb");return window[d]=function(){return c||delete window[d],b.apply(null,arguments)},d}if(a.isString(b))switch(b){case"destroy":var d=c;delete window[d]}},a.fn.checkList=function(b){var c={checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},b=a.extend({},c,b),d=this,e=d.find(b.checkbox),f=d.find(b.masterCheckbox),g=!1,h=function(){if(!g){var a=e.filter(":checked"),c=e.not(":checked");
a.length<1&&f.removeAttr("checked"),a.length==e.length&&f.prop("checked",!0),b.change.call(d,a,c)}};return e.checked(function(){b.check.apply(d),h()},function(){b.uncheck.apply(d),h()}),f.checked(function(){g=!0,e.checked(!0),g=!1,h()},function(){g=!0,e.checked(!1),g=!1,h()}),h(),this},a.fn.switchClass=function(b,c){var c=c||"-",d=b.split(c)[0]+c,e=d.length;return this.each(function(){var c=a(this),f=a.map((c.attr("class")||"").split(" "),function(a){return a.slice(0,e)==d||""==a?null:a});f.push(b),c.attr("class",f.join(" "))
})},a.fn.activateClass=function(b){return this.prevObject.removeClass(b),a(this).addClass(b)},function(){var b=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},c=function(a){return d(b(a))},d=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!=d?255*e/d:0,0!=b.s?(b.h=a.r==d?(a.g-a.b)/e:a.g==d?2+(a.b-a.r)/e:4+(a.r-a.g)/e,b.h*=60):b.h=360,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},e=function(a){var b={},c=a.h,d=255*a.s/100,e=255*a.b/100;
if(0==d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360==c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},f=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)}),c.join("")},g=function(a){return f(e(a))},h=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}
},i=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},j=function(a){var b=6-a.length;if(3==b)for(var d,c=a.split(""),a="";d=c.shift();)a+=d+d;else for(;b--;)a="0"+a;return a.replace(/[^A-Fa-f0-9]/g,"0"),a};a.extend(a,{hexToRgb:b,hexToHsb:c,rgbToHsb:d,hsbToRgb:e,rgbToHex:f,hsbToHex:g,fixHsb:h,fixRgb:i,fixHex:j})}(),a.fn.htmlData=function(b,c){var e,c=void 0===c?!0:c,d=new RegExp("^data-"+(b?b+"-":"")+"(.*)","i"),f={};return this.length<=0?{}:(a.each(this[0].attributes,function(a,b){if(b.specified&&(e=b.name.match(d))&&e[1])if(c){var a,h,g=e[1].split("-"),i=f;
for(max=g.length-1,a=0;max>=a;a++)h=g[a],a==max?i[h]=b.value:(!i[h]&&(i[h]={}),i=i[h])}else f[e[1]]=b.value}),f)},a.fn.defineData=function(a,b){return void 0===this.data(a)&&this.data(a,b),this},a.deletes=function(b,c){a.each(c,function(a,c){delete b[c]})},a.fn.disabled=function(a){return void 0===a?this.is(":disabled")||this.hasClass("disabled"):this.prop("disabled",!!a).toggleClass("disabled",!!a)},a.fn.enabled=function(a){return void 0===a?!this.disabled():this.disabled(!a)},a.distinct=function(b){var c=a.unique;
if(!(b.length<1)){if(b[0].nodeType)return c.apply(this,arguments);if("object"==typeof b[0]){var d=Math.random(),e=[];return a.each(b,function(a){b[a][d]||(e.push(b[a]),b[a][d]=!0)}),a.each(e,function(a){delete e[a][d]}),e}return a.grep(b,function(c,d){return a.inArray(c,b)===d})}},a.fn.tagName=function(){return(this[0]||{}).tagName},a.create=function(b){return a(document.createElement(b))},a.fn.editable=function(b){return a.isUndefined(b)?"true"===this.prop("contenteditable"):(this.prop("contenteditable",b),b===!1&&this.removeAttr("contenteditable"),this)
},a.download=function(b){return a("<iframe>").hide().appendTo("body").bind("load",function(){a(this).remove()}).attr("src",b)},a.ns=function(a,b){return a.split(" ").join(b+" ")+b},a.getPointerPosition=function(a){return a.type.match("touch")?{x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}:{x:a.pageX,y:a.pageY}},function(){var b="___eventable",c=["on","off","fire"],d=function(a){return a.split(".")[0]},e=function(a){this.fnList={},this.events={},this.mode=a};a.extend(e.prototype,{createEvent:function(b){return this.events[b]=a.Callbacks(this.mode)
},on:function(b,c){if(!b||!a.isFunction(c))return this;var e=this.fnList;(e[b]||(e[b]=[])).push(c);var f=d(b);return(this.events[f]||this.createEvent(f)).add(c),this},off:function(b){if(!b)return this;var c=d(b),e=this.events[c];if(!e)return this;var f=function(b){a.each(b,function(a,b){e.remove(b)})};return c!==b?a.each(this.fnList,function(a,b){a.indexOf(c)>-1&&f(b)}):f(this.fnList[b]),this},fire:function(b){var c=this.events[b];if(c)return c.fire.apply(c,a.makeArray(arguments).slice(1)),this},destroy:function(){for(name in this.events)this.events[name].disable()
}}),a.eventable=function(d,f){var g=d[b];return g&&"destroy"===f?(g.destroy(),a.deletes(d,c),delete d[b]):(g=d[b]=new e(f),d.on=a.proxy(g.on,g),d.off=a.proxy(g.off,g),d.fire=a.proxy(g.fire,g),d)}}(),a.fn.checkList=function(b){var c={checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},b=a.extend({},c,b),d=this,e=d.find(b.checkbox),f=d.find(b.masterCheckbox),g=!1,h=function(){if(!g){var a=e.filter(":checked"),c=e.not(":checked");a.length<1&&f.removeAttr("checked"),a.length==e.length&&f.prop("checked",!0),b.change.call(d,a,c)
}};return e.checked(function(){b.check.apply(d),h()},function(){b.uncheck.apply(d),h()}),f.checked(function(){g=!0,e.checked(!0),g=!1,h()},function(){g=!0,e.checked(!1),g=!1,h()}),h(),this},a.fn.checked=function(b,c){return arguments.length<1?this.is(":checked"):(this.each(function(){var e=a(this);return"boolean"==typeof b?(e.attr("checked",b).trigger("change"),void 0):((e.is("input[type=checkbox]")||e.is("input[type=radio]"))&&e.off("change.checked").on("change.checked",function(){try{return e.is(":checked")?b.apply(e):c.apply(e)
}catch(a){}}),void 0)}),this)},a.fn.locate=function(b){var c="data";return a.each(this[0].attributes,function(a,b){return b.specified&&"$"===b.value?(c=b.name,!1):void 0}),this.find("["+c+"-"+b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+"]")},function(){var b=["overflow","overflow-x","overflow-y"];a.fn.noscroll=function(c){return void 0===c&&(c=!0),this.each(function(){var d=a(this),e=d.data("noscroll");!e&&c&&(e={},a.each(b,function(a,b){e[b]=d.css(b)}),d.data("noscroll",e)),c?a.each(b,function(a,b){d.css(b,"hidden")
}):e&&d.css(e)})}}(),a.fn.visible=function(b){var c=a(this),d=a(window);if(!(c.length<1)){var e=d.scrollTop(),f=e+d.height(),g=c.offset().top,h=g+c.height(),i=b===!0?h:g,j=b===!0?g:h;return f>=j&&i>=e}},a.fn.where=a.fn.filterBy=function(a,b,c){var c=c||"=",d="[data-"+a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+c+b+"]";return this.filter(d)},a.fn.checked=function(b,c){return arguments.length<1?this.is(":checked"):(this.each(function(){var e=a(this);return"boolean"==typeof b?(e.attr("checked",b).trigger("change"),void 0):((e.is("input[type=checkbox]")||e.is("input[type=radio]"))&&e.off("change.checked").on("change.checked",function(){try{return e.is(":checked")?b.apply(e):c.apply(e)
}catch(a){}}),void 0)}),this)},a.fn.selectAll=function(){return this.each(function(){this.select()})},a.fn.unselect=function(){return this.each(function(){var a=this,b=a.value;a.value+=" ",a.value=b})},a.fn.toObject=a.fn.serializeObject=function(){var b={};return a.each(a(this).serializeArray(),function(c,d){b.hasOwnProperty(d.name)?(a.isArray(b[d.name])||(b[d.name]=[b[d.name]]),b[d.name].push(d.value)):b[d.name]=d.value}),b},a.fn.toJSON=a.fn.serializeJSON=function(){return JSON.stringify(a(this).serializeObject())
},a.sanitizeHTML=function(b){return a(a.parseHTML(b,document,!0)).toHTML()},a.toHTML=function(b){return a("<div>").html(b).html()},a.fn.toHTML=function(){return a.toHTML(this.clone())},a.toXHTML=function(a,b){var c=a.innerHTML?String(a.innerHTML):a,d=c.match(/(<.+[^>])/g);if(d)for(var e=0;e<d.length;e+=1){var f,g=d[e],h=/\=[a-zA-Z\.\:\[\]_\(\)\&\$\%#\@\!0-9\/]+[?\s+|?>]/g;if(d[e]=d[e].replace(/([<|<\/].+?\w+).+[^>]/,function(a){return a}),f=d[e].match(h))for(var i=0,j=f.length;j>i;){var k=/(\=)([a-zA-Z\.\:\[\]_\(\)\&\$\%#\@\!0-9\/]+)?([\s+|?>])/g,l=function(){var a=Array.prototype.slice.call(arguments);
return'="'+(b?a[2]:a[2].toLowerCase())+'"'+a[3]};d[e]=d[e].replace(f[i],f[i].replace(k,l)),i+=1}c=c.replace(g,d[e])}return c},a.fn.xhtml=function(){return a.IE?a.toXHTML(this[0]):this.html()},a.buildHTML=function(b,c){if(b instanceof a)return b;var d=document;if(window.CloudFlare){var e=a.buildHTML.iframe;if(!e||!e.contentDocument){var e=a.buildHTML.iframe=document.createElement("iframe");e.style.display="none",document.body.appendChild(e)}d=e.contentDocument}var b=a.trim(b),f=[],g=a.buildFragment([b],d,f),h=a.merge([],g.childNodes);
if(!c&&f.length>0){var i=d.createElement("script");i.text="try{"+a.callback(function(){a(f).remove()})+"();}catch(e){}";for(var k,l,j=h.length-1;(k=h[j--])&&("SCRIPT"===k.nodeName?l=h.push(i):1===k.nodeType&&(l=k.appendChild(i)),!l););l||h.push(i),f.push(i)}return a(h)},a.intersects=function(b,c){return a.isArray(c)&&(c={top:c.y,left:c.x,bottom:c.y,right:c.x}),c.left<=b.right&&b.left<=c.right&&c.top<=b.bottom&&b.top<=c.bottom},a.fn.intersectsWith=function(b,c,d,e){var f=this.offset(),g={top:f.top,left:f.left,bottom:f.top+(sourceHeight=this.height()),right:f.left+(sourceWidth=this.width()),width:sourceWidth,height:sourceHeight},h={top:b,left:c,bottom:b+(e||(e=0)),right:c+(d||(d=0)),width:d,height:e};
return a.intersects(g,h)?{reference:g,subject:h}:!1},a.isDeferred=function(b){return b&&a.isFunction(b.always)},a.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.rotateNumber=function(a,b,c,d){return void 0===d&&(d=0),a+=d,b>a?a+=c+1:a>c&&(a-=c+1),a},a.regExpEscape=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.remap=function(b,c,d){return a.each(d,function(a,d){b[d]=c[d]}),obj},function(){var b=a.Ajax=function(c){c.autostart=!1;var d=a.ajax(c);
return b.queue.addDeferred(function(a){d.send(),setTimeout(a.resolve,b.interval)}),d};b.queue=a.Threads({threadLimit:1}),b.interval=1200,b.interval=0}(),function(){a.fn.addTransitoryClass=function(a,b){var c=this.addClass(a);return setTimeout(function(){c.removeClass(a)},b||1),this};var b=function(a,b,c){var d=this;return setTimeout(function(){d[a+"Class"](b)},c||50),this};a.fn.addClassAfter=function(a,c){return b.call(this,"add",a,c)},a.fn.removeClassAfter=function(a,c){return b.call(this,"remove",a,c)};var c=function(a,b,c,d){var e=a?"-in":"-out";
return this.addTransitoryClass(b.replace(/ /g,e+" ")+e,c||1e3)[(a?"add":"remove")+"ClassAfter"](b),d&&setTimeout(d,c),this};a.fn.addTransitionClass=function(a,b,d){return c.call(this,!0,a,b,d)},a.fn.removeTransitionClass=function(a,b,d){return c.call(this,!1,a,b,d)}}(),a.trimSeparators=function(b,c,d){var e=c;return b=b.replace(new RegExp("^["+e+"\\s]+|["+e+",\\s]+$","g"),"").replace(new RegExp(e+"["+e+"\\s]*"+e,"g"),e).replace(new RegExp("[\\s]+"+e,"g"),e).replace(new RegExp(e+"[\\s]+","g"),e),d&&(b=a.distinct(b.split(e)).join(e)),b
},a.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".","")+(b?b:"")}}),FD40.plugin("uri",function(a){a.isUrl=function(a){var b=/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)};var b=function(a){"use strict";var b=function(a){var c,d,e,f,g,h,b=[];if("undefined"==typeof a||null===a||""===a)return b;for(0===a.indexOf("?")&&(a=a.substring(1)),d=a.toString().split(/[&;]/),c=0;c<d.length;c++)e=d[c],f=e.split("="),g=f[0],h=-1===e.indexOf("=")?null:null===f[1]?"":f[1],b.push([g,h]);
return b},c=b(a),d=function(){var b,d,a="";for(b=0;b<c.length;b++)d=c[b],a.length>0&&(a+="&"),a+=null===d[1]?d[0]:d.join("=");return a.length>0?"?"+a:a},e=function(a){return a=decodeURIComponent(a),a=a.replace("+"," ")},f=function(a){var b,d;for(d=0;d<c.length;d++)if(b=c[d],e(a)===e(b[0]))return b[1]},g=function(a){var d,f,b=[];for(d=0;d<c.length;d++)f=c[d],e(a)===e(f[0])&&b.push(f[1]);return b},h=function(a,b){var f,g,h,i,d=[];for(f=0;f<c.length;f++)g=c[f],h=e(g[0])===e(a),i=e(g[1])===e(b),(1===arguments.length&&!h||2===arguments.length&&!h&&!i)&&d.push(g);
return c=d,this},i=function(a,b,d){return 3===arguments.length&&-1!==d?(d=Math.min(d,c.length),c.splice(d,0,[a,b])):arguments.length>0&&c.push([a,b]),this},j=function(a,b,d){var g,j,f=-1;if(3===arguments.length){for(g=0;g<c.length;g++)if(j=c[g],e(j[0])===e(a)&&decodeURIComponent(j[1])===e(d)){f=g;break}h(a,d).addParam(a,b,f)}else{for(g=0;g<c.length;g++)if(j=c[g],e(j[0])===e(a)){f=g;break}h(a),i(a,b,f)}return this};return{getParamValue:f,getParamValues:g,deleteParam:h,addParam:i,replaceParam:j,toString:d}},c=function(a){"use strict";
var d=!1,e=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi,f=function(a){for(var b={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],e={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},f=b[d?"strict":"loose"].exec(a),g={},h=14;h--;)g[c[h]]=f[h]||"";
return g[e.name]={},g[c[12]].replace(e.parser,function(a,b,c){b&&(g[e.name][b]=c)}),g},g=f(a||""),h=new b(g.query),i=function(a){return"undefined"!=typeof a&&(g.protocol=a),g.protocol},j=null,k=function(a){return"undefined"!=typeof a&&(j=a),null===j?-1!==g.source.indexOf("//"):j},l=function(a){return"undefined"!=typeof a&&(g.userInfo=a),g.userInfo},m=function(a){return"undefined"!=typeof a&&(g.host=a),g.host},n=function(a){return"undefined"!=typeof a&&(g.port=a),g.port},o=function(a){return"undefined"!=typeof a&&(g.path=a),g.path
},p=function(a){return"undefined"!=typeof a&&(h=new b(a)),h},q=function(a){return"undefined"!=typeof a&&(g.anchor=a),g.anchor},r=function(a){return i(a),this},s=function(a){return k(a),this},t=function(a){return l(a),this},u=function(a){return m(a),this},v=function(a){return n(a),this},w=function(a){return o(a),this},x=function(a){return p(a),this},y=function(a){return q(a),this},z=function(a){return p().getParamValue(a)},A=function(a){return p().getParamValues(a)},B=function(a,b){return 2===arguments.length?p().deleteParam(a,b):p().deleteParam(a),this
},C=function(a,b,c){return 3===arguments.length?p().addParam(a,b,c):p().addParam(a,b),this},D=function(a,b,c){return 3===arguments.length?p().replaceParam(a,b,c):p().replaceParam(a,b),this},E=function(a){if(void 0===a)return g.path;if("/"==a.substring(0,1))return g.path=a;var b=g.path.split("/"),c=a.split("/");""===b.slice(-1)[0]&&b.pop();for(var d;d=c.shift();)switch(d){case"..":b.length>1&&b.pop();break;case".":break;default:b.push(d)}return g.path=b.join("/"),this},F=function(){var a="",b=function(a){return null!==a&&""!==a
};return b(i())?(a+=i(),i().indexOf(":")!==i().length-1&&(a+=":"),a+="//"):k()&&b(m())&&(a+="//"),b(l())&&b(m())&&(a+=l(),l().indexOf("@")!==l().length-1&&(a+="@")),b(m())&&(a+=m(),b(n())&&(a+=":"+n())),b(o())?a+=o():b(m())&&(b(p().toString())||b(q()))&&(a+="/"),b(p().toString())&&(0!==p().toString().indexOf("?")&&(a+="?"),a+=p().toString()),b(q())&&(0!==q().indexOf("#")&&(a+="#"),a+=q()),a},G=function(b){var c=a.match(e)||[];return void 0===b?c:c[b]||""},H=function(){return new c(F())};return{protocol:i,hasAuthorityPrefix:k,userInfo:l,host:m,port:n,path:o,query:p,anchor:q,setProtocol:r,setHasAuthorityPrefix:s,setUserInfo:t,setHost:u,setPort:v,setPath:w,setQuery:x,setAnchor:y,getQueryParamValue:z,getQueryParamValues:A,deleteQueryParam:B,addQueryParam:C,replaceQueryParam:D,extract:G,toPath:E,toString:F,clone:H}
};a.uri=function(a){return new c(a)}}),FD40.plugin("mvc",function($){!function(){var d,a={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},b=function(a,b,c){return void 0!==a[b]?a[b]:c&&(a[b]={})},c=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},e=$.String=$.extend($.String||{},{getObject:d=function(d,e,f){var i,j,k,g=d?d.split(a.dot):[],h=g.length,l=0;if(e=$.isArray(e)?e:[e||window],0==h)return e[0];
for(;i=e[l++];){for(k=0;h-1>k&&c(i);k++)i=b(i,g[k],f);if(c(i)&&(j=b(i,g[k],f),void 0!==j))return f===!1&&delete i[g[k]],j}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){return a=e.classize(a),a.charAt(0).toLowerCase()+a.substr(1)},classize:function(b,c){for(var d=b.split(a.undHash),f=0;f<d.length;f++)d[f]=e.capitalize(d[f]);return d.join(c||"")},niceName:function(a){return e.classize(a," ")},underscore:function(b){return b.replace(a.colons,"/").replace(a.words,"$1_$2").replace(a.lowUp,"$1_$2").replace(a.dash,"_").toLowerCase()
},sub:function(b,c,e){var f=[];return f.push(b.replace(a.replacer,function(a,b){var g=d(a,c,"boolean"==typeof e?!e:e)||d(b,c,"boolean"==typeof e?!e:e),h=typeof g;return"object"!==h&&"function"!==h||null===h?""+g:(f.push(g),"")})),f.length<=1?f[0]:f},_regs:a});$.extend($,e)}(),function(){$.String.rsplit=function(a,b){for(var e,f,c=b.exec(a),d=[];null!==c;)e=c.index,f=b.lastIndex,0!==e&&(d.push(a.substring(0,e)),a=a.slice(e)),d.push(c[0]),a=a.slice(c[0].length),c=b.exec(a);return""!==a&&d.push(a),d}}(),function(){var a=/^\d+$/,b=/([^\[\]]+)|(\[\])/g,c=/\+/g,d=/([^?#]*)(#.*)?$/;
$.String=$.extend($.String||{},{deparam:function(e){if(!e||!d.test(e))return{};for(var h,f={},g=e.split("&"),i=0;i<g.length;i++){h=f;var j=g[i].split("=");2!=j.length&&(j=[j[0],j.slice(1).join("=")]);for(var k=decodeURIComponent(j[0].replace(c," ")),l=decodeURIComponent(j[1].replace(c," ")),m=k.match(b),n=0;n<m.length-1;n++){var o=m[n];h[o]||(h[o]=a.test(m[n+1])||"[]"==m[n+1]?[]:{}),h=h[o]}lastPart=m[m.length-1],"[]"==lastPart?h.push(l):h[lastPart]=l}return f}})}(),function(){var a=$.cleanData;$.cleanData=function(b){for(var d,c=0;void 0!==(d=b[c]);c++)$(d).triggerHandler("destroyed");
a(b)}}(),function(){var a=$.fn._closest=$.fn.closest;$.fn.closest=function(b,c){if(b instanceof $||$.isElement(b))return a.call(this,arguments);var e,f,h,j,j,d={},k=!0,l=b;if("string"==typeof b&&(l=[b]),$.each(l,function(a,c){if(0==c.indexOf(">")){if(-1!=c.indexOf(" "))throw" closest does not work with > followed by spaces!";d[l[a]=c.substr(1)]=c,"string"==typeof b&&(b=c.substr(1)),k=!1}}),e=a.call(this,b,c),k)return e;for(h=0;h<e.length;)f=e[h],j=f.selector,void 0===d[j]||(f.selector=d[j],d[j]=!1,"string"==typeof f.selector&&f.elem.parentNode===c)?h++:e.splice(h,1);
return e}}(),function(){$.cookie=function(a,b,c){if("undefined"==typeof b){var i=null;if(document.cookie&&""!=document.cookie)for(var j=document.cookie.split(";"),k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}if(jQuery.evalJSON&&i&&i.match(/^\s*\{/))try{i=jQuery.evalJSON(i)}catch(m){}return i}c=c||{},null===b&&(b="",c.expires=-1),"object"==typeof b&&jQuery.toJSON&&(b=jQuery.toJSON(b));var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;
"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")}}(),function(){var a=!1,b=$.makeArray,c=$.isFunction,d=$.isArray,e=$.extend,f=$.String.getObject,g=function(a,c){return a.concat(b(c))},h=/xyz/.test(function(){})?/\b_super\b/:/.*/,i=function(a,b,d){d=d||a;for(var e in a)d[e]=c(a[e])&&c(b[e])&&h.test(a[e])?function(a,c){return function(){var e,d=this._super;
return this._super=b[a],e=c.apply(this,arguments),this._super=d,e}}(e,a[e]):a[e]},j="prototype";clss=$.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)},e(clss,{proxy:function(a){var e,c=b(arguments);return a=c.shift(),d(a)||(a=[a]),e=this,function(){for(var f,j,b=g(c,arguments),h=a.length,i=0;h>i;i++)j=a[i],j&&(f="string"==typeof j,f&&e._set_called&&(e.called=j),b=(f?e[j]:j).apply(e,b||[]),h-1>i&&(b=!d(b)||b._use_call?[b]:b));return b}},newInstance:function(){var b,a=this.rawInstance();return a.setup&&(b=a.setup.apply(a,arguments)),a.init&&a.init.apply(a,d(b)?b:arguments),a
},setup:function(a){return this.defaults=e(!0,{},a.defaults,this.defaults),arguments},rawInstance:function(){a=!0;var b=new this;return a=!1,b},extend:function(b,c,d){function p(){return a?void 0:this.constructor!==p&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof b&&(d=c,c=b,b=null),d||(d=c,c=null),d=d||{};var l,m,n,o,h=this,k=this[j];a=!0,o=new this,a=!1,i(d,k,o);for(l in this)this.hasOwnProperty(l)&&(p[l]=this[l]);
if(i(c,this,p),b){var q;c&&c.root&&(q=c.root,$.isString(q)&&(q=f(q,window,!0)));var r=b.split(/\./),m=r.pop(),s=f(r.join("."),q||window,!0),n=s;e(!0,p,s[m]),s[m]=p}e(p,{prototype:o,namespace:n,shortName:m,constructor:p,fullName:b}),p[j].Class=p[j].constructor=p;var t=p.setup.apply(p,g([h],arguments));return p.init&&p.init.apply(p,t||g([h],arguments)),p}}),clss.callback=clss[j].callback=clss[j].proxy=clss.proxy}(),function(){var w,a=function(a,b,c,e){var f,g=a.bind&&a.unbind?a:$(d(a)?[a]:a);return 0===b.indexOf(">")&&(b=b.substr(1),f=function(b){b.target===a&&c.apply(this,arguments)
}),e?g.bind(b,e,f||c):g.bind(b,f||c),function(){g.unbind(b,f||c),a=b=c=f=null}},b=$.makeArray,c=$.isArray,d=$.isFunction,e=$.isString,f=$.extend,g=$.String,h=$.each,i=g.getObject,j="prototype",k="constructor",l=Array[j].slice,m=function(a,b,c,e,f){0===b.indexOf(">")&&(b=(a.data("directSelector")+" "||"")+b);var g=a.delegate&&a.undelegate?a:$(d(a)?[a]:a);return f?g.delegate(b,c,f,e):g.delegate(b,c,e),function(){g.undelegate(b,c,e),g=a=c=e=b=null}},n=function(b,c,d,e,f){return e?m(b,e,c,d,f):a(b,c,d,f)},o=function(a,b){var e="string"==typeof b?a[b]:b;
return c(e)&&d(e[1])&&(e=e[1]),function(){return a.called=b,e.apply(a,[this.nodeName?$(this):this].concat(l.call(arguments,0)))}},p=/\./g,q=/_?controllers?/gi,r=function(a){return g.underscore(a.replace($.globalNamespace+".","").replace(p,"_").replace(q,""))},s=/^\S(.*)\s(.*)/,t=/\{([^\}]+)\}/g,u=/\{([^\.]+[\.][^\.]+)\}/g,v=/^(?:(.*?)\s)?([\w\.\:>]+)$/,x=function(a,b){return $.data(a,"controllers",b)},y=$.globalNamespace+".Controller";$.Controller=function(a){var e,c=b(arguments),d={root:y};return c.length>2?(d=$.extend(d,c[1]),e=c[2]):e=c[1],d.namespace&&(a=d.namespace+"."+a),$.Controller.Class(a,d,e)
};var z=y+".Class";$.Class(z,{setup:function(a,f){if(this._super.apply(this,arguments),this.shortName&&this.fullName!=z){for(var g=this.elements||[],h=0,i=this.defaults;element=g[h++];){var k=element.indexOf("{"),l=element.indexOf("}"),n=(element.length,element.slice(0,k)),o=element.slice(l+1),p=element.slice(k+1,l).split("|"),q=0,s=n.match(/^\^(\S*)\s(.*)/),t="";for(s&&(t=s[1]+"-",n=s[2]);f=p[q++];){var u="{"+$.camelize(t+f)+"}";!$.has(i,u)&&(i[u]=n+f+o)}}this._fullName=r(this.fullName),this._shortName=r(this.shortName);
var w,v=this;if(e(this.pluginName)){var A=this._fullName,B=this.pluginName;$.fn[B]||($.fn[B]=function(a){var c=b(arguments);if($.isString(a)&&"controller"===a){var d=x(this[0]),e=d&&d[A];return e}return this.each(function(){var b=x(this),d=b&&b[A];if(d){if($.isString(a)){var e=d[a];return $.isFunction(e)&&e.apply(d,c.slice(1)),void 0}d.update.apply(d,c)}else v.newInstance.apply(v,[this].concat(c))})})}var C=b(arguments),D=this[j],E=C[C.length>3?3:2];d(E)&&(this.protoFactory=E,D=this.protoFactory.call(this,null)),this.actions={};
for(w in D)if("constructor"!=w&&this._isAction(w)){var F=D[w],G=d(F)||c(F)&&d(F[1]);if(!G)continue;this.actions[w]=this._action(w)}$.module("$:/Controllers/"+this.fullName).resolve(this)}},hookup:function(a){return new this(a)},_isAction:function(a){return s.test(a)?!0:$.inArray(a,this.listensTo)>-1||$.event.special[a]||A[a]},_action:function(a,b){if(t.lastIndex=0,!b&&t.test(a))return null;a=a.replace("{self} ","");var d=a;if(b){var e=!1;if(u.test(a)){var f,h="";d=a.replace(u,function(a,c){var d=c.split(".");
return f=b["{"+d[0]+"}"]||{},$.isControllerInstance(f)&&(h=(f[d[1]]||{}).selector),h}).match(v),e=!!h,d=[f.element].concat(d||[])}e||(d=g.sub(a,[b,window]))}var i=c(d),j=(i?d[1]:d).match(v),k=j[2],l=A[k]||w;return{processor:l,parts:j,delegate:i?d[0]:void 0}},processors:{},listensTo:[],defaults:{},hostname:"parent"},{setup:function(a,c){var d=this,g=d[k],i=d[j],l=g._fullName;d.instanceId=$.uid(l+"_");var m=d.options=f(!0,{},g.defaults,g.defaultOptions,c),n=d.element=$(a);if(g.protoFactory&&(i=g.protoFactory.apply(g,[d,m,n]),f(!0,d,i)),(x(a)||x(a,{}))[l]=d,!n.data("directSelector")){var o=$.uid("DS");
n.addClass(o).data("directSelector","."+o)}d.selectors={};for(var p in m)if(p.match(/^\{.+\}$/)){var q=p.replace(/^\{|\}$/g,""),r=m[p];if(e(r)){var s=d[q];d[q]=d.selectors[q]=function(a,b,c){b=/^(\.|\#)$/.test(b)?b+c:b;var d=function(c){var e=(d.baseElement||a.element).find(b);return $.isString(c)&&(e=e.filter(c)),$.isPlainObject(c)&&$.each(c,function(a,b){e=e.filterBy(a,b)}),e};return d.selector=b,d.css=function(){var a=d.cssRule;if(!a){var c=n.data("directSelector"),e=$.map(b.split(","),function(a){return c+" "+a
});a=d.cssRule=$.cssRule(e),a.important=!0}return arguments.length?a.css.apply(a,arguments):a},d.inside=function(a){return $(a).find(b)},d.of=function(a){return $(a).parents(b).eq(0)},d.under=function(a){var b=[];return d().each(function(){$(this).parents().filter(a).length&&b.push(this)}),$(b)},$.isPlainObject(s)&&$.extend(d,s),d}(d,r,q)}else d[q]=r}var t=m.view,u=d.view;d.view=function(){return u.apply(this,arguments)},h(t||{},function(a){d.view[a]=function(c){var e=b(arguments);return $.isBoolean(c)?e=e.slice(1):c=!1,d.view.apply(d,[c,a].concat(e))
}}),$.extend(d,m.controller),d.pluginInstances={},d.called="init",d._bind();var v=d.init||$.noop;return d.init=function(){return d.init=v,result=v.apply(d,arguments),d.trigger("init."+g.fullName.toLowerCase(),[d]),result},[n,m].concat(b(arguments).slice(2))},on:function(a){var c=b(arguments),d=this.element,f=c.length;return 2==f?this._binder(d,a,c[1]):3==f&&e(c[1])?this._binder(d,a,c[2],c[1]):this._binder(c[1],a,c[2])},_bind:function(){var a=this,b=a[k],c=b.actions,d=a._bindings=[],e=a.element;h(c||{},function(f){if(c.hasOwnProperty(f)){var h=b.actions[f]||b._action(f,a.options);
$.isControllerInstance(h.delegate)&&(h.delegate=h.delegate.element),d.push(h.processor(h.delegate||e,h.parts[2],h.parts[1],f,a))}});var f=o(this,"destroy");return e.bind("destroyed",f),d.push(function(a){$(a).unbind("destroyed",f)}),d.length},_binder:function(a,b,c,d){return"string"==typeof c&&(c=o(this,c)),this._bindings.push(n(a,b,c,d)),this._bindings.length},_unbind:function(){var a=this.element[0];h(this._bindings,function(b,c){c(a)}),this._bindings=[]},trigger:function(a){var b=this.element;if(b){var c=$.Event(a);
return b.trigger.apply(b,[c].concat($.makeArray(arguments).slice(1))),c}},delegate:function(a,b,c,d){return"string"==typeof a&&(d=c,c=b,b=a,a=this.element),this._binder(a,c,d,b)},update:function(a){f(this.options,a),this._unbind(),this._bind()},destroy:function(){if(!this._destroyed){var a=this[k]._fullName;for(pname in this.pluginInstances)this.removePlugin(pname);this._destroyed=!0,this.element.removeClass(a),this._unbind(),delete this._actions,delete this.element.data("controllers")[a],$(this).triggerHandler("destroyed"),this.element=$()
}},find:function(a){return this.element.find(a)},view:function(){var c,a=b(arguments),d=a,e=!1,f=this[k].component||$,g="",h=this.options.view||{};return"boolean"==typeof a[0]&&(e=a[0],d=a.slice(1)),c=d[0]=h[d[0]],void 0==c?e?"":$(""):(g=f.View.apply(f,d),e?g:$($.parseHTML($.trim(g))))},getPlugin:function(a){return this.pluginInstances[a]},addSubscriber:function(a){var b=$.isArray(a)?a:[a||{}],c=this,d=this.Class.hostname,e={};return e["{"+d+"}"]=c,$.map(b,function(a){return $.isControllerInstance(a)?a.options[d]===this?a:(a[d]=c,a.update(e)):!1
}),b},addPlugin:function(a,b,c){if(a){(!b&&!c||$.isPlainObject(b))&&(c=b,b=[this.Class.root,this.Class.fullName,$.String.capitalize(a)].join(".")),$.isString(b)&&(b=$.getController(b));var e=$.isControllerInstance(b);if(d(b)||e){var f=this.Class.pluginExtendsInstance?this.options[a]:(this.options.plugin||{})[a];c=$.extend(!0,{element:this.element},c,f);var g=e?"instance":$.isController(b)?"controller":"function";this.trigger("addPlugin",[a,b,c,g]);var h=this.Class.hostname;c["{"+h+"}"]=this;var i;switch(g){case"instance":i=b,b.update(c),b[h]=this;
break;case"controller":i=c.element.addController(b,c);break;case"function":i=b(this,c)}if(i){if(this.pluginInstances[a]=i,this.Class.pluginExtendsInstance&&(this[a]=i),"function"!==g){var j={};j["{"+a+"}"]=i,this.update(j)}return this.trigger("registerPlugin",[a,i,c,g]),i}}}},removePlugin:function(a){var b=this.getPlugin(a);if(b)return this.trigger("removePlugin",[a,b]),delete this.pluginInstances[a],$.isFunction(b.destroy)?b.destroy():null},invokePlugin:function(a,b,c){var d=this.getPlugin(a);if(d&&$.isFunction(d[b]))return this.trigger("invokePlugin",[a,d,c]),d[b].apply(this,c)
},getMessageGroup:function(){var a=$.isFunction(this.messageGroup)?this.messageGroup():this.element.find("[data-message-group]");return a.length<1&&(a=$("<div data-message-group></div>").prependTo(this.element)),a},setMessage:function(a,b){var c={type:"warning",message:"",parent:this.getMessageGroup(),element:$('<div class="o-alert o-alert--dismissible"><button type="button" class="o-alert__close" data-bs-dismiss="alert">\xd7</button></div>')},d={},e=$.isDeferred(a);d=$.isPlainObject(a)&&!e?a:{message:a,type:b||"warning"};
var f=$.extend({},c,d),g=f.element;if($.isDeferred(a)){var h=arguments.callee,i=this;a.done(function(a,b){f.message=a,f.type=b||"warning",h.call(i,f),g.show()})}else g.addClass("o-alert--"+f.type).append(f.message),$("html").has(g).length<1&&g.appendTo(f.parent);return g},clearMessage:function(){this.getMessageGroup().empty()},_set_called:!0});var A=$.Controller.Class.processors,w=function(a,b,e,f,g){var i,h=g[f];return c(h)&&d(h[1])&&(i=h[0]),n(a,b,o(g,f),e,i)};h("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(a,b){A[b]=w
});var B=function(a){return a.replace("$.Controller",y)},C=function(a){return e(a)&&(a=B(a),a=i(a)||i(y+"."+a)),D(a)?a:void 0},D=function(a){return d(a)&&a.hasOwnProperty("_fullName")},E=function(a){return $.map(a,function(a){return c(a)?E(a):C(a)})};$.getController=C,$.isController=function(a){return!!C(a)},$.isControllerInstance=function(a){return a&&a[k]&&D(a[k])},$.isControllerOf=function(a,b){if(!b)return!1;c(b)||(b=[b]);for(var d=0;d<b.length;d++){var e=C(b[d]);if(a instanceof e)return!0}return!1},$.fn.extend({controllers:function(){var a=E(b(arguments)),c=[];
return this.each(function(){var b=$.data(this,"controllers");h(b||{},function(d,e){b.hasOwnProperty(d)&&(!a.length||$.isControllerOf(e,a))&&c.push(e)})}),c},controller:function(a,b){return void 0===b?this.controllers(a)[0]:(this.addController.apply(this,arguments),this)},hasController:function(a){var b=(C(a)||{})._fullName||(e(a)?r(B(a)):"");return b?($(this).data("controllers")||{}).hasOwnProperty(b):!1},addController:function(a,b,c){var e=C(a);if(e){var f=[];return this.each(function(){if(1===this.nodeType&&"SCRIPT"!=this.nodeName){var g=$(this).controller(a);
if(g)return f.push(g),void 0;var h=new e(this,b);d(c)&&c.apply(h,[$(this),h]),f.push(h)}}),f.length>1?f:f[0]}},removeController:function(a){return this.each(function(){for(var b=$(this).controllers(a);b.length;)b.shift().destroy()}),this},addControllerWhenAvailable:function(a){var b=this,c=arguments,d=$.Deferred();return $.isController(a)&&(a=a.fullName),e(a)?($.module("$:/Controllers/"+a).pipe(function(){var a=b.addController.apply(b,c);d.resolveWith(a,[b,a])},d.reject,d.fail),d):d.reject()},implement:function(){return this.addController.apply(this,arguments),this
}}),function(){for(var c,a=["is","find"],b={};c=a.shift();)b[c]=$.fn[c],$.fn[c]=function(a){return function(c){return b[a].apply(this,(c||{}).hasOwnProperty("of")?[c.selector]:arguments)}}(c)}()}(),function(){var a=function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},b=$.makeArray,c=1,d=$.View=function(a,c,d,e){"function"==typeof d&&(e=d,d=void 0);var j=h(c);if(j.length){var k=$.Deferred();return j.push(f(a,!0)),$.when.apply($,j).then(function(a){var j,f=b(arguments),h=f.pop()[0];if(g(c))c=i(a);else for(var l in c)g(c[l])&&(c[l]=i(f.shift()));
j=h(c,d),k.resolve(j),e&&e(j)}),k.promise()}var l,m="function"==typeof e,k=f(a,m);return m?(l=k,k.done(function(a){e(a(c,d))})):k.done(function(a){l=a(c,d)}),l},e=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b},f=function(a,b){return $.ajax({url:a,dataType:"view",async:b})},g=function(a){return a&&$.isFunction(a.always)},h=function(a){var b=[];if(g(a))return[a];for(var c in a)g(a[c])&&b.push(a[c]);return b},i=function(a){return $.isArray(a)&&3===a.length&&"success"===a[1]?a[0]:a
};$.ajaxTransport("view",function(b,c){var h,i,j,k,f=c.url,g=f.match(/\.[\w\d]+$/),l=function(a){var b=h.renderer(j,a);return d.cache&&(d.cached[j]=b),{view:b}};if((i=document.getElementById(f))&&(g="."+i.type.match(/\/(x\-)?(.+)/)[2]),g||(g=d.ext,f+=d.ext),j=a(f),f.match(/^\/\//)){var m=f.substr(2);f="undefined"==typeof steal?f="/"+m:steal.root.mapJoin(m)+""}h=d.types[g];var n=$.template()[c.url];return{send:function(a,b){return n?(h=d.types["."+n.type],b(200,"success",l(n.content))):d.cached[j]?b(200,"success",{view:d.cached[j]}):(i?b(200,"success",l(i.innerHTML)):k=$.ajax({async:c.async,url:f,dataType:"text",error:function(){e("",f),b(404)
},success:function(a){e(a,f),b(200,"success",l(a))}}),void 0)},abort:function(){k&&k.abort()}}}),$.extend(d,{hookups:{},hookup:function(a){var b=++c;return d.hookups[b]=a,b},cached:{},cache:!0,register:function(b){this.types["."+b.suffix]=b,window.steal&&steal.type(b.suffix+" view js",function(b,c){var f=d.types["."+b.type],g=a(b.rootSrc+"");b.text=f.script(g,b.text),c()})},types:{},ext:".ejs",registerScript:function(a,b,c){return"$.View.preload('"+b+"',"+d.types["."+a].script(b,c)+");"},preload:function(a,b){d.cached[a]=function(a,c){return b.call(a,a,c)
}}}),window.steal&&steal.type("view js",function(b,c){var f=d.types["."+b.type],g=a(b.rootSrc+"");b.text="steal('"+(f.plugin||"jquery/view/"+b.type)+"').then(function($){$.View.preload('"+g+"',"+b.text+");\n})",c()});var j,k,l,m,n,o,p,r={val:!0,text:!0};j=function(a){var c=$.fn[a];$.fn[a]=function(){var f,h,j,e=b(arguments),i=this;if(g(e[0]))return e[0].done(function(a){k.call(i,[a],c)}),this;if(l(e)){if(f=o(e))return h=e[f],e[f]=function(a){k.call(i,[a],c),h.call(i,a)},d.apply(d,e),this;if(j=d.apply(d,e),g(j))return j.done(function(a){k.call(i,[a],c)
}),this;e=[j]}return r[a]?c.apply(this,e):k.call(this,e,c)}},k=function(a,b){var c,f;for(var g in d.hookups)break;return g&&a[0]&&m(a[0])&&(f=d.hookups,d.hookups={},a[0]=$(a[0])),c=b.apply(this,a),f&&p(a[0],f),c},l=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!n(a[1])},n=function(a){return a.nodeType||a.jquery},m=function(a){return n(a)?!0:"string"==typeof a?(a=$.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&a.length>=3):!1},o=function(a){return"function"==typeof a[3]?3:"function"==typeof a[2]&&2
},p=function(a,b){var c,e,g,h,f=0;for(a=a.filter(function(){return 3!=this.nodeType}),c=a.add("[data-view-id]",a),e=c.length;e>f;f++)c[f].getAttribute&&(g=c[f].getAttribute("data-view-id"))&&(h=b[g])&&(h(c[f],g),delete b[g],c[f].removeAttribute("data-view-id"));$.extend(d.hookups,b)},$.fn.hookup=function(){var a=d.hookups;return d.hookups={},p(this,a),this},$.each(["prepend","append","after","before","text","html","replaceWith","val"],function(a,b){j(b)})}(),function(){var myEval=function(script){eval(script)
},rSplit=$.String.rsplit,extend=$.extend,isArray=$.isArray,returnReg=/\r\n/g,retReg=/\r/g,newReg=/\n/g,nReg=/\n/,slashReg=/\\/g,quoteReg=/"/g,singleQuoteReg=/'/g,tabReg=/\t/g,leftBracket=/\{/g,rightBracket=/\}/g,quickFunc=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,clean=function(a){return a.replace(slashReg,"\\\\").replace(newReg,"\\n").replace(quoteReg,'\\"').replace(tabReg,"\\t")},escapeHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(quoteReg,"&#34;").replace(singleQuoteReg,"&#39;")
},$View=$.View,bracketNum=function(a){var b=a.match(leftBracket),c=a.match(rightBracket);return(b?b.length:0)-(c?c.length:0)},EJS=function(a){if(this.constructor!=EJS){var b=new EJS(a);return function(a,c){return b.render(a,c)}}return"function"==typeof a?(this.template={fn:a},void 0):(extend(this,EJS.options,a),this.template=compile(this.text,this.type,this.name),void 0)};$&&($.EJS=EJS),EJS.prototype.render=function(a,b){a=a||{},this._extra_helpers=b;var c=new EJS.Helpers(a,b||{});return this.template.fn.call(a,a,c)
},extend(EJS,{text:function(a){if("string"==typeof a)return a;if(null===a||void 0===a)return"";var b=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a||isArray(a)&&function(b,c){for(var d=0;d<a.length;d++)a[d].hookup?a[d].hookup(b,c):a[d](b,c)};return b?"data-view-id='"+$View.hookup(b)+"'":a.toString?a.toString():""},clean:function(a){return"string"==typeof a?escapeHTML(a):"number"==typeof a?a:EJS.text(a)},options:{type:"[",ext:".ejs"}});var scan=function(a,b,c){for(var d=rSplit(b,nReg),e=0;e<d.length;e++)scanline(a,d[e],c)
},scanline=function(a,b,c){a.lines++;for(var e,d=rSplit(b,a.splitter),f=0;f<d.length;f++)e=d[f],null!==e&&c(e,a)},makeScanner=function(a,b){var c={};return extend(c,{left:a+"%",right:"%"+b,dLeft:a+"%%",dRight:"%%"+b,eeLeft:a+"%==",eLeft:a+"%=",cmnt:a+"%#",cleanLeft:a+"%~",scan:scan,lines:0}),c.splitter=new RegExp("("+[c.dLeft,c.dRight,c.eeLeft,c.eLeft,c.cmnt,c.left,c.right+"\n",c.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")"),c},compile=function(a,b){a=a.replace(returnReg,"\n").replace(retReg,"\n"),b=b||"[";
var d="___v1ew.push(",e=d,f="var ___v1ew = [];",g="return ___v1ew.join('')",h=new EJS.Buffer([f],[]),i="",j=function(a){h.push(d,'"',clean(a),'");')},k=null,l=function(){i=""},m="));",n=[];scan(makeScanner(b,"["===b?"]":">"),a||"",function(a,b){var c;if(null===k)switch(a){case"\n":i+="\n",j(i),h.cr(),l();break;case b.left:case b.eLeft:case b.eeLeft:case b.cmnt:k=a,i.length>0&&j(i),l();break;case b.dLeft:i+=b.left;break;default:i+=a}else switch(a){case b.right:switch(k){case b.left:c=bracketNum(i);var d=n.length&&-1==c?n.pop():";";
d===m&&h.push(g),h.push(i,d),1===c&&n.push(";");break;case b.eLeft:if(c=bracketNum(i),c&&n.push(m),quickFunc.test(i)){var o=i.match(quickFunc);i="function(__){var "+o[1]+"=$(__);"+o[2]+"}"}h.push(e,$.globalNamespace+".EJS.clean(",i,c?f:m);break;case b.eeLeft:c=bracketNum(i),c&&n.push(m),h.push(e,$.globalNamespace+".EJS.text(",i,c?f:m)}k=null,l();break;case b.dRight:i+=b.right;break;default:i+=a}}),i.length>0&&h.push(d,'"',clean(i)+'");');var o=h.close(),p={out:"try { with(_VIEW) { with (_CONTEXT) {"+o+" "+g+"}}}catch(e){e.lineNumber=null;throw e;}"};
return myEval.call(p,"this.fn = (function(_CONTEXT,_VIEW){ var $ = "+$.globalNamespace+";"+p.out+"});"),p};EJS.Buffer=function(a,b){this.line=[],this.script=[],this.post=b,this.push.apply(this,a)},EJS.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n"),this.line=[]},close:function(){return this.line.length>0&&(this.script.push(this.line.join("")),this.line=[]),this.post.length&&this.push.apply(this,this.post),this.script.push(";"),this.script.join("")
}},EJS.Helpers=function(a,b){this._data=a,this._extras=b,extend(this,b)},EJS.Helpers.prototype={plugin:function(){var b=$.makeArray(arguments),c=b.shift();return function(a){var d=$(a);d[c].apply(d,b)}},view:function(a,b,c){return c=c||this._extras,b=b||this._data,$View(a,b,c)}},$View.register({suffix:"ejs",script:function(a,b){return $.globalNamespace+".EJS(function(_CONTEXT,_VIEW) { "+new EJS({text:b,name:a}).template.out+" })"},renderer:function(a,b){return EJS({text:b,name:a})}})}(),function(){var a=$.isArray,b=function(a){return"object"==typeof a&&null!==a&&a
},c=$.makeArray,d=$.each,e=function(b,c,d){return b instanceof $.Observe?f([b],d._namespace):b=a(b)?new $.Observe.List(b):new $.Observe(b),b.bind("change"+d._namespace,function(a){var f=$.makeArray(arguments),a=f.shift();f[0]="*"===c?d.indexOf(b)+"."+f[0]:c+"."+f[0],$.event.trigger(a,f,d)}),b},f=function(a,b){for(var c,d=0;d<a.length;d++)c=a[d],c&&c.unbind&&c.unbind("change"+b)},g=0,h=null,i=function(){return h?void 0:(h=[],!0)},j=function(a,b,c){return a._init?void 0:h?(h.push({t:a,ev:b,args:c}),void 0):$.event.trigger(b,c,a,!0)
},k=0,l=function(){var c,a=h.length,b=h.slice(0);h=null,k++;for(var d=0;a>d;d++)c=b[d],$.event.trigger({type:c.ev,batchNum:k},c.args,c.t)},m=function(a,c,d){return a.each(function(a,e){d[a]=b(e)&&"function"==typeof e[c]?e[c]():e}),d};$.Class($.globalNamespace+".Observe",{init:function(a){this._data={},this._namespace=".observe"+ ++g,this._init=!0,this.attrs(a),delete this._init},attr:function(a,b){return void 0===b?this._get(a):(this._set(a,b),this)},each:function(){return d.apply(null,[this.__get()].concat(c(arguments)))
},removeAttr:function(b){var c=a(b)?b:b.split("."),d=c.shift(),e=this._data[d];return c.length?e.removeAttr(c):(delete this._data[d],j(this,"change",[d,"remove",void 0,e]),e)},_get:function(b){var c=a(b)?b:(""+b).split("."),d=this.__get(c.shift());return c.length?d?d._get(c):void 0:d},__get:function(a){return a?this._data[a]:this._data},_set:function(c,d){var g=a(c)?c:(""+c).split("."),h=g.shift(),i=this.__get(h);if(b(i)&&g.length)i._set(g,d);else{if(g.length)throw"jQuery.Observe: set a property on an object that does not exist";
if(d!==i){var k=this.__get().hasOwnProperty(h)?"set":"add";this.__set(h,b(d)?e(d,h,this):d),j(this,"change",[h,k,d,i]),i&&f([i],this._namespace)}}},__set:function(a,b){this._data[a]=b,a in this.constructor.prototype||(this[a]=b)},bind:function(){return $.fn.bind.apply($([this]),arguments),this},unbind:function(){return $.fn.unbind.apply($([this]),arguments),this},serialize:function(){return m(this,"serialize",{})},attrs:function(a,c){if(void 0===a)return m(this,"attrs",{});a=$.extend(!0,{},a);var d,e=i();for(d in this._data){var f=this._data[d],g=a[d];
void 0!==g?(b(f)&&b(g)?f.attrs(g,c):f!=g&&this._set(d,g),delete a[d]):c&&this.removeAttr(d)}for(var d in a)g=a[d],this._set(d,g);e&&l()}});var n=$.Observe($.globalNamespace+".Observe.List",{init:function(a,b){this.length=0,this._namespace=".list"+ ++g,this._init=!0,this.bind("change",this.proxy("_changes")),this.push.apply(this,c(a||[])),$.extend(this,b),this.comparator&&this.sort(),delete this._init},_changes:function(a,b,c,d,e){if(this.comparator&&/^\d+./.test(b)){var f=+/^\d+/.exec(b)[0],g=this[f],h=this.sortedIndex(g);
if(h!==f)return[].splice.call(this,f,1),[].splice.call(this,h,0,g),j(this,"move",[g,h,f]),a.stopImmediatePropagation(),j(this,"change",[b.replace(/^\d+/,h),c,d,e]),void 0}-1===b.indexOf(".")&&("add"===c?j(this,c,[d,+b]):"remove"===c&&j(this,c,[e,+b]))},sortedIndex:function(a){for(var d,b=a.attr(this.comparator),c=0,d=0;d<this.length;d++)if(a!==this[d]){if(b<=this[d].attr(this.comparator))return d+c}else c=-1;return d+c},__get:function(a){return a?this[a]:this},__set:function(a,b){this[a]=b},serialize:function(){return m(this,"serialize",[])
},splice:function(a,d){var h,g=c(arguments);for(h=2;h<g.length;h++){var i=g[h];b(i)&&(g[h]=e(i,"*",this))}void 0===d&&(d=g[1]=this.length-a);var k=[].splice.apply(this,g);return d>0&&(j(this,"change",[""+a,"remove",void 0,k]),f(k,this._namespace)),g.length>2&&j(this,"change",[""+a,"add",g.slice(2),k]),k},attrs:function(a,c){if(void 0===a)return m(this,"attrs",[]);a=a.slice(0);for(var d=Math.min(a.length,this.length),e=i(),f=0;d>f;f++){var g=this[f],h=a[f];b(g)&&b(h)?g.attrs(h,c):g!=h&&this._set(f,h)}a.length>this.length?this.push(a.slice(this.length)):a.length<this.length&&c&&this.splice(a.length),e&&l()
},sort:function(a,b){{var c=this.comparator,d=c?[function(a,b){return a=a[c],b=b[c],a===b?0:b>a?-1:1}]:[];[].sort.apply(this,d)}!b&&j(this,"reset")}}),o=function(a){return a[0]&&$.isArray(a[0])?a[0]:c(a)};d({push:"length",unshift:0},function(a,c){n.prototype[a]=function(){for(var d=o(arguments),f=c?this.length:0,g=0;g<d.length;g++){var h=d[g];b(h)&&(d[g]=e(h,"*",this))}if(1==d.length&&this.comparator){var i=this.sortedIndex(d[0]);return this.splice(i,0,d[0]),this.length}var k=[][a].apply(this,d);return this.comparator&&d.length>1?(this.sort(null,!0),j(this,"reset",[d])):j(this,"change",[""+f,"add",d,void 0]),k
}}),d({pop:"length",shift:0},function(a,b){n.prototype[a]=function(){var c=o(arguments),d=b&&this.length?this.length-1:0,e=[][a].apply(this,c);return j(this,"change",[""+d,"remove",void 0,[e]]),e&&e.unbind&&e.unbind("change"+this._namespace),e}}),n.prototype.indexOf=[].indexOf||function(a){return $.inArray(a,this)},$.O=function(b,c){return a(b)||b instanceof $.Observe.List?new $.Observe.List(b,c):new $.Observe(b,c)}}()}),FD40.plugin("joomla",function(a){var b={squeezebox:function(){return window.parent.SqueezeBox
}},c=a.Joomla=function(d,e){if(a.isFunction(e)){var f=e;return c.isJoomla15?window[d]=f:window.Joomla[d]=f,void 0}var d=b[d]||(c.isJoomla15?window[d]:window.Joomla[d]);return a.isFunction(d)?d.apply(window,e):void 0}}),FD40.plugin("module",function(a){var b=function(b){var c=this,d=a.Callbacks("once memory");a.extend(this,a.Deferred(),{name:b,status:"pending",ready:function(b){b===!0&&d.fire.call(c,a),a.isFunction(b)&&d.add(b)}}),c.then(function(){c.exports=this,c.status="resolved"},function(){c.status="rejected"
});var e=c.done;c.done=function(){c.required=!0;var b=c.factory;return b&&"ready"===c.status&&b.call(c,a),c.done=e,c.done.apply(this,arguments)}};a.module=function(){var c=function(b,d){var e;if("string"==typeof b){if(e=c.get(b),void 0===d)return e;if(a.isFunction(d))return"resolved"==e.status?e:(e.factory=d,e.status="ready",e.ready("true"),e.required&&(e.status="executing",d.call(e,a)),e)}if(a.isArray(b)){var f=a.map(b,function(b){var d=c.get(a.isString(b)?b:b.name);if(d)return"pending"===d.status&&(d.status="ready"),a.isPlainObject(b)?b:void 0
});a.each(f,function(a,b){c(b.name,b.factory)})}};return a.extend(c,{registry:{},get:function(b){return b?(a.isModule(b)&&(b=b.replace("module://","")),c.registry[b]||c.create(b)):void 0},create:function(a){return c.registry[a]=new b(a)},remove:function(a){delete c.registry[a]}}),c}(),a.isModule=function(c){return a.isString(c)?!!c.match("module://"):c&&c instanceof b}}),FD40.plugin("script",function(a){a.Script=function(b){var c=document.createElement("script");return c.text=a.isString(b)?b:a.callback(b)+"();",a(c)
},a.script=function(){{var b=function(a){if(void 0!==a){"string"==typeof a&&(a={url:a});var b=new c(a);return b}},c=function(b){var c=a.extend(this,b);c.manager=a.Deferred(),a.extend(c,c.manager.promise()),c.load()},d=document.getElementsByTagName("head")[0];document.getElementsByTagName("base")[0]}return a.extend(c.prototype,{timeout:7e3,retry:3,retryCount:1,type:"text/javascript",async:!1,charset:"UTF-8",verbose:!1,head:d,insert:function(){var a=this.node;this.head.appendChild(a)},remove:function(){var a=this.node;
setTimeout(function(){a.onload=a.onerror=a.onreadystatechange=null;try{d.removeChild(a)}catch(b){}},1e3)},load:function(){var c,b=this;b.endTime=void 0,b.startTime=new Date,b.node=c=document.createElement("script"),b.insert(),b._ready=a.proxy(b.ready,b),b._error=a.proxy(b.error,b),c.attachEvent&&!a.browser.opera?(c.attachEvent("onreadystatechange",b._ready),c.attachEvent("onerror",b._error)):(c.addEventListener("load",b._ready,!1),c.addEventListener("error",b._error,!1)),a(c).attr({type:b.type,async:b.async,charset:b.charset,src:b.url}),b.monitor()
},monitor:function(){var a=this;return a.retryCount>a.retry?(a._error(),void 0):(setTimeout(function(){"resolved"!==a.state()&&(a.verbose&&console.warn("$.script: Load timeout. [Retry: "+a.retryCount+"]",a),a.remove(),a.retryCount++,a.load())},a.timeout*a.retryCount),void 0)},ready:function(a){var b=this,c=b.node;("load"===a.type||/loaded|complete/.test(c.readyState))&&(b.complete.call(b,a),b.manager.resolve(b))},error:function(a){var b=this;b.verbose&&console.error("$.script: Unable to load ",b),b.complete.call(b,a),b.remove(),b.manager.reject(b)
},complete:function(){var c=this,d=c.node;c.endTime=new Date,d.detachEvent&&!a.browser.opera?(d.detachEvent("onreadystatechange",c._ready),d.detachEvent("onerror",c._error)):(d.removeEventListener("load",c._ready,!1),d.removeEventListener("error",c._error,!1))}}),b}()}),FD40.plugin("stylesheet",function(a){var b=document.getElementsByTagName("head")[0],c=document.styleSheets,d=document.createStyleSheet,e=31,f=31,g=4095;a.stylesheet=function(){var h=function(b,c){var d={};return a.extend(d,h.defaultOptions,a.isPlainObject(b)?b:{url:b,attr:c||{}}),void 0===d.url?h.create(d):h.load(d)
};return a.extend(h,{defaultOptions:{type:"text/css",rel:"stylesheet",media:"all",title:"",forceInject:!1,xhr:!1},setup:function(b){a.extend(h.defaultOptions,b)},availability:function(){var b={},c=a('link[rel*="stylesheet"]');return styles=a("style"),b.groups=e-c.length-styles.length,b.slots=b.groups*f,h.currentGroup&&(b.slots+=f-h.currentGroup.imports.length),b},get:function(a){for(var b=0;b<c.length;b++){var d=c[b];if((d.ownerNode||d.owningElement)==a)return d}},create:function(f){var g,h,i=c.length;if(d){if(i>=e)return;
g=document.createStyleSheet(),h=g.ownerNode||g.owningElement}else h=document.createElement("style"),b.appendChild(h);a.extend(h,{type:f.type,title:f.title,media:f.media,rel:f.rel});var j=f.content;return void 0!==j&&(d?g.cssText=j:h.appendChild(document.createTextNode(j))),h},nextAvailable:function(a){var b,e=c.length;if(e){var f;for(f=e;f--;0>f){b=c[f];{if(!(d&&(b.cssRules||b.rules).length>=g))break;b=void 0}}}return b.ownerNode||b.owningElement||(a?h():void 0)},load:function(b){if(a.browser.msie&&!b.forceInject)return h._import(b);
var c=a("<link>").attr({href:b.url,type:b.type,rel:b.rel,media:b.media}).appendTo("head");return c[0]},_import:function(a){var b;if(void 0===h.currentGroup){var c;try{c=document.createStyleSheet(),c.media="all",c.title="jquery_stylesheet"}catch(d){b=!0,a.verbose&&console.error("There is not enough slots left to create a new stylesheet group.")}if(b)return!1;h.currentGroup=c}try{h.currentGroup.addImport(a.url)}catch(d){b=!0,a.verbose&&console.info("Import slots exceeded. Creating a new stylesheet group.")}return b?(h.currentGroup=void 0,h._import(a)):!0
}}),h}(),function(){var b=function(b,c,d){a.extend(this,{id:a.uid(),style:d,selectors:[],preRule:"",rules:{},legacy:8===a.IE,important:!1}),b&&this.set(b,c)};a.extend(b.prototype,{set:function(b,c){return this.selectors=a.isString(b)?b.split(","):b,a.isString(c)?(this.preRule=c+"\n",this.rules={}):(this.preRule="",this.rules=c||this.rules),this.update(),this},cssText:function(){return this.selectors.join(",")+"{"+this.ruleText()+"}\n"},ruleText:function(){var b=this.important;return this.preRule+(this.legacy?"-rule-id:"+this.id+";":"")+a.map(this.rules,function(c,d){return a.isNumeric(c)&&!a.cssNumber[d]&&(c+="px"),b&&(c+=" !important"),d+":"+c
}).join(";")},update:function(){if(this.legacy)return this.updateLegacy();var a=this.cssText();return void 0===this.textNode?(this.textNode=document.createTextNode(a),this.style.appendChild(this.textNode)):this.textNode.nodeValue=a,this},updateLegacy:function(){this.removeLegacy();for(var b=a.stylesheet.get(this.style),c=this.selectors,d=this.ruleText(),e=0;e<c.length;e++)b.addRule(c[e],d);return this},remove:function(){return this.legacy?this.removeLegacy():(void 0!==this.textNode&&(this.style.removeChild(this.textNode),delete this.textNode),this)
},removeLegacy:function(){for(var b=a.stylesheet.get(this.style),c=b.rules,d=0;d<c.length;d++)null!==c[d].cssText.match(this.id)&&b.removeRule(d);return this},css:function(b,c){return a.isString(b)&&void 0===c?this.rules[b]:(a.isPlainObject(b)?a.extend(this.rules,b):this.rules[b]=c,this.update(),this)}});var c=a.cssRule=function(d,e,f){var f=f||c.style||a.stylesheet.nextAvailable(!0);if(f)return new b(d,e,f)};c.style=a.stylesheet()}(),function(){a.cssUrl=function(a){return'url("'+encodeURI(a)+'")'}}()}),FD40.plugin("template",function(a){a.template=function(){var b={content:"",type:"ejs"},c=function(d,e){if(void 0===d)return c.templates;
var f;return"string"==typeof e?(f=a.isPlainObject(e)?e:a.extend({},b,{name:d,content:e}),c.templates[d]=f,f):(f=c.templates[d]||{},f.content||"")};return a.extend(c,{templates:{},remove:function(a){delete c.templates[a]}}),c}()}),FD40.plugin("require",function(a){a.require=function(){var b=function(b){return a.uri(b).setAnchor("").setQuery("").toPath("../").toString()},c=function(a){var b=new e(a);return c.batches[b.id]=b,b};a.extend(c,{defaultOptions:{path:function(){var c=a.path||a("[require-path]").attr("require-path")||b(a("script:last").attr("src"))||b(window.location.href);
return/^(\/|\.)/.test(c)&&(c=a.uri(window.location.href).toPath(c).toString()),c}(),timeout:1e4,retry:3,verbose:"development"==a.environment},setup:function(b){a.extend(c.defaultOptions,b)},batches:{},status:function(b){return a.each(c.batches,function(c,d){var e={pending:0,resolved:0,rejected:0,ready:0,total:0},f=[];a.each(d.tasks,function(a,b){state=b.module&&"ready"==b.module.status?"ready":b.state(),e[state]++,e.total++,f.push({state:state,content:"["+state+"] "+b.name})});var g=d.id+": "+d.state()+" ["+e.resolved+"/"+e.total+"]";
b&&e[b]<1||(a.IE?(console.log('$.require.batches["'+d.id+'"]'),a.each(f,function(a,b){console.log(b.content)}),console.log("")):(console.groupCollapsed(g),console.log('$.require.batches["'+d.id+'"]',d),a.each(f,function(a,c){var d=c.state,e=c.content;if(!b||d==b)switch(d){case"pending":console.warn(e);break;case"rejected":console.error(e);break;default:console.info(e)}}),console.groupEnd(g)))}),"$.require.status(pending|resolved|rejected|ready);"},loaders:{},addLoader:function(a,b){c[a]=b,e.prototype[a]=function(){var a=this;
return a.autoFinalize(),b.apply(a,arguments),a},c.loaders[a]=c[a]=b},removeLoader:function(a){delete e.prototype[a],delete c[a]}});var d=0,e=function(b){var e=a.Callbacks("once memory"),f=!1,g=a.extend(this,{id:++d,tasks:[],options:a.extend({},c.defaultOptions,b),autoFinalizeDuration:300,finalized:!1,required:function(b){return b===!0&&(f=!0&&e.fire()),a.isFunction(b)&&e.add(b),f}});return g};return a.extend(e.prototype,{addTask:function(b){var c=this;a.isDeferred(b)&&(c.finalized||(c.tasks.push(b),b.batch=c))
},autoFinalize:function(){var a=this,b=a.autoFinalizeDuration;b!==!1&&(clearTimeout(a.autoFinalizeTimer),a.autoFinalizeTimer=setTimeout(function(){a.finalize()},b))},finalize:function(){var b=this;if(!b.finalized){b.finalized=!0;var c=b.manager=a.when.apply(null,b.tasks),d=c.promise(),e=a.Callbacks();a.extend(b,d,{progress:e.add,notify:e.fire,done:function(){return b.required(!0),b.done=d.done,b.done.apply(b,arguments)}});var f=b.options.verbose;c.progress(function(a,b){f&&"rejected"==a&&console.warn("Require: Task "+b.name+" failed to load.",b)
}).fail(function(){f&&console.warn("Require: Batch "+b.id+" failed.",b)}),setTimeout(function(){a.each(b.tasks,function(a,c){c.then(function(){b.notify("resolved",c)},function(){b.notify("rejected",c)},function(){b.notify("progress",c)})})},1)}},expand:function(b,c){var b=a.makeArray(b),d=c||{},e=[];return a.isPlainObject(b[0])?(d=a.extend(b[0],c),e=b.slice(1)):e=b,{options:d,names:e}}}),a.each(["done","fail","progress","always","then"],function(a,b){e.prototype[b]=function(){var a=this;return a.finalize(),a[b].apply(a,arguments)
}}),c}(),a.require.addLoader("script",function(){var b=a.uri(a.indexUrl).host(),c=a.uri(document.location.href).host();b!==c&&b.match("xn--")&&(a.support.cors=!0);var e=(document.createElement("script").async===!0||"MozAppearance"in document.documentElement.style||window.opera,function(){var d,f,b=this,c=a.makeArray(arguments);a.isPlainObject(c[0])?(d=c[0],f=c.slice(1)):f=c,d=a.extend({},e.defaultOptions,b.options,d,{batch:b});var g;a.each(f,function(a,c){var f=new e.task(c,d,g);b.addTask(f),d.serial&&void 0!==g?g.always(f.start):f.start(),g=f
})});return a.extend(e,{defaultOptions:{path:"",extension:"compressed"==a.mode?"min.js":"js",serial:!1,async:!1,xhr:!1},setup:function(){a.extend(e.defaultOptions,options)},scripts:{},task:function(b,c,d){var e=a.extend(this,a.Deferred());if(e.name=b,e.options=c,e.taskBefore=d,a.isArray(b)){e.name=b[0]+"@"+b[1],e.moduleName=b[0];var f=b[2];f||(e.defineModule=!0,a.module.registry[e.moduleName]&&console.warn("$.require.script: "+e.moduleName+" exists! Using existing module instead."),e.options.xhr=!0),b=b[1],e.module=a.module(e.moduleName)
}a.isUrl(b)?e.url=b:/^(\/|\.)/.test(b)?e.url=a.uri(e.options.path).toPath(b).toString():(e.url=a.uri(e.options.path).toPath("./"+b+"."+e.options.extension).toString(),e.module=a.module(b))}}),a.extend(e.task.prototype,{start:function(){var a=this,b=a.module;return b&&"pending"!==b.status?(a.waitForModule(),void 0):(a.load(),void 0)},waitForModule:function(){var a=this,b=a.module;b.then(a.resolve,a.reject,a.notify),a.batch.required(function(){b.done(a.resolve)})},load:function(){var b=this,c=b.taskBefore;b.script=e.scripts[b.url]||function(){var c=b.options.xhr?a.ajax({url:b.url,dataType:"text"}):a.script({url:b.url,type:"text/javascript",async:b.options.async,timeout:b.batch.options.timeout,retry:b.batch.options.retry,verbose:b.batch.options.verbose});
return e.scripts[b.url]=c}(),b.script.done(function(d){var e=function(){b.module?b.waitForModule():b.resolve()};return b.options.xhr&&(b.defineModule&&(b.module=a.module(b.moduleName,function(){var b=this;a.globalEval(d),b.resolveWith(d)})),!b.options.async||c)?(c.done(function(){a.globalEval(d),e()}),void 0):(e(),void 0)}).fail(function(){b.reject()})}}),e}()),a.require.addLoader("library",function(){var e,b=this,c=a.makeArray(arguments),d={};return a.isPlainObject(c[0])?(d=c[0],e=c.slice(1)):e=c,a.extend(d,{path:a.scriptPath}),b.script.apply(b,[d].concat(e))
}),a.require.addLoader("image",function(){var b=function(){var e,f,c=this,d=a.makeArray(arguments);a.isPlainObject(d[0])?(e=d[0],f=d.slice(1)):f=d,e=a.extend({},b.defaultOptions,c.options,e,{batch:c}),a.each(f,function(a,d){var f=new b.task(d,e),g=b.images[f.url];f=g||f,c.addTask(f),g||(b.images[f.url]=f,f.start())})};return a.extend(b,{defaultOptions:{path:""},setup:function(){a.extend(b.defaultOptions,options)},images:{},task:function(b,c){var d=a.extend(this,a.Deferred());d.name=b,d.options=c,d.url=a.isUrl(b)?b:/^(\/|\.)/.test(b)?a.uri(d.options.path).toPath(b).toString():a.uri(d.options.path).toPath("./"+b).toString(),d.options.url=d.url
}}),a.extend(b.task.prototype,{start:function(){var b=this;b.image=a(new Image).load(function(){b.resolve()}).error(function(){b.reject()}).attr("src",b.options.url)}}),b}())}),FD40.plugin("iframe-transport",function(a){a.ajaxPrefilter(function(a){return a.iframe?"iframe":void 0}),a.ajaxTransport("iframe",function(b){function k(){i&&j.replaceWith(function(a){return h.get(a)}),e.remove(),f.attr("src","javascript:false;").remove()}var e=null,f=null,g="iframe-"+a.now(),h=a(b.files).filter(":file:enabled"),i=h.length>0,j=null;
return b.dataTypes.shift(),e=a("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:b.url,target:g}),"string"==typeof b.data&&b.data.length>0&&a.error("data must not be serialized"),a.each(b.data||{},function(b,c){a.isPlainObject(c)&&(b=c.name,c=c.value),a.isArray(c)||(c=[c]),a.each(c,function(c,d){a("<input type='hidden' />").attr({name:b,value:d}).appendTo(e)})}),a("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(e),i&&(j=h.after(function(){return a(this).clone().prop("disabled",!0)
}).next(),h.appendTo(e)),{send:function(b,c){f=a("<iframe src='about:blank' name='"+g+"' id='"+g+"' style='display:none'></iframe>"),f.bind("load",function(){f.unbind("load").bind("load",function(){var a=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,b=a.documentElement?a.documentElement:a.body,d=b.getElementsByTagName("textarea")[0],e=d?d.getAttribute("data-type"):null,f=d?d.getAttribute("data-status"):200,g=d?d.getAttribute("data-statusText"):"OK",h={html:b.innerHTML,text:e?d.value:b?b.textContent||b.innerText:null};
k(),c(f,g,h,e?"Content-Type: "+e:null)}),e[0].submit()}),a("body").append(e,f)},abort:function(){null!==f&&(f.unbind("load").attr("src","javascript:false;"),k())}}})}),FD40.plugin("server",function($){var self=$.server=function(a){var b=$.Deferred(),c=$.extend(!0,{},self.defaultOptions,a,{success:function(){}}),d=b.xhr=$.Ajax(c).done(function(c){if("string"==typeof c)try{c=$.parseJSON(c)}catch(d){b.rejectWith(b,["Unable to parse Ajax commands.","error"])}if($.isArray(c)){var e=function(c){var d=c.type,e=self.parsers[d]||a[d];
return $.isFunction(e)?e.apply(b,c.data):void 0},c=$.map(c,function(a){return"notify"!=a.type?a:(e(a),void 0)});$.each(c,function(a,b){e(b)})}else b.rejectWith(b,["Invalid ajax commands.","error"]);"pending"===b.state()&&b.resolveWith(b)}).fail(function(a,c,d){b.rejectWith(b,[d,c])});return b.abort=d.abort,b};self.defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},cache:!1,contentType:"application/x-www-form-urlencoded",dataType:"json"},self.parsers={script:function(){var data=$.makeArray(arguments);
if("string"!=typeof data[0]){var chain=window,chainBroken=!1;$.each(data,function(a,b){"Foundry"===b.property&&(b.property=$.globalNamespace),"Foundry"===b.method&&(b.method=$.globalNamespace);try{switch(b.type){case"get":chain=chain[b.property];break;case"set":chain[b.property]=b.value,chainBroken=!0;break;case"call":chain=chain[b.method].apply(chain,b.args)}}catch(c){chainBroken=!0}})}else try{eval(data[0])}catch(err){}},resolve:function(){this.resolveWith(this,arguments)},reject:function(){this.rejectWith(this,arguments)
},notify:function(){this.notifyWith(this,arguments)},redirect:function(a){window.location=a}}}),FD40.plugin("component",function(a){var b=a.Component=function(a,c){return arguments.length<1?b.registry:arguments.length<2?b.registry[a]:b.register(a,c)};b.registry={},b.proxy=function(b,c,d){b[c]=a.isFunction(d)?a.proxy(d,b):d},b.register=function(c,d){var e;a.isFunction(c)&&(e=c,c=e.className,d=e.options);var f=b.registry[c]=window[c]=function(b){return a.isFunction(b)?b(a):component};if(a.each(b.prototype,function(a,c){b.proxy(f,a,c)
}),f.$=a,f.options=d,f.className=c,f.identifier="easysocial",f.componentName="com_easysocial",f.prefix=f.identifier+"/",f.version=d.version,f.safeVersion=f.version.replace(/\./g,""),f.environment=d.environment||a.environment,f.mode=d.mode||a.mode,f.debug="development"===f.environment,f.console=b.console(f),f.language=d.language||a.locale.lang||"en",f.baseUrl=d.baseUrl||a.indexUrl+"?option="+f.componentName,f.ajaxUrl=d.ajaxUrl||a.basePath+"/?option="+f.componentName,f.scriptPath=d.scriptPath||a.rootPath+"/media/"+f.componentName+"/scripts/",f.stylePath=d.stylePath||a.rootPath+"/media/"+f.componentName+"/styles/",f.templatePath=d.templatePath||d.scriptPath,f.languagePath=d.languagePath||f.ajaxUrl+"&tmpl=component&no_html=1&controller=lang&task=getLanguage",f.viewPath=d.viewPath||f.ajaxUrl+"&tmpl=component&no_html=1&controller=themes&task=getAjaxTemplate",f.optimizeResources=!0,f.resourcePath=d.resourcePath||f.ajaxUrl+"&tmpl=component&no_html=1&controller=foundry&task=getResource",f.resourceInterval=1200,f.scriptVersioning=d.scriptVersioning||!1,f.tasks=[],FD40.component(c,f),e){if(f.debug)e.queue.execute();
else{for(var g,h=FD40.installer(c);g=h.shift();)f.install.apply(f,g);a.when(f.install("definitions"),f.install("scripts"),f.install("resources")).done(function(){e.queue.execute()})}var i=f.storage=function(b,c){var d=f.prefix,b=d+b,e=arguments.length;return 1==e?a.Storage.get(b):2==e?b===!1?a.Storage.remove(d+c):a.Storage.set(b,c):i.getAll()};a.extend(f.storage,{getAll:function(){var b=f.prefix,c=b.length,d=a.Storage.getAll(),e={};for(key in d)key.substr(0,c)==b&&(e[key.substr(c)]=d[key]);return e},remove:function(b){a.Storage.remove(f.prefix+b)
},clear:function(){for(key in i.getAll())i.remove(key)}})}},b.extend=function(c,d){b.prototype[c]=d,a.each(b.registry,function(a,e){b.proxy(e,c,d)})},a.template("component/console",'<div id="[%== component.identifier %]-console" class="foundry-console" style="display: none; z-index: 999999;"><div class="console-header"><div class="console-title">[%= component.className %] [%= component.version %]</div><div class="console-remove-button">x</div></div><div class="console-log-item-group"></div><style type="text/css">.foundry-console{position:fixed;width:50%;height:50%;bottom:0;left:0;background:white;box-shadow: 0 0 5px 0;margin-left: 25px;}.console-log-item-group{width: 100%;height: 100%;overflow-y:scroll;}.console-header{position: absolute;background:red;color:white;font-weight:bold;top:-24px;left: 0;line-height:24px;width:100%}.console-remove-button{text-align:center;cursor: pointer;display:block;width: 24px;float:right}.console-remove-button:hover{color: yellow}.console-title{padding: 0 5px;float:left}.console-log-item{padding: 5px}.console-log-item + .console-log-item{border-top: 1px solid #ccc}</style></div>'),b.console=function(b){return function(b){var d,c=function(a){return arguments.length<1?c.toggle():c[a]&&c[a].apply(c,arguments)
};return c.selector="#"+b.identifier+"-console",c.init=function(){return d=a(c.selector),d.length<1&&(d=a(a.View("component/console",{component:b})).appendTo("body"),d.find(".console-remove-button").click(function(){d.hide()})),c.element=d,arguments.callee},c.methods={log:function(c,e,f){e=e||"info";var g=d.find(".console-log-item-group"),h=a(document.createElement("div")).addClass("console-log-item type-"+e).attr("data-code",f).html(c);g.append(h),g[0].scrollTop=g[0].scrollHeight,b.debug&&d.show()},toggle:function(){d.toggle()
},reset:function(){d.find(".console-log-item-group").empty()}},a.each(c.methods,function(a,b){c[a]=function(){return c.init(),b.apply(c,arguments)}}),c}(b)};var c=a(document),d=b.prototype;a.extend(d,{run:function(b){return a.isFunction(b)?b(a):this},ready:function(){return c.ready(function(){d.ready=d.run}),function(b){a.isFunction(b)&&c.ready(function(){b(a)})}}(),install:function(b,c){var d=this,e=d.tasks[b]||(d.tasks[b]=a.Deferred());if(!c)return e;var f=function(){return c(a,d),e.resolve()};return"definitions"==b?f():(a.when(d.install("definitions")).done(f),void 0)
},token:function(){var a=this;return a.token.value?a.token.value:a.token.value=window.es.token},template:function(b){var c=this;return void 0==b?a.grep(a.template(),function(a){return 0==a.indexOf(c.prefix)}):(arguments[0]=c.prefix+b,a.template.apply(null,arguments))},require:function(b){var c=this,b=b||{},d=a.require(b),e={};return a.each(["library","script","template","done"],function(a,b){e[b]=d[b]}),d.resource=function(b){if(a.isPlainObject(b)&&b.type&&b.name&&a.isDeferred(b.loader)){var f=c.resourceCollector;
f||(f=c.resourceCollector=a.Deferred(),a.extend(f,{name:a.uid("ResourceCollector"),manifest:[],loaderList:[],loaders:[],load:function(){if(delete c.resourceCollector,f.manifest.length<0)return f.resolve(),void 0;var b=0,d=function(){b++,a.Ajax({type:"POST",url:c.resourcePath,dataType:"json",data:{resource:f.manifest}}).done(function(d){return a.isArray(d)?(a.each(d,function(a,b){var c=b.content;f.loaders[b.id][void 0!==c?"resolve":"reject"](c)}),b>1&&c.debug&&console.info("Attempt to try and get resources again was successful!"),void 0):(f.reject("Server did not return a valid resource manifest."),void 0)
}).fail(function(){return b>2?(c.debug&&console.error("Unable to get resource again. Giving up!"),void 0):(c.debug&&console.warn("Unable to get resource. Trying again..."),d(),void 0)})};d(),a.when.apply(null,f.loaderList).done(f.resolve).fail(f.reject)}}),setTimeout(f.load,c.resourceCollectionInterval));var g=b.id=a.uid("Resource");return f.loaders[g]=b.loader,f.loaderList.push(b.loader),delete b.loader,f.manifest.push(b),d}},d.view=function(){var b=this,e=b.expand(arguments,{path:c.viewPath}),f={},g=e.options,h=a.map(e.names,function(e){var g=c.prefix+e,h=a.require.template.loaders[g];
if(!h)return h=a.require.template.loader(g),h.name=g,b.addTask(h),c.optimizeResources?(d.resource({type:"view",name:e,loader:h}),void 0):(f[e]=h,e)});return h.length>0&&a.Ajax({url:g.path,dataType:"json",data:{names:h}}).done(function(b){a.isArray(b)&&a.each(b,function(a,b){var c=b.content;f[b.name][void 0!==c?"resolve":"reject"](c)})}),d},d.library=function(){return e.script.apply(this,arguments),d},d.script=function(){var b=this,f=b.expand(arguments,{path:c.scriptPath}),g=a.map(f.names,function(b){if(a.isArray(b)||a.isUrl(b)||/^(\/|\.)/.test(b))return b;
var d=c.prefix+b,e=a.uri(f.options.path).toPath("./"+b+"."+(f.options.extension||"js")+(c.scriptVersioning?"?version="+c.safeVersion:"")).toString();return[[d,e,!0]]});return e.script.apply(d,[f.options].concat(g)),d},d.template=function(){var b=this,f=b.expand(arguments,{path:c.templatePath});return e.template.apply(d,[f.options].concat(a.map(f.names,function(a){return[[c.prefix+a,a]]}))),d},d.app=function(){var b=this,f=b.expand(arguments,{path:c.scriptPath});return names=a.map(f.names,function(b){if(a.isArray(b)||a.isUrl(b)||/^(\/|\.)/.test(b))return b;
var d=b.split("/"),e=a.rootPath+"/media/"+c.componentName+"/apps";4===d.length&&(e+="/"+d.shift()),e+="/"+d[0]+"/"+d[1]+"/scripts/"+d[2];var g=c.prefix+b,h=e+"."+(f.options.extension||"js")+(c.scriptVersioning?"?version="+c.safeVersion:"");return[[g,h,!0]]}),e.script.apply(d,[f.options].concat(names)),d},d.done=function(a){return e.done.call(d,function(){c.ready(a)})},d},module:function(b,c){var d=this;if(!a.isArray(b)){var e=d.prefix+b;return c?a.module.apply(null,[e,function(){var b=this;c.call(b,a)}]):a.module(e)
}}}),a.Component.extend("ajax",function(b,c,d){var e=this,f=new Date,g={url:e.ajaxUrl+"&_ts="+f.getTime(),data:a.extend(c,{option:e.componentName,namespace:b})};if(g=a.extend(!0,g,e.options.ajax),g.data[e.token()]=1,g.data.hasOwnProperty("args")&&(g.data.args=a.toJSON(g.data.args)),a.isPlainObject(d)){if(d.type){switch(d.type){case"jsonp":d.dataType="jsonp",d.crossDomain=!0,g.data.transport="jsonp";break;case"iframe":d.iframe=!0,d.processData=!1,d.files=g.data.files,delete g.data.files,g.data.transport="iframe"
}delete d.type}a.extend(g,d)}a.isFunction(d)&&(g.success=d);var h=a.server(g);return h.progress(function(a,b,c){e.debug&&"debug"==b&&e.console.log(a,b,c)}),h}),a.Component.extend("Controller",function(){var e,f,b=this,c=a.makeArray(arguments),d=c[0];return 1==c.length?a.String.getObject(d):(c.length>2?(e=c[1],f=c[2]):(e={},f=c[1]),a.extend(e,{root:b.className+".Controller",component:b}),a.Controller.apply(this,[d,e,f]))}),a.Component.extend("Model",function(){var e,f,b=this,c=a.makeArray(arguments),d=b.className+".Model."+c[0];
return 1==c.length?a.String.getObject(c[0]):(2==c.length&&(e={},f=c[1]),c.length>2&&(e=c[1],f=c[2]),a.extend(e,{component:b}),a.Model.apply(this,[d,e,f]))}),a.Component.extend("Model.List",function(){var e,f,b=this,c=a.makeArray(arguments),d=b.className+".Model.List."+c[0];return 1==c.length?a.String.getObject(c[0]):(2==c.length&&(e={},f=c[1]),c.length>2&&(e=c[1],f=c[2]),a.extend(e,{component:b}),a.Model.List.apply(this,[d,e,f]))}),a.Component.extend("View",function(){var c=this;return arguments.length<1?c.template():(arguments[0]=c.prefix+arguments[0],a.View.apply(this,arguments))
}),FD40.module.execute(),a.each(FD40.component(),function(b,c){c.registered||a.Component.register(c)})}),FD40.plugin("static",function($){$.module(["autosize.input","datetimepicker","dialog","expanding","gmaps","history","image","markitup","mentions","moment","passwordstrength","placeholder","plupload","popbox","scrollTo","textboxlist","ui/core","ui/mouse","ui/position","ui/resizable","ui/slider","ui/widget"]),function(){var a=function(a){var b=this,d=function(){var b=function(c,d){var e=this;e.input=a(c),e.options=a.extend(b.defaultOptions,d),e.mirror=a('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),a.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(a,b){e.mirror[0].style[b]=e.input.css(b)
}),a("body").append(e.mirror),e.input.bind("keydown keyup input",function(){e.update()}),e.update()};b.defaultOptions={space:30},b.validTypes=["text","password","search","url","tel","email"],b.prototype.update=function(){var a=this,b=a.input,c=a.mirror,d=b.val();if(d||(d=b.attr("placeholder")),d!==c.text()){c.text(d);var e=c.width()+a.options.space;b.width(e)}},a.fn.autosizeInput=function(c){return this.each(function(){if("INPUT"==this.tagName&&a.inArray(this.type,b.validTypes)>-1){var d=a(this);d.data("autosizeInputInstance")||d.data("autosizeInputInstance",new b(this,c))
}})},a(function(){a("input[data-autosize-input]").autosizeInput()})};d(),b.resolveWith(d)};FD40.module("autosize.input",a)}(),function(){var a=function(a){var b=this;a.require().script("moment").done(function(){var c=function(){var b=0,c=a.moment,d=function(d,e){var f={pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,minuteStepping:1,minDate:new c({y:1900}),maxDate:(new c).add(100,"y"),showToday:!0,collapse:!0,language:"en",defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:!1,component:"",dow:0},g={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down"},h=this,j=function(){var n,i=!1;
if(h.options=a.extend({},f,e),h.options.icons=a.extend({},g,h.options.icons),h.element=a(d),l(),!h.options.pickTime&&!h.options.pickDate)throw new Error("Must choose at least one picker");if(h.id=b++,c.lang(h.options.language),h.date=c(),h.unset=!1,h.isInput=h.element.is("input"),h.component=!1,c()._lang._week.dow=h.options.dow,h.element.hasClass("input-group")&&(h.component=0==h.element.find(".datepickerbutton").size()?h.element.find("[class^='input-group-']"):h.element.find(".datepickerbutton")),h.format=h.options.format,n=c()._lang._longDateFormat,h.format||(h.format=h.options.pickDate?n.L:"",h.options.pickDate&&h.options.pickTime&&(h.format+=" "),h.format+=h.options.pickTime?n.LT:"",h.options.useSeconds&&(~n.LT.indexOf(" A")?h.format=h.format.split(" A")[0]+":ss A":h.format+=":ss")),h.use24hours=h.format.toLowerCase().indexOf("a")<1,h.component&&(i=h.component.find("span")),h.options.pickTime&&i&&i.addClass(h.options.icons.time),h.options.pickDate&&i&&(i.removeClass(h.options.icons.time),i.addClass(h.options.icons.date)),h.widget=a(O()).appendTo("body"),h.options.useSeconds&&!h.use24hours&&h.widget.width(300),h.minViewMode=h.options.minViewMode||0,"string"==typeof h.minViewMode)switch(h.minViewMode){case"months":h.minViewMode=1;
break;case"years":h.minViewMode=2;break;default:h.minViewMode=0}if(h.viewMode=h.options.viewMode||0,"string"==typeof h.viewMode)switch(h.viewMode){case"months":h.viewMode=1;break;case"years":h.viewMode=2;break;default:h.viewMode=0}if(h.options.disabledDates=M(h.options.disabledDates),h.options.enabledDates=M(h.options.enabledDates),h.startViewMode=h.viewMode,h.setMinDate(h.options.minDate),h.setMaxDate(h.options.maxDate),q(),r(),t(),u(),v(),p(),C(),D(),""!==h.options.defaultDate&&""==k().val()&&h.setValue(h.options.defaultDate),1!==h.options.minuteStepping){var o=h.options.minuteStepping;
h.date.minutes(Math.round(h.date.minutes()/o)*o%60).seconds(0)}},k=function(){return h.isInput?h.element:dateStr=h.element.find("input")},l=function(){var a;a=h.element.is("input")?h.element.data():h.element.data(),void 0!==a.dateFormat&&(h.options.format=a.dateFormat),void 0!==a.datePickdate&&(h.options.pickDate=a.datePickdate),void 0!==a.datePicktime&&(h.options.pickTime=a.datePicktime),void 0!==a.dateUseminutes&&(h.options.useMinutes=a.dateUseminutes),void 0!==a.dateUseseconds&&(h.options.useSeconds=a.dateUseseconds),void 0!==a.dateUsecurrent&&(h.options.useCurrent=a.dateUsecurrent),void 0!==a.dateMinutestepping&&(h.options.minuteStepping=a.dateMinutestepping),void 0!==a.dateMindate&&(h.options.minDate=a.dateMindate),void 0!==a.dateMaxdate&&(h.options.maxDate=a.dateMaxdate),void 0!==a.dateShowtoday&&(h.options.showToday=a.dateShowtoday),void 0!==a.dateCollapse&&(h.options.collapse=a.dateCollapse),void 0!==a.dateLanguage&&(h.options.language=a.dateLanguage),void 0!==a.dateDefaultdate&&(h.options.defaultDate=a.dateDefaultdate),void 0!==a.dateDisableddates&&(h.options.disabledDates=a.dateDisableddates),void 0!==a.dateEnableddates&&(h.options.enabledDates=a.dateEnableddates),void 0!==a.dateIcons&&(h.options.icons=a.dateIcons),void 0!==a.dateUsestrict&&(h.options.useStrict=a.dateUsestrict),void 0!==a.dateDirection&&(h.options.direction=a.dateDirection),void 0!==a.dateSidebyside&&(h.options.sideBySide=a.dateSidebyside)
},m=function(){var b="absolute",c=h.component?h.component.offset():h.element.offset(),d=a(window);h.width=h.component?h.component.outerWidth():h.element.outerWidth(),c.top=c.top+h.element.outerHeight();var e;"up"===h.options.direction?e="top":"bottom"===h.options.direction?e="bottom":"auto"===h.options.direction&&(e=c.top+h.widget.height()>d.height()+d.scrollTop()&&h.widget.height()+h.element.outerHeight()<c.top?"top":"bottom"),"top"===e?(c.top-=h.widget.height()+h.element.outerHeight()+15,h.widget.addClass("top").removeClass("bottom")):(c.top+=1,h.widget.addClass("bottom").removeClass("top")),void 0!==h.options.width&&h.widget.width(h.options.width),"left"===h.options.orientation&&(h.widget.addClass("left-oriented"),c.left=c.left-h.widget.width()+20),H()&&(b="fixed",c.top-=d.scrollTop(),c.left-=d.scrollLeft()),d.width()<c.left+h.widget.outerWidth()?(c.right=d.width()-c.left-h.width,c.left="auto",h.widget.addClass("pull-right")):(c.right="auto",h.widget.removeClass("pull-right")),h.widget.css({position:b,top:c.top,left:c.left,right:c.right})
},n=function(a,b){c(h.date).isSame(c(a))||(h.element.trigger({type:"dp.change",date:c(h.date),oldDate:c(a)}),"change"!==b&&h.element.change())},o=function(a){h.element.trigger({type:"dp.error",date:c(a)})},p=function(a){c.lang(h.options.language);var b=a;b||(b=k().val(),b&&(h.date=c(b,h.format,h.options.useStrict)),h.date||(h.date=c())),h.viewDate=c(h.date).startOf("month"),s(),w()},q=function(){c.lang(h.options.language);var b=a("<tr>"),d=c.weekdaysMin(),f=d.splice(c()._lang._week.dow);d=f.concat(d),a.each(d,function(a,c){b.append('<th class="dow">'+c+"</th>")
}),h.widget.find(".datepicker-days thead").append(b)},r=function(){c.lang(h.options.language);for(var a="",b=0,d=c.monthsShort();12>b;)a+='<span class="month">'+d[b++]+"</span>";h.widget.find(".datepicker-months td").append(a)},s=function(){c.lang(h.options.language);var j,k,l,n,o,p,q,r,s,b=h.viewDate.year(),d=h.viewDate.month(),e=h.options.minDate.year(),f=h.options.minDate.month(),g=h.options.maxDate.year(),i=h.options.maxDate.month(),m=[],t=c.months();for(h.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),h.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),h.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),h.widget.find(".datepicker-days th:eq(1)").text(t[d]+" "+b),k=c(h.viewDate).subtract("months",1),q=k.daysInMonth(),k.date(q).startOf("week"),(b==e&&f>=d||e>b)&&h.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(b==g&&d>=i||b>g)&&h.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),l=c(k).add(42,"d");k.isBefore(l);){if(k.weekday()===c().startOf("week").weekday()&&(n=a("<tr>"),m.push(n)),o="",k.year()<b||k.year()==b&&k.month()<d?o+=" old":(k.year()>b||k.year()==b&&k.month()>d)&&(o+=" new"),k.isSame(c({y:h.date.year(),M:h.date.month(),d:h.date.date()}))&&(o+=" active"),(K(k)||!L(k))&&(o+=" disabled"),h.options.showToday===!0&&k.isSame(c(),"day")&&(o+=" today"),h.options.daysOfWeekDisabled)for(p in h.options.daysOfWeekDisabled)if(k.day()==h.options.daysOfWeekDisabled[p]){o+=" disabled";
break}n.append('<td class="day'+o+'">'+k.date()+"</td>"),j=k.date(),k.add(1,"d"),j==k.date()&&k.add(1,"d")}for(h.widget.find(".datepicker-days tbody").empty().append(m),s=h.date.year(),t=h.widget.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active"),s===b&&t.eq(h.date.month()).addClass("active"),e>s-1&&h.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),s+1>g&&h.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),p=0;12>p;p++)b==e&&f>p||e>b?a(t[p]).addClass("disabled"):(b==g&&p>i||b>g)&&a(t[p]).addClass("disabled");
for(m="",b=10*parseInt(b/10,10),r=h.widget.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td"),h.widget.find(".datepicker-years").find("th").removeClass("disabled"),e>b&&h.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),b+9>g&&h.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),b-=1,p=-1;11>p;p++)m+='<span class="year'+(-1===p||10===p?" old":"")+(s===b?" active":"")+(e>b||b>g?" disabled":"")+'">'+b+"</span>",b+=1;r.html(m)},t=function(){c.lang(h.options.language);
var d,e,f,a=h.widget.find(".timepicker .timepicker-hours table"),b="";if(a.parent().hide(),h.use24hours)for(d=0,e=0;6>e;e+=1){for(b+="<tr>",f=0;4>f;f+=1)b+='<td class="hour">'+N(d.toString())+"</td>",d++;b+="</tr>"}else for(d=1,e=0;3>e;e+=1){for(b+="<tr>",f=0;4>f;f+=1)b+='<td class="hour">'+N(d.toString())+"</td>",d++;b+="</tr>"}a.html(b)},u=function(){var d,e,a=h.widget.find(".timepicker .timepicker-minutes table"),b="",c=0,f=h.options.minuteStepping;for(a.parent().hide(),1==f&&(f=5),d=0;d<Math.ceil(60/f/4);d++){for(b+="<tr>",e=0;4>e;e+=1)60>c?(b+='<td class="minute">'+N(c.toString())+"</td>",c+=f):b+="<td></td>";
b+="</tr>"}a.html(b)},v=function(){var d,e,a=h.widget.find(".timepicker .timepicker-seconds table"),b="",c=0;for(a.parent().hide(),d=0;3>d;d++){for(b+="<tr>",e=0;4>e;e+=1)b+='<td class="second">'+N(c.toString())+"</td>",c+=5;b+="</tr>"}a.html(b)},w=function(){if(h.date){var a=h.widget.find(".timepicker span[data-time-component]"),b=h.date.hours(),c="AM";h.use24hours||(b>=12&&(c="PM"),0===b?b=12:12!=b&&(b%=12),h.widget.find(".timepicker [data-action=togglePeriod]").text(c)),a.filter("[data-time-component=hours]").text(N(b)),a.filter("[data-time-component=minutes]").text(N(h.date.minutes())),a.filter("[data-time-component=seconds]").text(N(h.date.second()))
}},x=function(b){b.stopPropagation(),b.preventDefault(),h.unset=!1;var e,f,g,i,d=a(b.target).closest("span, td, th"),j=c(h.date);if(1===d.length&&!d.is(".disabled"))switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":C(1);break;case"prev":case"next":g=P.modes[h.viewMode].navStep,"prev"===d[0].className&&(g=-1*g),h.viewDate.add(g,P.modes[h.viewMode].navFnc),s()}break;case"span":d.is(".month")?(e=d.parent().find("span").index(d),h.viewDate.month(e)):(f=parseInt(d.text(),10)||0,h.viewDate.year(f)),h.viewMode===h.minViewMode&&(h.date=c({y:h.viewDate.year(),M:h.viewDate.month(),d:h.viewDate.date(),h:h.date.hours(),m:h.date.minutes(),s:h.date.seconds()}),n(j,b.type),I()),C(-1),s();
break;case"td":d.is(".day")&&(i=parseInt(d.text(),10)||1,e=h.viewDate.month(),f=h.viewDate.year(),d.is(".old")?0===e?(e=11,f-=1):e-=1:d.is(".new")&&(11==e?(e=0,f+=1):e+=1),h.date=c({y:f,M:e,d:i,h:h.date.hours(),m:h.date.minutes(),s:h.date.seconds()}),h.viewDate=c({y:f,M:e,d:Math.min(28,i)}),s(),I(),n(j,b.type))}},y={incrementHours:function(){J("add","hours",1)},incrementMinutes:function(){J("add","minutes",h.options.minuteStepping)},incrementSeconds:function(){J("add","seconds",1)},decrementHours:function(){J("subtract","hours",1)
},decrementMinutes:function(){J("subtract","minutes",h.options.minuteStepping)},decrementSeconds:function(){J("subtract","seconds",1)},togglePeriod:function(){var a=h.date.hours();a>=12?a-=12:a+=12,h.date.hours(a)},showPicker:function(){h.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),h.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){h.widget.find(".timepicker .timepicker-picker").hide(),h.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){h.widget.find(".timepicker .timepicker-picker").hide(),h.widget.find(".timepicker .timepicker-minutes").show()
},showSeconds:function(){h.widget.find(".timepicker .timepicker-picker").hide(),h.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=h.widget.find(".timepicker [data-action=togglePeriod]").text(),d=parseInt(a(b.target).text(),10);"PM"==c&&(d+=12),h.date.hours(d),y.showPicker.call(h)},selectMinute:function(b){h.date.minutes(parseInt(a(b.target).text(),10)),y.showPicker.call(h)},selectSecond:function(b){h.date.seconds(parseInt(a(b.target).text(),10)),y.showPicker.call(h)}},z=function(b){var d=c(h.date),e=a(b.currentTarget).data("action"),f=y[e].apply(h,arguments);
return A(b),h.date||(h.date=c({y:1970})),I(),w(),n(d,b.type),f},A=function(a){a.stopPropagation(),a.preventDefault()},B=function(b){c.lang(h.options.language);var d=a(b.target),e=c(h.date),f=c(d.val(),h.format,h.options.useStrict);f.isValid()&&!K(f)&&L(f)?(p(),h.setValue(f),n(e,b.type),I()):(h.viewDate=e,n(e,b.type),o(f),h.unset=!0)},C=function(a){a&&(h.viewMode=Math.max(h.minViewMode,Math.min(2,h.viewMode+a)));P.modes[h.viewMode].clsName;h.widget.find(".datepicker > div").hide().filter(".datepicker-"+P.modes[h.viewMode].clsName).show()
},D=function(){var b,c,d,e,f;h.widget.on("click",".datepicker *",a.proxy(x,this)),h.widget.on("click","[data-action]",a.proxy(z,this)),h.widget.on("mousedown",a.proxy(A,this)),h.options.pickDate&&h.options.pickTime&&h.widget.on("click.togglePicker",".accordion-toggle",function(g){if(g.stopPropagation(),b=a(this),c=b.closest("ul"),d=c.find(".in"),e=c.find(".collapse:not(.in)"),d&&d.length){if(f=d.data("collapse"),f&&f.date-transitioning)return;d.collapse("hide"),e.collapse("show"),b.find("span").toggleClass(h.options.icons.time+" "+h.options.icons.date),h.element.find(".input-group-addon span").toggleClass(h.options.icons.time+" "+h.options.icons.date)
}}),h.isInput?h.element.on({focus:a.proxy(h.show,this),change:a.proxy(B,this),blur:a.proxy(h.hide,this)}):(h.element.on({change:a.proxy(B,this)},"input"),h.component?h.component.on("click",a.proxy(h.show,this)):h.element.on("click",a.proxy(h.show,this)))},E=function(){a(window).on("resize.datetimepicker"+h.id,a.proxy(m,this)),h.isInput||a(document).on("mousedown.datetimepicker"+h.id,a.proxy(h.hide,this))},F=function(){h.widget.off("click",".datepicker *",h.click),h.widget.off("click","[data-action]"),h.widget.off("mousedown",h.stopEvent),h.options.pickDate&&h.options.pickTime&&h.widget.off("click.togglePicker"),h.isInput?h.element.off({focus:h.show,change:h.change}):(h.element.off({change:h.change},"input"),h.component?h.component.off("click",h.show):h.element.off("click",h.show))
},G=function(){a(window).off("resize.datetimepicker"+h.id),h.isInput||a(document).off("mousedown.datetimepicker"+h.id)},H=function(){if(h.element){var d,b=h.element.parents(),c=!1;for(d=0;d<b.length;d++)if("fixed"==a(b[d]).css("position")){c=!0;break}return c}return!1},I=function(){c.lang(h.options.language);var a="";h.unset||(a=c(h.date).format(h.format)),k().val(a),h.element.data("date",a),h.options.pickTime||h.hide()},J=function(a,b,d){c.lang(h.options.language);var e;return"add"==a?(e=c(h.date),23==e.hours()&&e.add(d,b),e.add(d,b)):e=c(h.date).subtract(d,b),K(c(e.subtract(d,b)))||K(e)?(o(e.format(h.format)),void 0):("add"==a?h.date.add(d,b):h.date.subtract(d,b),h.unset=!1,void 0)
},K=function(a){return c.lang(h.options.language),a.isAfter(h.options.maxDate)||a.isBefore(h.options.minDate)?!0:h.options.disabledDates===!1?!1:h.options.disabledDates[c(a).format("YYYY-MM-DD")]===!0},L=function(a){return c.lang(h.options.language),h.options.enabledDates===!1?!0:h.options.enabledDates[c(a).format("YYYY-MM-DD")]===!0},M=function(a){var b={},d=0;for(i=0;i<a.length;i++)dDate=c(a[i]),dDate.isValid()&&(b[dDate.format("YYYY-MM-DD")]=!0,d++);return d>0?b:!1},N=function(a){return a=a.toString(),a.length>=2?a:"0"+a
},O=function(){if(h.options.pickDate&&h.options.pickTime){var a="";return a='<div id="es" class="ui bootstrap-datetimepicker-widget'+(h.options.sideBySide?" timepicker-sbs":"")+" "+h.options.component+'" style="z-index:99999 !important;">',a+=h.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+P.template+'</div><div class="col-sm-6 timepicker">'+Q.getTemplate()+"</div></div>":'<ul class="g-list-unstyled"><li'+(h.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+P.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn btn-es-primary" style="width:100%"><span class="'+h.options.icons.time+'"></span></a></li><li'+(h.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+Q.getTemplate()+"</div></li></ul>",a+="</div>"
}return h.options.pickTime?'<div id="es" class="ui bootstrap-datetimepicker-widget"><div class="timepicker">'+Q.getTemplate()+"</div></div>":'<div id="es" class="ui bootstrap-datetimepicker-widget"><div class="datepicker">'+P.template+"</div></div>"},P={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},Q={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};
P.template='<div class="datepicker-days"><table class="table-condensed">'+P.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+P.headTemplate+P.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+P.headTemplate+P.contTemplate+"</table></div>",Q.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="'+h.options.icons.up+'"></i></a></td><td class="separator"></td><td>'+(h.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><i class="'+h.options.icons.up+'"></i></a>':"")+"</td>"+(h.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="'+h.options.icons.up+'"></i></a></td>':"")+(h.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+Q.hourTemplate+'</td> <td class="separator">:</td><td>'+(h.options.useMinutes?Q.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(h.options.useSeconds?'<td class="separator">:</td><td>'+Q.secondTemplate+"</td>":"")+(h.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="'+h.options.icons.down+'"></i></a></td><td class="separator"></td><td>'+(h.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><i class="'+h.options.icons.down+'"></i></a>':"")+"</td>"+(h.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="'+h.options.icons.down+'"></i></a></td>':"")+(h.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(h.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")
},h.destroy=function(){F(),G(),h.widget.remove(),h.element.removeData("DateTimePicker"),h.component&&h.component.removeData("DateTimePicker")},h.show=function(a){if(h.options.useCurrent&&""==k().val())if(1!==h.options.minuteStepping){var b=c(),d=h.options.minuteStepping;b.minutes(Math.round(b.minutes()/d)*d%60).seconds(0),h.setValue(b.format(h.format))}else h.setValue(c().format(h.format));h.widget.hasClass("picker-open")?(h.widget.hide(),h.widget.removeClass("picker-open")):(h.widget.show(),h.widget.addClass("picker-open")),h.height=h.component?h.component.outerHeight():h.element.outerHeight(),m(),h.element.trigger({type:"dp.show",date:c(h.date)}),E(),a&&A(a)
},h.disable=function(){var a=h.element.find("input");a.prop("disabled")||(a.prop("disabled",!0),F())},h.enable=function(){var a=h.element.find("input");a.prop("disabled")&&(a.prop("disabled",!1),D())},h.hide=function(b){if(!b||!a(b.target).is(h.element.attr("id"))){var e,f,d=h.widget.find(".collapse");for(e=0;e<d.length;e++)if(f=d.eq(e).data("collapse"),f&&f.date-transitioning)return;h.widget.hide(),h.widget.removeClass("picker-open"),h.viewMode=h.startViewMode,C(),h.element.trigger({type:"dp.hide",date:c(h.date)}),G()
}},h.setValue=function(a){c.lang(h.options.language),a?h.unset=!1:(h.unset=!0,I()),c.isMoment(a)||(a=c(a,h.format)),a.isValid()?(h.date=a,I(),h.viewDate=c({y:h.date.year(),M:h.date.month()}),s(),w()):o(a)},h.getDate=function(){return h.unset?null:h.date},h.setDate=function(a){var b=c(h.date);a?h.setValue(a):h.setValue(null),n(b,"function")},h.setDisabledDates=function(a){h.options.disabledDates=M(a),h.viewDate&&p()},h.setEnabledDates=function(a){h.options.enabledDates=M(a),h.viewDate&&p()},h.setMaxDate=function(a){void 0!=a&&(h.options.maxDate=c(a),h.viewDate&&p())
},h.setMinDate=function(a){void 0!=a&&(h.options.minDate=c(a),h.viewDate&&p())},j()};a.fn._datetimepicker=function(b){return this.each(function(){var c=a(this),e=c.data("DateTimePicker");e||c.data("DateTimePicker",new d(this,b))})}};c(),b.resolveWith(c)})};FD40.module("datetimepicker",a)}(),function(){var moduleFactory=function($){var module=this,jQuery=$,exports=function(){var dialogHtml='<div id="es" class="es-dialog"> <div class="es-dialog-modal"> <div class="es-dialog-header"> <div class="es-dialog-header__grid"> <div class="es-dialog-header__cell"><span class="es-dialog-title"></span></div> <div class="es-dialog-close-button"><i class="fa fa-close"></i></div> </div> </div> <div class="es-dialog-body"> <div class="es-dialog-container"> <div class="es-dialog-content"></div> <div class="o-loader"></div> <div class="o-empty"> <div class="o-empty__content"><i class="o-empty__icon fa fa-exclamation-triangle"></i> <div class="o-empty__text"><span class="es-dialog-error-message"></span></div> </div> </div> </div> </div> <div class="es-dialog-footer"> <div class=""> <div class="es-dialog-footer-content"></div> </div> </div> </div></div>',dialog_=".es-dialog",dialogModal_=".es-dialog-modal",dialogContent_=".es-dialog-content",dialogHeader_=".es-dialog-header",dialogFooter_=".es-dialog-footer",dialogFooterContent_=".es-dialog-footer-content",dialogCloseButton_=".es-dialog-close-button",dialogTitle_=".es-dialog-title",dialogErrorMessage_=".es-dialog-error-message",isFailed="is-failed",isLoading="is-loading",rxBraces=/\{|\}/gi,self=EasySocial.dialog=function(a){if(void 0===a)return self;
$.isString(a)&&(a={content:a});var b=self.open;return b.apply(self,[a]),self};$.extend(self,{defaultOptions:{title:"",content:"",buttons:"",classname:"",width:"auto",height:"auto",escapeKey:!0},open:function(a){var b=$(dialog_);b.length<1&&(b=$(dialogHtml).appendTo("body"));var a=$.extend({},self.defaultOptions,a),c=$(dialogTitle_);c.text(a.title);var d=$(dialogFooterContent_);d.html(a.buttons),b.toggleClass("has-footer",!!a.buttons),self.setBindings(a);var e=$(dialogContent_).empty(),f=a.content,g=self.getContentType(f);
b.switchClass("type-"+g),window.es.mobile&&b.addClass("is-mobile");var h=$(dialogModal_),i=a.width,j=a.height;if($.isNumeric(j)){var k=$(dialogHeader_),l=$(dialogFooter_);j+=k.height()+l.height()}switch(h.css({width:i,height:j}),b.addClassAfter("active"),g){case"html":e.html(f),b.trigger("init");break;case"iframe":var m=$("<iframe>"),n=f;m.appendTo(e).one("load",function(){}).attr("src",n);break;case"deferred":return b.switchClass(isLoading),f.done(function(c){$.isPlainObject(c)?self.reopen($.extend(!0,a,c)):$.isString(c)?(a.content=c,self.reopen(a)):b.switchClass(isFailed)
}).fail(function(a){b.switchClass(isFailed);var c=$(dialogErrorMessage_);$.isString(a)&&c.html(a),$.isPlainObject(a)&&a.message&&c.html(a.message)}),void 0;case"dialog":var o=self.parseXMLOptions(f);return self.open($.extend(!0,a,o)),void 0}},reopen:function(a){self.close(),self.open(a)},close:function(){self.unsetBindings();var a=$(dialog_);a.remove()},getContentType:function(a){return/<dialog>(.*?)/.test(a)?"dialog":$.isUrl(a)?"iframe":$.isDeferred(a)?"deferred":"html"},parseXMLOptions:function(xml){var xmlOptions=$.buildHTML(xml),newOptions={};
return $.each(xmlOptions.children(),function(i,node){var node=$(node),key=$.String.camelize(this.nodeName.toLowerCase()),val=node.html(),type=node.attr("type");switch(type){case"json":try{val=$.parseJSON(val)}catch(e){}break;case"javascript":try{val=eval("(function($){ return "+$.trim(val)+" })("+$.globalNamespace+")")}catch(e){}break;case"text":val=node.text()}$.isNumeric(val)&&(val=parseFloat(val)),newOptions[key]=val}),newOptions},bindings:{},setBindings:function(a){self.unsetBindings();var b=a.selectors,c=a.bindings,d=$(dialog_);
if(b&&c){var e={parent:self};$.each(b,function(a,b){var a=a.replace(rxBraces,""),c=e[a]=function(){return d.find(b)};c.selector=b}),e.parent=self,e.element=d,e.self=function(){return d},a.caller&&(e.caller=a.caller),$.each(c,function(a,b){var c=a.split(" "),f=c[0].replace(rxBraces,""),g=c[1]+".es.dialog",h=e[f];if("init"==f&&d.on(f,function(){var a=[this].concat(arguments);b.apply(e,a)}),!h)return e[f]=b,void 0;var i=h.selector;d.on(g,i,function(){var a=[].slice.call(arguments);b.apply(e,[$(this)].concat(a))
}),self.bindings[g]=b})}a.escapeKey&&$(document).on("keydown.es.dialog",function(a){27==a.keyCode&&self.close()})},setMessage:function(a){var b=$('<div class="o-alert o-alert--'+a.type+'"><button type="button" class="close" data-bs-dismiss="alert">\xd7</button></div>'),c=$(dialogContent_);b.append(a.message),b.prependTo(c)},unsetBindings:function(){var a=$(dialog_);$.each(self.bindings,function(b){a.off(b)}),$(document).off("keydown.es.dialog")}}),$(document).on("click",dialogCloseButton_,function(){self.close()
}).on("click",dialog_,function(a){var b=$(dialog_);a.target==b[0]&&self.close()})};exports(),module.resolveWith(exports)};FD40.module("dialog",moduleFactory)}(),function(){var a=function(a){var b=this,c=function(){function f(){var b=a(this).data("textareaClone");b.find("div").text(this.value.replace(/\r\n/g,"\n")+" "),a(this).trigger("resize.expanding")}a.expandingTextarea=a.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},a.expandingTextarea||{});var b=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],c={position:"absolute",height:"100%",resize:"none"},d={visibility:"hidden",border:"0 solid",whiteSpace:"pre-wrap"},e={position:"relative"};
a.fn.expandingTextarea=function(g){var h=a.extend({},a.expandingTextarea.opts,g);return"resize"===g?this.trigger("input.expanding"):"destroy"===g?(this.filter(".expanding-init").each(function(){var b=a(this).removeClass("expanding-init");b.attr("style",b.data("expanding-styles")||"").removeData("expanding-styles")}),this):(this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var g=a(this),i=g.parent(),j=a(a.parseHTML("<pre class='textareaClone'><div></div></pre>"));g.after(j).data("textareaClone",j),i.css(e),g.data("expanding-styles",g.attr("style")),g.css(c),j.css(d),a.each(b,function(a,b){var c=g.css(b);
j.css(b)!==c&&j.css(b,c)}),g.bind("input.expanding propertychange.expanding keyup.expanding",f),f.apply(this),h.resize&&g.bind("resize.expanding",h.resize)}),this)},a(function(){a.expandingTextarea.autoInitialize&&a(a.expandingTextarea.initialSelector).expandingTextarea()})};c(),b.resolveWith(c)};FD40.module("expanding",a)}(),function(){var a=function(a){var b=this,c=a.callback(function(){window.google||window.google.maps||b.reject("Google Maps API is required. Please register the following JavaScript library http://maps.google.com/maps/api/js?sensor=true.");
var c=function(){"use strict";var c=document,d=function(b,c){return a("#"+b.replace("#",""),c)[0]},g=function(a){var b=this,j=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],k=["mousemove","mouseout","mouseover"];if(window.context_menu={},this.el="string"==typeof a.el||"string"==typeof a.div?d(a.el||a.div,a.context):a.el||a.div,"undefined"==typeof this.el||null===this.el)throw"No element defined.";
this.el.style.width=a.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=a.height||this.el.scrollHeight||this.el.offsetHeight,this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=a.zoom||15,this.registered_events={};var m,l=a.markerClusterer;m=a.mapType?google.maps.MapTypeId[a.mapType.toUpperCase()]:google.maps.MapTypeId.ROADMAP;var n=new google.maps.LatLng(a.lat,a.lng);
delete a.el,delete a.lat,delete a.lng,delete a.mapType,delete a.width,delete a.height,delete a.markerClusterer;var o=a.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},p=a.zoomControl||!0,q=o.style||"DEFAULT",r=o.position||"TOP_LEFT",s=a.panControl||!0,t=a.mapTypeControl||!0,u=a.scaleControl||!0,v=a.streetViewControl||!0,w=w||!0,x={},y={zoom:this.zoom,center:n,mapTypeId:m},z={panControl:s,zoomControl:p,zoomControlOptions:{style:google.maps.ZoomControlStyle[q],position:google.maps.ControlPosition[r]},mapTypeControl:t,scaleControl:u,streetViewControl:v,overviewMapControl:w};
1!=a.disableDefaultUI&&(y=f(y,z)),x=f(y,a);for(var A=0;A<j.length;A++)delete x[j[A]];for(var A=0;A<k.length;A++)delete x[k[A]];this.map=new google.maps.Map(this.el,x),l&&(this.markerClusterer=l.apply(this,[this.map]));var B=function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},C=function(a,c){var e="",f=window.context_menu[a];for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];e+='<li><a id="'+a+"_"+g+'" href="#">'+h.title+"</a></li>"}if(d("gmaps_context_menu")){var i=d("gmaps_context_menu");
i.innerHTML=e;for(var j=i.getElementsByTagName("a"),k=j.length,g=0;k>g;g++){var l=j[g],m=function(d){d.preventDefault(),f[this.id.replace(a+"_","")].action.apply(b,[c]),b.hideContextMenu()};google.maps.event.clearListeners(l,"click"),google.maps.event.addDomListenerOnce(l,"click",m,!1)}var n=B.apply(this,[b.el]),o=n[0]+c.pixel.x-15,p=n[1]+c.pixel.y-15;i.style.left=o+"px",i.style.top=p+"px",i.style.display="block"}},D=function(a,c){if("marker"===a){c.pixel={};var d=new google.maps.OverlayView;d.setMap(b.map),d.draw=function(){var b=d.getProjection(),e=c.marker.getPosition();
c.pixel=b.fromLatLngToContainerPixel(e),C(a,c)}}else C(a,c)};this.setContextMenu=function(a){window.context_menu[a.control]={};for(var b in a.options)if(a.options.hasOwnProperty(b)){var e=a.options[b];window.context_menu[a.control][e.name]={title:e.title,action:e.action}}var f=c.createElement("ul");f.id="gmaps_context_menu",f.style.display="none",f.style.position="absolute",f.style.minWidth="100px",f.style.background="white",f.style.listStyle="none",f.style.padding="8px",f.style.boxShadow="2px 2px 6px #ccc",c.body.appendChild(f);
var g=d("gmaps_context_menu");google.maps.event.addDomListener(g,"mouseout",function(a){a.relatedTarget&&this.contains(a.relatedTarget)||window.setTimeout(function(){g.style.display="none"},400)},!1)},this.hideContextMenu=function(){var a=d("gmaps_context_menu");a&&(a.style.display="none")};for(var E=function(c,d){google.maps.event.addListener(c,d,function(c){void 0==c&&(c=this),a[d].apply(this,[c]),b.hideContextMenu()})},F=0;F<j.length;F++){var G=j[F];G in a&&E(this.map,G)}for(var F=0;F<k.length;F++){var G=k[F];
G in a&&E(this.map,G)}google.maps.event.addListener(this.map,"rightclick",function(b){a.rightclick&&a.rightclick.apply(this,[b]),void 0!=window.context_menu.map&&D("map",b)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){for(var a=[],b=this.markers.length,c=0;b>c;c++)a.push(this.markers[c].getPosition());this.fitLatLngBounds(a)},this.fitLatLngBounds=function(a){for(var b=a.length,c=new google.maps.LatLngBounds,d=0;b>d;d++)c.extend(a[d]);this.map.fitBounds(c)},this.setCenter=function(a,b,c){this.map.panTo(new google.maps.LatLng(a,b)),c&&c()
},this.getElement=function(){return this.el},this.zoomIn=function(a){a=a||1,this.zoom=this.map.getZoom()+a,this.map.setZoom(this.zoom)},this.zoomOut=function(a){a=a||1,this.zoom=this.map.getZoom()-a,this.map.setZoom(this.zoom)};var H=[];for(var I in this.map)"function"!=typeof this.map[I]||this[I]||H.push(I);for(var A=0;A<H.length;A++)!function(a,b,c){a[c]=function(){return b[c].apply(b,arguments)}}(this,this.map,H[A]);this.createControl=function(a){var b=c.createElement("div");b.style.cursor="pointer",b.style.fontFamily="Arial, sans-serif",b.style.fontSize="13px",b.style.boxShadow="rgba(0, 0, 0, 0.398438) 0px 2px 4px";
for(var d in a.style)b.style[d]=a.style[d];a.id&&(b.id=a.id),a.classes&&(b.className=a.classes),a.content&&(b.innerHTML=a.content);for(var e in a.events)!function(b,c){google.maps.event.addDomListener(b,c,function(){a.events[c].apply(this,[this])})}(b,e);return b.index=1,b},this.addControl=function(a){var b=google.maps.ControlPosition[a.position.toUpperCase()];delete a.position;var c=this.createControl(a);return this.controls.push(c),this.map.controls[b].push(c),c},this.createMarker=function(a){if(a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||a.position){var b=this,c=a.details,d=a.fences,e=a.outside,g={position:new google.maps.LatLng(a.lat,a.lng),map:null};
delete a.lat,delete a.lng,delete a.fences,delete a.outside;var h=f(g,a),i=new google.maps.Marker(h);if(i.fences=d,a.infoWindow){i.infoWindow=new google.maps.InfoWindow(a.infoWindow);for(var j=["closeclick","content_changed","domready","position_changed","zindex_changed"],k=0;k<j.length;k++)!function(b,c){a.infoWindow[c]&&google.maps.event.addListener(b,c,function(b){a.infoWindow[c].apply(this,[b])})}(i.infoWindow,j[k])}for(var l=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],m=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],k=0;k<l.length;k++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(){a[c].apply(this,[this])
})}(i,l[k]);for(var k=0;k<m.length;k++)!function(b,c,d){a[d]&&google.maps.event.addListener(c,d,function(c){c.pixel||(c.pixel=b.getProjection().fromLatLngToPoint(c.latLng)),a[d].apply(this,[c])})}(this.map,i,m[k]);return google.maps.event.addListener(i,"click",function(){this.details=c,a.click&&a.click.apply(this,[this]),i.infoWindow&&(b.hideInfoWindows(),i.infoWindow.open(b.map,i))}),google.maps.event.addListener(i,"rightclick",function(b){b.marker=this,a.rightclick&&a.rightclick.apply(this,[b]),void 0!=window.context_menu.marker&&D("marker",b)
}),i.fences&&google.maps.event.addListener(i,"dragend",function(){b.checkMarkerGeofence(i,function(a,b){e(a,b)})}),i}throw"No latitude or longitude defined."},this.addMarker=function(a){var b;if(a.hasOwnProperty("gm_accessors_"))b=a;else{if(!(a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||a.position))throw"No latitude or longitude defined.";b=this.createMarker(a)}return b.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(b),this.markers.push(b),g.fire("marker_added",b,this),b},this.addMarkers=function(a){for(var c,b=0;c=a[b];b++)this.addMarker(c);
return this.markers},this.hideInfoWindows=function(){for(var b,a=0;b=this.markers[a];a++)b.infoWindow&&b.infoWindow.close()},this.removeMarker=function(a){for(var b=0;b<this.markers.length;b++)if(this.markers[b]===a){this.markers[b].setMap(null),this.markers.splice(b,1),g.fire("marker_removed",a,this);break}return a},this.removeMarkers=function(a){for(var a=a||this.markers,b=0;b<this.markers.length;b++)this.markers[b]===a[b]&&this.markers[b].setMap(null);for(var c=[],b=0;b<this.markers.length;b++)null!=this.markers[b].getMap()&&c.push(this.markers[b]);
this.markers=c},this.drawOverlay=function(a){var d=new google.maps.OverlayView;d.setMap(b.map);var e=!0;return null!=a.auto_show&&(e=a.auto_show),d.onAdd=function(){var b=c.createElement("div");b.style.borderStyle="none",b.style.borderWidth="0px",b.style.position="absolute",b.style.zIndex=100,b.innerHTML=a.content,d.el=b;var e=this.getPanes();a.layer||(a.layer="overlayLayer");var f=e[a.layer];f.appendChild(b);for(var g=["contextmenu","DOMMouseScroll","dblclick","mousedown"],h=0;h<g.length;h++)!function(a,b){google.maps.event.addDomListener(a,b,function(a){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(a.cancelBubble=!0,a.returnValue=!1):a.stopPropagation()
})}(b,g[h]);google.maps.event.trigger(this,"ready")},d.draw=function(){var b=this.getProjection(),c=b.fromLatLngToDivPixel(new google.maps.LatLng(a.lat,a.lng));a.horizontalOffset=a.horizontalOffset||0,a.verticalOffset=a.verticalOffset||0;var f=d.el,g=f.children[0],h=g.clientHeight,i=g.clientWidth;switch(a.verticalAlign){case"top":f.style.top=c.y-h+a.verticalOffset+"px";break;default:case"middle":f.style.top=c.y-h/2+a.verticalOffset+"px";break;case"bottom":f.style.top=c.y+a.verticalOffset+"px"}switch(a.horizontalAlign){case"left":f.style.left=c.x-i+a.horizontalOffset+"px";
break;default:case"center":f.style.left=c.x-i/2+a.horizontalOffset+"px";break;case"right":f.style.left=c.x+a.horizontalOffset+"px"}f.style.display=e?"block":"none",e||a.show.apply(this,[f])},d.onRemove=function(){var b=d.el;a.remove?a.remove.apply(this,[b]):(d.el.parentNode.removeChild(d.el),d.el=null)},b.overlays.push(d),d},this.removeOverlay=function(a){for(var b=0;b<this.overlays.length;b++)if(this.overlays[b]===a){this.overlays[b].setMap(null),this.overlays.splice(b,1);break}},this.removeOverlays=function(){for(var c,a=0;c=b.overlays[a];a++)c.setMap(null);
b.overlays=[]},this.drawPolyline=function(a){var b=[],c=a.path;if(c.length)if(void 0===c[0][0])b=c;else for(var e,d=0;e=c[d];d++)b.push(new google.maps.LatLng(e[0],e[1]));var f={map:this.map,path:b,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight,geodesic:a.geodesic,clickable:!0,editable:!1,visible:!0};a.hasOwnProperty("clickable")&&(f.clickable=a.clickable),a.hasOwnProperty("editable")&&(f.editable=a.editable),a.hasOwnProperty("icons")&&(f.icons=a.icons),a.hasOwnProperty("zIndex")&&(f.zIndex=a.zIndex);
for(var h=new google.maps.Polyline(f),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],j=0;j<i.length;j++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(h,i[j]);return this.polylines.push(h),g.fire("polyline_added",h,this),h},this.removePolyline=function(a){for(var b=0;b<this.polylines.length;b++)if(this.polylines[b]===a){this.polylines[b].setMap(null),this.polylines.splice(b,1),g.fire("polyline_removed",a,this);break}},this.removePolylines=function(){for(var c,a=0;c=b.polylines[a];a++)c.setMap(null);
b.polylines=[]},this.drawCircle=function(a){a=f({map:this.map,center:new google.maps.LatLng(a.lat,a.lng)},a),delete a.lat,delete a.lng;for(var b=new google.maps.Circle(a),c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],d=0;d<c.length;d++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(b,c[d]);return this.polygons.push(b),b},this.drawRectangle=function(a){a=f({map:this.map},a);var b=new google.maps.LatLngBounds(new google.maps.LatLng(a.bounds[0][0],a.bounds[0][1]),new google.maps.LatLng(a.bounds[1][0],a.bounds[1][1]));
a.bounds=b;for(var c=new google.maps.Rectangle(a),d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],e=0;e<d.length;e++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(c,d[e]);return this.polygons.push(c),c},this.drawPolygon=function(a){var b=!1;a.hasOwnProperty("useGeoJSON")&&(b=a.useGeoJSON),delete a.useGeoJSON,a=f({map:this.map},a),0==b&&(a.paths=[a.paths.slice(0)]),a.paths.length>0&&a.paths[0].length>0&&(a.paths=i(h(a.paths,e,b)));
for(var c=new google.maps.Polygon(a),d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],j=0;j<d.length;j++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(c,d[j]);return this.polygons.push(c),g.fire("polygon_added",c,this),c},this.removePolygon=function(a){for(var b=0;b<this.polygons.length;b++)if(this.polygons[b]===a){this.polygons[b].setMap(null),this.polygons.splice(b,1),g.fire("polygon_removed",a,this);break}},this.removePolygons=function(){for(var c,a=0;c=b.polygons[a];a++)c.setMap(null);
b.polygons=[]},this.getFromFusionTables=function(a){var b=a.events;delete a.events;var c=a,d=new google.maps.FusionTablesLayer(c);for(var e in b)!function(a,c){google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})}(d,e);return this.layers.push(d),d},this.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);return b.setMap(this.map),b},this.getFromKML=function(a){var b=a.url,c=a.events;delete a.url,delete a.events;var d=a,e=new google.maps.KmlLayer(b,d);for(var f in c)!function(a,b){google.maps.event.addListener(a,b,function(a){c[b].apply(this,[a])
})}(e,f);return this.layers.push(e),e},this.loadFromKML=function(a){var b=this.getFromKML(a);return b.setMap(this.map),b};var J,K;this.getRoutes=function(a){switch(a.travelMode){case"bicycling":J=google.maps.TravelMode.BICYCLING;break;case"transit":J=google.maps.TravelMode.TRANSIT;break;case"driving":J=google.maps.TravelMode.DRIVING;break;default:J=google.maps.TravelMode.WALKING}K="imperial"===a.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var b={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},c=f(b,a);
c.origin=/string/.test(typeof a.origin)?a.origin:new google.maps.LatLng(a.origin[0],a.origin[1]),c.destination=new google.maps.LatLng(a.destination[0],a.destination[1]),c.travelMode=J,c.unitSystem=K,delete c.callback;var d=this,e=new google.maps.DirectionsService;e.route(c,function(b,c){if(c===google.maps.DirectionsStatus.OK)for(var e in b.routes)b.routes.hasOwnProperty(e)&&d.routes.push(b.routes[e]);a.callback&&a.callback(d.routes)})},this.removeRoutes=function(){this.routes=[]},this.getElevations=function(a){a=f({locations:[],path:!1,samples:256},a),a.locations.length>0&&a.locations[0].length>0&&(a.locations=i(h([a.locations],e,!1)));
var b=a.callback;delete a.callback;var c=new google.maps.ElevationService;if(a.path){var d={path:a.locations,samples:a.samples};c.getElevationAlongPath(d,function(a,c){b&&"function"==typeof b&&b(a,c)})}else delete a.path,delete a.samples,c.getElevationForLocations(a,function(a,c){b&&"function"==typeof b&&b(a,c)})},this.cleanRoute=this.removePolylines,this.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,callback:function(c){c.length>0&&(b.drawPolyline({path:c[c.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight}),a.callback&&a.callback(c[c.length-1]))
}})},this.travelRoute=function(a){if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(b){if(b.length>0&&a.start&&a.start(b[b.length-1]),b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0)for(var f,d=c.legs[0].steps,e=0;f=d[e];e++)f.step_number=e,a.step(f,c.legs[0].steps.length-1)}b.length>0&&a.end&&a.end(b[b.length-1])}});else if(a.route&&a.route.legs.length>0)for(var d,b=a.route.legs[0].steps,c=0;d=b[c];c++)d.step_number=c,a.step(d)
},this.drawSteppedRoute=function(a){if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(c){if(c.length>0&&a.start&&a.start(c[c.length-1]),c.length>0&&a.step){var d=c[c.length-1];if(d.legs.length>0)for(var g,e=d.legs[0].steps,f=0;g=e[f];f++)g.step_number=f,b.drawPolyline({path:g.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight}),a.step(g,d.legs[0].steps.length-1)}c.length>0&&a.end&&a.end(c[c.length-1])
}});else if(a.route&&a.route.legs.length>0)for(var e,c=a.route.legs[0].steps,d=0;e=c[d];d++)e.step_number=d,b.drawPolyline({path:e.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight}),a.step(e)},this.checkGeofence=function(a,b,c){return c.containsLatLng(new google.maps.LatLng(a,b))},this.checkMarkerGeofence=function(a,c){if(a.fences)for(var e,d=0;e=a.fences[d];d++){var f=a.getPosition();b.checkGeofence(f.lat(),f.lng(),e)||c(a,e)}},this.addLayer=function(a,b){b=b||{};var c;
switch(a){case"weather":this.singleLayers.weather=c=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=c=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=c=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=c=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=c=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=c=new google.maps.panoramio.PanoramioLayer,c.setTag(b.filter),delete b.filter,b.click&&google.maps.event.addListener(c,"click",function(a){b.click(a),delete b.click
});break;case"places":if(this.singleLayers.places=c=new google.maps.places.PlacesService(this.map),b.search||b.nearbySearch){var d={bounds:b.bounds||null,keyword:b.keyword||null,location:b.location||null,name:b.name||null,radius:b.radius||null,rankBy:b.rankBy||null,types:b.types||null};b.search&&c.search(d,b.search),b.nearbySearch&&c.nearbySearch(d,b.nearbySearch)}if(b.textSearch){var e={bounds:b.bounds||null,location:b.location||null,query:b.query||null,radius:b.radius||null};c.textSearch(e,b.textSearch)}}return void 0!==c?("function"==typeof c.setOptions&&c.setOptions(b),"function"==typeof c.setMap&&c.setMap(this.map),c):void 0
},this.removeLayer=function(a){void 0!==this.singleLayers[a]&&(this.singleLayers[a].setMap(null),delete this.singleLayers[a])},this.toImage=function(a){var a=a||{},b={};if(b.size=a.size||[this.el.clientWidth,this.el.clientHeight],b.lat=this.getCenter().lat(),b.lng=this.getCenter().lng(),this.markers.length>0){b.markers=[];for(var c=0;c<this.markers.length;c++)b.markers.push({lat:this.markers[c].getPosition().lat(),lng:this.markers[c].getPosition().lng()})}if(this.polylines.length>0){var d=this.polylines[0];b.polyline={},b.polyline.path=google.maps.geometry.encoding.encodePath(d.getPath()),b.polyline.strokeColor=d.strokeColor,b.polyline.strokeOpacity=d.strokeOpacity,b.polyline.strokeWeight=d.strokeWeight
}return g.staticMapURL(b)},this.addMapType=function(a,b){if(!b.hasOwnProperty("getTileUrl")||"function"!=typeof b.getTileUrl)throw"'getTileUrl' function required.";b.tileSize=b.tileSize||new google.maps.Size(256,256);var c=new google.maps.ImageMapType(b);this.map.mapTypes.set(a,c)},this.addOverlayMapType=function(a){if(!a.hasOwnProperty("getTile")||"function"!=typeof a.getTile)throw"'getTile' function required.";var b=a.index;delete a.index,this.map.overlayMapTypes.insertAt(b,a)},this.removeOverlayMapType=function(a){this.map.overlayMapTypes.removeAt(a)
},this.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,a.styledMapName);this.map.mapTypes.set(a.mapTypeId,b)},this.setStyle=function(a){this.map.setMapTypeId(a)},this.createPanorama=function(a){return a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||(a.lat=this.getCenter().lat(),a.lng=this.getCenter().lng()),this.panorama=g.createPanorama(a),this.map.setStreetView(this.panorama),this.panorama},this.on=function(a,b){return g.on(a,this,b)},this.off=function(a){g.off(a,this)}};return g.createPanorama=function(a){var b=d(a.el,a.context);
a.position=new google.maps.LatLng(a.lat,a.lng),delete a.el,delete a.context,delete a.lat,delete a.lng;for(var c=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],e=f({visible:!0},a),g=0;g<c.length;g++)delete e[c[g]];for(var h=new google.maps.StreetViewPanorama(b,e),g=0;g<c.length;g++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(){a[c].apply(this)})}(h,c[g]);return h},g.Route=function(a){this.map=a.map,this.route=a.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length,this.polyline=this.map.drawPolyline({path:new google.maps.MVCArray,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight}).getPath(),this.back=function(){if(this.step_count>0){this.step_count--;
var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.pop()}},this.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.push(a[b]);this.step_count++}}},g.geolocate=function(a){var b=a.always||a.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(c){a.success(c),b&&b()},function(c){a.error(c),b&&b()},a.options):(a.not_supported(),b&&b())
},g.geocode=function(a){this.geocoder=new google.maps.Geocoder;var b=a.callback;a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")&&(a.latLng=new google.maps.LatLng(a.lat,a.lng)),delete a.lat,delete a.lng,delete a.callback,this.geocoder.geocode(a,function(a,c){b(a,c)})},g.staticMapURL=function(a){function p(a,b){if("#"===a[0]&&(a=a.replace("#","0x"),b)){if(b=parseFloat(b),b=Math.min(1,Math.max(b,0)),0===b)return"0x00000000";b=(255*b).toString(16),1===b.length&&(b+=b),a=a.slice(0,8)+b}return a}var c,b=[],d="https://maps.googleapis.com/maps/api/staticmap";
a.url&&(d=a.url,delete a.url),d+="?";var e=a.markers;delete a.markers,!e&&a.marker&&(e=[a.marker],delete a.marker);var f=a.polyline;delete a.polyline;var g=window.es.gmapsApiKey;g&&b.push("key="+g);var h=window.es.locationLanguage;if(h&&b.push("language="+h),a.center)b.push("center="+a.center),delete a.center;else if(a.address)b.push("center="+a.address),delete a.address;else if(a.lat)b.push(["center=",a.lat,",",a.lng].join("")),delete a.lat,delete a.lng;else if(a.visible){var i=encodeURI(a.visible.join("|"));
b.push("visible="+i)}var j=a.size;j?(j.join&&(j=j.join("x")),delete a.size):j="630x300",b.push("size="+j),a.zoom||(a.zoom=15);var k=a.hasOwnProperty("sensor")?!!a.sensor:!0;delete a.sensor,b.push("sensor="+k);for(var l in a)a.hasOwnProperty(l)&&b.push(l+"="+a[l]);if(e)for(var m,n,o=0;c=e[o];o++)m=[],c.size&&"normal"!==c.size?m.push("size:"+c.size):c.icon&&m.push("icon:"+encodeURI(c.icon)),c.color&&m.push("color:"+c.color.replace("#","0x")),c.label&&m.push("label:"+c.label[0].toUpperCase()),n=c.address?c.address:c.lat+","+c.lng,m.length||0===o?(m.push(n),m=m.join("|"),b.push("markers="+encodeURI(m))):(m=b.pop()+encodeURI("|"+n),b.push(m));
if(f){if(c=f,f=[],c.strokeWeight&&f.push("weight:"+parseInt(c.strokeWeight,10)),c.strokeColor){var q=p(c.strokeColor,c.strokeOpacity);f.push("color:"+q)}if(c.fillColor){var r=p(c.fillColor,c.fillOpacity);f.push("fillcolor:"+r)}var s=c.path;if(s.join)for(var u,t=0;u=s[t];t++)f.push(u.join(","));else f.push("enc:"+s);f=f.join("|"),b.push("path="+encodeURI(f))}return b=b.join("&"),d+b},g.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],g.on=function(a,b,c){if(-1==g.custom_events.indexOf(a))return google.maps.event.addListener(b,a,c);
var d={handler:c,eventName:a};return b.registered_events[a]=b.registered_events[a]||[],b.registered_events[a].push(d),d},g.off=function(a,b){-1==g.custom_events.indexOf(a)?google.maps.event.clearListeners(b,a):b.registered_events[a]=[]},g.fire=function(a,b,c){if(-1==g.custom_events.indexOf(a))google.maps.event.trigger(b,a,Array.prototype.slice.apply(arguments).slice(2));else if(a in c.registered_events)for(var d=c.registered_events[a],e=0;e<d.length;e++)!function(a,b,c){a.apply(b,[c])}(d[e].handler,c,b)},google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(){for(var d,b=new google.maps.LatLngBounds,c=this.getPaths(),e=0;e<c.getLength();e++){d=c.getAt(e);
for(var f=0;f<d.getLength();f++)b.extend(d.getAt(f))}return b}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(a){var b=this.getBounds();if(null!==b&&!b.contains(a))return!1;for(var c=!1,d=this.getPaths().getLength(),e=0;d>e;e++)for(var f=this.getPaths().getAt(e),g=f.getLength(),h=g-1,i=0;g>i;i++){var j=f.getAt(i),k=f.getAt(h);(j.lng()<a.lng()&&k.lng()>=a.lng()||k.lng()<a.lng()&&j.lng()>=a.lng())&&j.lat()+(a.lng()-j.lng())/(k.lng()-j.lng())*(k.lat()-j.lat())<a.lat()&&(c=!c),h=i
}return c}),google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)},google.maps.Marker.prototype.setFences=function(a){this.fences=a},google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)},g}(this),d=function(a,b){var c=a[0],d=a[1];return b&&(c=a[1],d=a[0]),new google.maps.LatLng(c,d)},e=function(a,b){for(var c=0;c<a.length;c++)a[c]=a[c].length>0&&"number"!=typeof a[c][0]?e(a[c],b):d(a[c],b);return a},f=function(a,b){if(a===b)return a;for(var c in b)a[c]=b[c];return a
},h=function(a,b){var c=Array.prototype.slice.call(arguments,2);if(Array.prototype.map&&a.map===Array.prototype.map)return Array.prototype.map.call(a,function(a){return callback_params=c,callback_params.splice(0,0,a),b.apply(this,callback_params)});for(var d=[],e=a.length,f=0;e>f;f++)callback_params=c,callback_params=callback_params.splice(0,0,a[f]),d.push(b.apply(this,callback_params));return d},i=function(a){new_array=[];for(var b=0;b<a.length;b++)new_array=new_array.concat(a[b]);return new_array};a.GMaps=c,a.GMaps.mapEvents=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","heading_changed","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],a.fn.gmaps=function(b){if(!(this.length<1)){var d=a(this[0]),e=d.data("gmaps"),f=void 0===e,g=void 0===b;
if(a.isString(b)&&(b={address:b}),f){var h=a.uid("gmaps-"),i={lat:0,lng:0};return a.isPlainObject(b)&&(b=a.extend({},i,b)),d.attr("id",h),b.div="#"+h,a.each(a.GMaps.mapEvents,function(c,f){var g=a.isFunction(b[f])?b[f]:a.noop;b[f]=function(){var b=a.makeArray(arguments);g.apply(e,arguments),d.trigger.apply(d,["map_"+f].concat(b))}}),e=new c(b),d.data("gmaps",e),e.go=function(a,b){e.setCenter(a,b),e.addMarker({lat:a,lng:b})},g&&c.geolocate({success:function(a){e.go(a.coords.latitude,a.coords.longitude)}}),e}var j=b.lat,k=b.lng;
return(a.isNumber(j)||a.isNumber(k))&&e.go(j,k),e}},b.resolveWith(c)}),d=window.es.locationLanguage,e=window.es.gmapsApiKey,f="";e&&(f="key="+e+"&"),window.google&&window.google.maps?window[c]():a.require().script(a.uri(window.location).protocol()+"://maps.google.com/maps/api/js?"+f+"callback="+c+"&language="+d).done()};FD40.module("gmaps",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){"use strict";var d=a.History=a.History||{};if("undefined"!=typeof d.Adapter)throw new Error("History.js Adapter has already been loaded...");
d.Adapter={bind:function(a,b,d){c(a).bind(b,d)},trigger:function(a,b,d){c(a).trigger(b,d)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){c(a)}},"undefined"!=typeof d.init&&d.init()}(window),function(a){"use strict";var c=a.document,d=a.setTimeout||d,e=a.clearTimeout||e,f=a.setInterval||f,g=a.History=a.History||{};if("undefined"!=typeof g.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");g.initHtml4=function(){return"undefined"!=typeof g.initHtml4.initialized?!1:(g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(a){var c,b=g.getHashByIndex();
return c=a===b},g.saveHash=function(a){return g.isLastHash(a)?!1:(g.savedHashes.push(a),!0)},g.getHashByIndex=function(a){var b=null;return b="undefined"==typeof a?g.savedHashes[g.savedHashes.length-1]:0>a?g.savedHashes[g.savedHashes.length+a]:g.savedHashes[a]},g.discardedHashes={},g.discardedStates={},g.discardState=function(a,b,c){var e,d=g.getHashByState(a);return e={discardedState:a,backState:c,forwardState:b},g.discardedStates[d]=e,!0},g.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};
return g.discardedHashes[a]=d,!0},g.discardedState=function(a){var c,b=g.getHashByState(a);return c=g.discardedStates[b]||!1},g.discardedHash=function(a){var b=g.discardedHashes[a]||!1;return b},g.recycleState=function(a){var b=g.getHashByState(a);return g.discardedState(a)&&delete g.discardedStates[b],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var d,e,h,i,b="";return g.isInternetExplorer()?(d="historyjs-iframe",e=c.createElement("iframe"),e.setAttribute("id",d),e.style.display="none",c.body.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.close(),h="",i=!1,g.checkerFunction=function(){if(i)return!1;
i=!0;var c=g.getHash()||"",d=g.unescapeHash(e.contentWindow.document.location.hash)||"";return c!==b?(b=c,d!==c&&(h=d=c,e.contentWindow.document.open(),e.contentWindow.document.close(),e.contentWindow.document.location.hash=g.escapeHash(c)),g.Adapter.trigger(a,"hashchange")):d!==h&&(h=d,g.setHash(d,!1)),i=!1,!0}):g.checkerFunction=function(){var c=g.getHash();return c!==b&&(b=c,g.Adapter.trigger(a,"hashchange")),!0},g.intervalList.push(f(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(b){var j,d=b&&b.newURL||c.location.href,e=g.getHashByUrl(d),f=null,h=null;
return g.isLastHash(e)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(e),e&&g.isTraditionalAnchor(e)?(g.Adapter.trigger(a,"anchorchange"),g.busy(!1),!1):(f=g.extractState(g.getFullUrl(e||c.location.href,!1),!0),g.isLastSavedState(f)?(g.busy(!1),!1):(h=g.getHashByState(f),(j=g.discardedState(f))?(g.getHashByIndex(-2)===g.getHashByState(j.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(f.data,f.title,f.url,!1),!0))))},g.Adapter.bind(a,"hashchange",g.onHashChange),g.pushState=function(b,d,e,f){if(g.getHashByUrl(e))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(f!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:f}),!1;g.busy(!0);var h=g.createStateObject(b,d,e),i=g.getHashByState(h),j=g.getState(!1),k=g.getHashByState(j),l=g.getHash();return g.storeState(h),g.expectedStateId=h.id,g.recycleState(h),g.setTitle(h),i===k?(g.busy(!1),!1):i!==l&&i!==g.getShortUrl(c.location.href)?(g.setHash(i,!1),!1):(g.saveState(h),g.Adapter.trigger(a,"statechange"),g.busy(!1),!0)},g.replaceState=function(a,b,c,d){if(g.getHashByUrl(c))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(d!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:d}),!1;g.busy(!0);var e=g.createStateObject(a,b,c),f=g.getState(!1),h=g.getStateByIndex(-2);return g.discardState(f,e,h),g.pushState(e.data,e.title,e.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(a,"hashchange")}),void 0)},"undefined"!=typeof g.init&&g.init()}(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;
if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,"undefined"!=typeof m.init)throw new Error("History.js Core has already been loaded...");m.init=function(){return"undefined"==typeof m.Adapter?!1:("undefined"!=typeof m.initCore&&m.initCore(),"undefined"!=typeof m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(){if("undefined"!=typeof m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;
if("undefined"!=typeof b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){m.options.debug&&m.log.apply(m,arguments)},m.log=function(){var e,f,g,h,i,a=!("undefined"==typeof c||"undefined"==typeof c.log||"undefined"==typeof c.log.apply),b=d.getElementById("log");for(a?(h=Array.prototype.slice.call(arguments),e=h.shift(),"undefined"!=typeof c.debug?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n",f=1,g=arguments.length;g>f;++f){if(i=arguments[f],"object"==typeof i&&"undefined"!=typeof k)try{i=k.stringify(i)
}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached="undefined"!=typeof m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0];);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached="undefined"!=typeof m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());
return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;
return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var c,a=m.getState(!1,!1),b=(a||{}).url||d.location.href;
return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b="undefined"==typeof b?!0:b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")
},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}
},m.getState=function(a,b){"undefined"==typeof a&&(a=!0),"undefined"==typeof b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var c,b=m.extractId(a.url);if(!b)if(c=m.getStateString(a),"undefined"!=typeof m.stateToId[c])b=m.stateToId[c];else if("undefined"!=typeof m.store.stateToId[c])b=m.store.stateToId[c];else{for(;;)if(b=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof m.idToState[b]&&"undefined"==typeof m.store.idToState[b])break;
m.stateToId[c]=b,m.idToState[b]=a}return b},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),"undefined"!=typeof a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)
},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d)},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c)},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1
},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var d,e,c=null;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),c||!b||m.isTraditionalAnchor(a)||(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b
},m.hasUrlDuplicate=function(a){var c,b=!1;return c=m.extractState(a.url),b=c&&c.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var c,d,e,b=!1;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return b="undefined"==typeof a?m.savedStates[m.savedStates.length-1]:0>a?m.savedStates[m.savedStates.length+a]:m.savedStates[a]
},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){for(var d,c=b;;){if(d=a.unescape(c),d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b)},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)
},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var c,b=a.title;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")
}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){if("undefined"!=typeof a?m.busy.flag=a:"undefined"==typeof m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m
},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0
},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var c,b=m.extractState(d.location.href);if(!m.isLastSavedState(b))return c=b,c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)
}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;a>=c;++c)m.forward(b);else{if(!(0>a))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var g,h,e=!1,f=!1;return m.doubleCheckComplete(),(g=m.getHash())?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,f=e?m.getStateById(e):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))
},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;
try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),("Apple Computer, Inc."===e.vendor||"Mozilla"===(e.appCodeName||""))&&(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")
}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},m.init()}(window);var b=[];a.fn.route=function(c){if(this.is("a")){var d=this.attr("title"),e=a.joomla.appendTitle;"before"===e&&(d=a.joomla.sitename+(d?" - "+d:"")),"after"===e&&(d=(d?d+" - ":"")+a.joomla.sitename);var f=(new Date).getTime();b[f]=f,History.pushState(a.extend({timestamp:f,refresh:!0},c),d,this.attr("href"))}return this},History.Adapter.bind(window,"statechange",function(){var a=History.getState();a.id===History.savedStates[0].id&&(window.location=a.url),a.data.timestamp in b?delete b[a.data.timestamp]:a.data.refresh&&(window.location=a.url)
})};d(),b.resolveWith(d)};FD40.module("history",a)}(),function(){var a=function(a){var b=this,c=function(){a.fn.image=function(b){var b=a.Image[b];return b&&b.apply(this[0],a.makeArray(arguments).slice(1))},a.Image={get:function(b){var c="IMG"===this.nodeName,d=a(c?this:new Image),e=a.Deferred();return d.load(function(){var a,b,f,g;c||d.appendTo("body");var h={width:a=d.width(),height:b=d.height(),aspectRatio:f=a/b,orientation:g=1===f?"square":1>f?"tall":"wide"};d.css({position:"absolute",left:"-99999px"}).data(h).addClass("orientation-"+g).removeAttr("style"),c||d.detach(),e.resolve(d,h)
}).error(function(){e.reject()}).attr("src",b),e},aspectRatio:function(b,c){return a.isPlainObject(b)&&(b=b.width,c=b.height),b/c},orientation:function(b,c){return a.isPlainObject(b)&&(b=b.width,c=b.height),b===c?"square":b>c?"wide":"tall"},resizeProportionate:function(a,b,c,d,e){var f=a,g=b,h=c/a;f=a*h,g=b*h;var i=g>d;return"outer"==e&&(i=d>g),i&&(h=d/b,f=a*h,g=b*h),{top:(d-g)/2,left:(c-f)/2,width:f,height:g}},resizeWithin:function(b,c,d,e){return a.Image.resizeProportionate(b,c,d,e,"inner")},resizeToFill:function(b,c,d,e){return a.Image.resizeProportionate(b,c,d,e,"outer")
}}};c(),b.resolveWith(c)};FD40.module("image",a)}(),function(){var moduleFactory=function($){var module=this,jQuery=$,exports=function(){!function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,ctrlKey,shiftKey,altKey;return ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,$.markItUp.sets[(extraSettings||settings||{}).set],extraSettings),options.root||$("script").each(function(a,b){miuScript=$(b).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/),null!==miuScript&&(options.root=miuScript[1])
}),this.each(function(){function localize(a,b){return b?a.replace(/("|')~\//g,"$1"+options.root):a.replace(/^~\//,options.root)}function init(){id="",nameSpace="",options.id?id='id="'+options.id+'"':$$.attr("id")&&(id='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(nameSpace='class="'+options.nameSpace+'"'),$$.wrap("<div "+nameSpace+"></div>"),$$.wrap("<div "+id+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),$$.wrap('<div class="markItUpExpanding"></div>'),options.resizeHandle===!0&&$.browser.safari!==!0&&(resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",function(a){var d,e,b=$$.height(),c=a.clientY;
d=function(a){return $$.css("height",Math.max(20,a.clientY+b-c)+"px"),!1},e=function(){return $("html").unbind("mousemove.markItUp",d).unbind("mouseup.markItUp",e),!1},$("html").bind("mousemove.markItUp",d).bind("mouseup.markItUp",e)}),footer.append(resizeHandle)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",function(a,b){b.target!==!1&&get(),textarea===$.markItUp.focused&&markup(b)}),$$.bind("focus.markItUp",function(){$.markItUp.focused=this}),options.previewInElement&&refreshPreview()
}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,function(){var button=this,t="",title,li,j;if(title=button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"",key=button.key?'accesskey="'+button.key+'"':"",button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;j>=0;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",function(){return!1
}).bind("click.markItUp",function(){return!1}).bind("focusin.markItUp",function(){$$.focus()}).bind("mouseup",function(){return button.call&&eval(button.call)(),setTimeout(function(){markup(button)},1),!1}).bind("mouseenter.markItUp",function(){$("> ul",this).show(),$(document).one("click",function(){$("ul ul",header).hide()})}).bind("mouseleave.markItUp",function(){$("> ul",this).hide()}).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))}}),levels.pop(),ul
}function magicMarkups(a){return a?(a=a.toString(),a=a.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(a,b){var c=b.split("|!|");return altKey===!0?void 0!==c[1]?c[1]:c[0]:void 0===c[1]?"":c[0]}),a=a.replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(a,b){var c=b.split(":!:");return abort===!0?!1:(value=prompt(c[0],c[1]?c[1]:""),null===value&&(abort=!0),value)})):""}function prepare(a){return $.isFunction(a)&&(a=a(hash)),magicMarkups(a)}function build(a){var b=prepare(clicked.openWith),c=prepare(clicked.placeHolder),d=prepare(clicked.replaceWith),e=prepare(clicked.closeWith),f=prepare(clicked.openBlockWith),g=prepare(clicked.closeBlockWith),h=clicked.multiline;
if(""!==d)block=b+d+e;else if(""===selection&&""!==c)block=b+c+e;else{a=a||selection;var i=[a],j=[];h===!0&&(i=a.split(/\r?\n/));for(var k=0;k<i.length;k++){line=i[k];var l;(l=line.match(/ *$/))?j.push(b+line.replace(/ *$/g,"")+e+l):j.push(b+line+e)}block=j.join("\n")}return block=f+block+g,{block:block,openWith:b,replaceWith:d,placeHolder:c,closeWith:e}}function markup(a){var b,c,d,e;if(hash=clicked=a,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(ctrlKey===!0&&shiftKey===!0||a.multiline===!0)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),ctrlKey===!0&&shiftKey===!0){for(lines=selection.split(/\r?\n/),c=0,d=lines.length,e=0;d>e;e++)""!==$.trim(lines[e])?($.extend(hash,{line:++c,selection:lines[e]}),lines[e]=build(lines[e]).block):lines[e]="";
string={block:lines.join("\n")},start=caretPosition,b=string.block.length+($.browser.opera?d-1:0)}else ctrlKey===!0?(string=build(selection),start=caretPosition+string.openWith.length,b=string.block.length-string.openWith.length-string.closeWith.length,b-=string.block.match(/ $/)?1:0,b-=fixIeBug(string.block)):shiftKey===!0?(string=build(selection),start=caretPosition,b=string.block.length,b-=fixIeBug(string.block)):(string=build(selection),start=caretPosition+string.block.length,b=0,start-=fixIeBug(string.block));
""===selection&&""===string.replaceWith&&(caretOffset+=fixOperaBug(string.block),start=caretPosition+string.openWith.length,b=string.block.length-string.openWith.length-string.closeWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),string.block!==selection&&abort===!1?(insert(string.block),set(start,b)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(ctrlKey===!0&&shiftKey===!0||a.multiline===!0)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1
}function fixOperaBug(a){return $.browser.opera?a.length-a.replace(/\n*/g,"").length:0}function fixIeBug(a){return $.browser.msie?a.length-a.replace(/\r*/g,"").length:0}function insert(a){if(document.selection){var b=document.selection.createRange();b.text=a}else textarea.value=textarea.value.substring(0,caretPosition)+a+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(a,b){if(textarea.createTextRange){if($.browser.opera&&$.browser.version>=9.5&&0==b)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",a),range.moveEnd("character",b),range.select()
}else textarea.setSelectionRange&&textarea.setSelectionRange(a,a+b);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,$.browser.msie){var a=document.selection.createRange(),b=a.duplicate();for(b.moveToElementText(textarea),caretPosition=-1;b.inRange(a);)b.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);
return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload(function(){previewWindow.close()})):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):altKey===!0&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()
}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){var b=options.previewParser($$.val());writeInPreview(localize(b,1))}else""!==options.previewParserPath?$.ajax({type:"POST",dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(a){writeInPreview(localize(a,1))
}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(a){writeInPreview(localize(a,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(a){if(options.previewInElement)$(options.previewInElement).html(a);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(b){sp=0}previewWindow.document.open(),previewWindow.document.write(a),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp
}}function keyPressed(a){if(shiftKey=a.shiftKey,altKey=a.altKey,ctrlKey=a.altKey&&a.ctrlKey?!1:a.ctrlKey||a.metaKey,"keydown"===a.type){if(ctrlKey===!0&&(li=$('a[accesskey="'+(13==a.keyCode?"\\n":String.fromCharCode(a.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout(function(){li.triggerHandler("mouseup")},1),!1;if(13===a.keyCode||10===a.keyCode)return ctrlKey===!0?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):shiftKey===!0?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);
if(9===a.keyCode)return 1==shiftKey||1==ctrlKey||1==altKey?!1:-1!==caretOffset?(get(),caretOffset=$$.val().length-caretOffset,set(caretOffset,0),caretOffset=-1,!1):(markup(options.onTab),options.onTab.keepDefault)}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parents("div.markItUp").parent("div").replaceWith($$),$$.data("markItUp",null)}var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();
break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init()})},$.fn.markItUpRemove=function(){return this.each(function(){$(this).markItUp("remove")})};var sets;"object"==typeof $.markItUp&&(sets=$.markItUp.sets),$.markItUp=function(a){var b={target:!1};return $.extend(b,a),b.target?$(b.target).each(function(){$(this).focus(),$(this).trigger("insertion",[b])}):($("textarea").trigger("insertion",[b]),void 0)},$.markItUp.sets={},sets&&$.extend($.markItUp.sets,sets)
}(jQuery)};exports(),module.resolveWith(exports)};FD40.module("markitup",moduleFactory)}(),function(){var a=function(a){var b=this,c=function(){var b="",c=" ",d="\xa0",e="\n",f="data-type",g="data-value",h={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38};a.fn.caret=function(a,b){if(0!=this.length){if("number"==typeof a)return b="number"==typeof b?b:a,this.each(function(){if(this.setSelectionRange){var c=this;window.setTimeout(function(){c.setSelectionRange(a,b)
},0)}else if(this.createTextRange){var d=this.createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",a);try{d.select()}catch(e){}}});if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{start:a,end:b}}};var i=function(b){a.extend(this,b)};a.extend(i.prototype,{val:function(a){var b=this;return void 0===a?b.text.nodeValue:(b.text.nodeValue=a,b.end=b.start+(b.length=a.length),b)
},nextSibling:function(a){for(var b=a.nextSibling;b&&1===b.nodeType&&b.hasAttribute("data-ignore");)b=b.nextSibling;return b},insert:function(f,g,h){var j=this,k=j.block,l=j.text,m=j.parent,n=j.br,o=j.val(),p=j.length,q=f==e,r=f==c,s=f==b,t=j.trigger||{},v=(t.finalize,j.finalized),w=32==o.charCodeAt(g-1),x=t.allowSpace||j.allowSpace,y=r&&(!x||x&&w);if(void 0===g&&(g=p),void 0===h&&(h=g),k&&x&&w&&!v){if(r){var z=a(j.textarea),A=z.val(),B=z.caret().end-1,C=j.start+g;z.val(A.substring(0,C)+A.slice(C+1)).caret(B)
}return j.toTextMarker(),r?(a(m).trigger("markerInsert",[j,K,f,g,h]),j):j.insert(f,g,h)}if(k&&h==p&&!s&&(y||q||n||v)){var D=j.spawn().insert(f,0);return a(m).trigger("markerExit",[j,K,D,f,g,h]),D}if(k&&0===j.index&&0===h&&1===f.length){var E=document.createTextNode(f);m.insertBefore(E,k);var F=new i({index:0,start:0,end:f.length,text:E,parent:m,textarea:j.textarea,allowSpace:!0});return a(m).trigger("markerInsert",[F,K,f,g,h]),F}var G=k?k.nextSibling:l.nextSibling,H=o.substring(0,g),I=o.slice(h),J=f.replace(/  /g," "+d).split(e),K=[],L=k||l,M=J.length;
for(J[0]=H+J[0],J[M-1]+=I;--M;){var L=document.createTextNode(J[M]),n=document.createElement("BR");K.push(m.insertBefore(L,G)),K.push(m.insertBefore(n,L)),G=n}return j.val(J[M]),a(m).trigger("markerInsert",[j,K,f,g,h]),j},remove:function(){var b=this,c=b.parent,d=b.block,e=b.text;return d&&a(d).trigger("triggerDestroy",[b]),c.removeChild(d||e),b.removed=!0,a(c).trigger("markerRemove",[b]),b},toTextMarker:function(){var b=this,c=b.block,d=b.parent;if(!c)return b;var e=b.clone();return c&&a(c).trigger("triggerDestroy",[b]),d.insertBefore(b.text,c.nextSibling),d.removeChild(c),delete b.block,delete b.trigger,a(b.parent).trigger("markerConvert",[b,e,"text"]),b
},toBlockMarker:function(){var c=this;if(!c.block){var d=c.clone(),e=c.parent,f=c.block=document.createElement("SPAN"),g=c.text;return e.insertBefore(f,g.nextSibling),f.appendChild(g),a(f).data("marker",{}),a(c.parent).trigger("markerConvert",[c,d,"block"]),c}},spawn:function(a,b){var c=this,d=c.text,e=c.parent,f=c.block,g=f?f.nextSibling:d.nextSibling;void 0===a&&(a=b=c.length),b<c.length&&(g=e.insertBefore(d.splitText(b),g)),d=e.insertBefore(d.splitText(a),g);var h=new i({index:c.index+1,start:a=c.start+a,end:b=c.start+b,length:b-a,text:d,parent:e,textarea:c.textarea,before:c,after:c.after,br:!1,allowSpace:!0,finalized:!1});
return c.end=a,c.length=c.end-c.start,c.after=h,h},clone:function(){return new i(a.pick(this,"index,start,end,length,text,parent,textarea,before,after,br,allowSpace,trigger,value,finalized".split(",")))},finalize:function(b){var c=this,d=c.block;if(d){var e=a(d).data("marker");e.value=b,e.finalized=!0,a.extend(c,e)}}}),a.Controller("Mentions",{pluginName:"mentions",hostname:"mentions",defaultOptions:{cssCloneProps:["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust"],triggers:{},"{textarea}":"[data-mentions-textarea]","{overlay}":"[data-mentions-overlay]","{block}":"[data-mentions-overlay] > span"}},function(b){return{init:function(){b._overlay=b.overlay()[0],b._textarea=b.textarea()[0],setTimeout(function(){b.cloneLayout()
},15),b.addPlugin("autocomplete"),b.initialCaret=b.textarea().data("initial")||0},setLayout:function(){b.normalize()},cloneLayout:function(){for(var a=b.overlay(),c=a.detach()[0],d=b.textarea(),e=b.options.cssCloneProps,f=0;prop=e[f++];)c.style[prop]=d.css(prop);c.style.opacity=1,a.insertBefore(d),b.setLayout()},reset:function(){var c=b.overlay(),d=c.data("default");void 0!==d?c.html(a("<div>").html(d).html()):c.empty();var e=b.textarea(),f=e.data("default");void 0!==f?e.val(a("<div>").html(f).text()):e.val(""),b.caretBefore=b.caretAfter={start:0,end:0},b.previousMarker=null,b.normalize(),b.initialFocus=!0,b.trigger("triggerClear")
},getTrigger:function(a){var c=b.options.triggers;if(c.hasOwnProperty(a)){var d=c[a];return d.key=a,d}},getTriggerFromType:function(c){var e,d=b.options.triggers;return a.each(d,function(a,b){return b.type===c?(e=b,!1):void 0}),e},getStopIndex:function(a,b){for(var c=b.length,d=a.length;c--;){var e=b.substr(c,1),f=a.indexOf(e);d=0>f?d:Math.min(d,f)}return d},getMarkers:function(c){var k,d=b._textarea,h=b._overlay,j=a.makeArray(h.childNodes),l=0,m=0,n=null,o=!1,p=[],q=function(a){var b;return c&&(b=c.apply(a,[a])),null!==b&&b!==!1&&p.push(void 0!==b?b:a),b
};for(a.remove(j,function(a){return 1===a.nodeType&&a.hasAttribute("data-ignore")});k=j[l++];){var t,v,w,r=k.nodeType,s=k.nodeName,u=null,x=!1,y=!1;if(3==r)t=k,y=!0;else if((u=k)&&"BR"==s)t=document.createTextNode(e),x=!0;else if(1!==r||"SPAN"!==s||!(t=k.childNodes[0])||3!==t.nodeType){h.removeChild(k);continue}var z={index:l-1,start:m,end:v=m+(w=t.length),length:w,text:t,block:u,parent:h,textarea:d,before:n,br:x,allowSpace:y,finalized:!1};if(u){var A=a(k),B=A.data("marker");if(B||(B={})&&A.data("marker",B),k.hasAttribute(f)){var C=A.attr(f),D=b.getTriggerFromType(C);
D&&(B.trigger=D),A.removeAttr(f)}k.hasAttribute(g)&&(B.value=A.attr(g),B.finalized=!0,A.removeAttr(g)),a.extend(z,B)}var E=new i(z);if(l>1&&(n.after=E,o=q(n)===!1))break;m=v,n=E}return o||q(n),p},getMarkerAt:function(a){if(void 0!==a){var c;return b.getMarkers(function(){return a>=this.start&&a<=this.end?(c=this,!1):void 0}),c}},getMarkersBetween:function(a,c){return void 0!==a?b.getMarkers(function(){return this.start>c?!1:this.end<a?null:this}):void 0},toArray:function(a,c){var d=b.getMarkers(function(){var c=this;
if(!c.block||c.br)return null;if(!c.trigger){var d=c.text.nodeValue,e=d.slice(0,1),f=b.getTrigger(e);if(!f)return null;c.trigger=f,c.value=d.slice(1)}var g={start:c.start,length:c.length,type:c.trigger.type,value:c.value};return a?JSON.stringify(g):g});return c?d:d.reverse()},insert:function(a,c,d){var e,f;if(c===d||void 0===d)e=b.getMarkerAt(c),f=e.start,e.insert(a,c-f,d-f);else{var g=b.getMarkersBetween(c,d),h=g.length;if(1>h)return;if(1==h)e=g[0],f=e.start,e.insert(a,c-f,d-f);else{var i=h-1,e=g[i];for(e.block&&d>e.start&&e.toTextMarker(),d-e.start>0&&e.insert("",0,d-e.start);(e=g[--i])&&i>0;)e.remove();
e.block&&0===e.index&&0===c&&e.toTextMarker(),e.insert(a,c-e.start,e.length),0===c&&e.br&&e.remove()}}return b.normalize(),e},textareaInsert:function(a,c,d){var e=b._textarea,f=e.value;return e.value=f.substring(0,c)+a+f.slice(d)},normalize:function(){var a=b._overlay,c=b._textarea;a.normalize();var d=a.firstChild,e=a.lastChild,f=document.createTextNode("");e&&"BR"!==e.nodeName||a.appendChild(f),e&&e==d&&1===e.nodeType&&e.hasAttribute("data-ignore")&&a.insertBefore(f,e),a.style.height="auto",a.style.height=c.scrollHeight+"px",c.scrollTop=0,b.lengthBefore=c.value.length
},lengthBefore:0,caretBefore:{start:0,end:0},caretAfter:{start:0,end:0},skipKeydown:!1,previousMarker:null,initialFocus:!0,"{textarea} focus":function(){b.initialFocus&&b.textarea().caret(b.initialCaret||0)},"{textarea} keydown":function(c,d){if(b.initialFocus=!1,!b.skipKeydown){{b.caretBefore=c.caret()}8===d.keyCode&&a.IE<10&&b.overlay().css("opacity",0),b.skipKeydown=!0}},"{textarea} keypress":function(a,c){b.caretBefore=a.caret(),8===c.keyCode},"{textarea} input":function(a){b.reflect(),a.val().length<1&&b.reset()
},"{textarea} keyup":function(c,d){if(b.skipKeydown=!1,8===d.keyCode&&a.IE<10){var e=b.caretBefore,f=b.caretAfter=b.textarea().caret();b.insert("",f.end,e.end),b.caretBefore=f,b.overlay().css("opacity",1)}},reflect:function(){var c=b._textarea,d=c.value,e=b.caretBefore,f=b.caretAfter=a(c).caret(),g=a.browser.opera&&f.end>f.start,h=b.getMarkerAt(e.start),i=b.lengthBefore-d.length,j=!1;if(g&&e.start!==e.end&&(e.end+=i),h){var k=b.previousMarker,l=h.block;if(k){var m=k.block,n=(k.trigger||{}).finalize;if(m&&n&&!k.finalized&&m!==l)try{k.toTextMarker()
}catch(o){b.previousMarker=null}}if(!h.br&&(0===i||f.end<e.start))var p=h.start,q=h.end-i,r=f.end,s=e.start,j=p!==q;else var r=p=Math.min(e.start,f.start),s=e.end,q=f.end;var t=d.substring(p,q);j?(h.val()!==t&&h.finalized&&h.toTextMarker(),h.val(t),b.overlay().trigger("markerInsert",h,[],t,p,q),b.normalize()):b.insert(t,r,s),g&&(f.start=f.end),b.caretBefore=b.caretAfter}},"{overlay} markerInsert":function(c,d,e,f,g,h,i){var l,j=e.text,k=j.nodeValue;if(b.previousMarker=null,l=b.getTrigger(g)){var m=k.charCodeAt(h-1),n=e.before&&e.before.br;
if(0===e.index||32===m||n){var o=k.slice(h),p=o.slice(1);i=l.wrap&&o.length>1?b.getStopIndex(p,l.stop)+h+1:h+1;var q=e.spawn(h,i).toBlockMarker(),p=q.val().slice(1),r=a(q.block).data("marker");r.value=p,r.trigger=l,b.previousMarker=q,b.trigger("triggerCreate",[q,l,p])}}if(e.block&&!e.br)if(e.finalized){var s=e.length;s-1>i&&e.toTextMarker()}else{var t=k.slice(0,1),l=b.getTrigger(t);if(!l)return;var p=k.slice(1),h=b.getStopIndex(p,l.stop)+1,i=k.length,q=!1;i>h&&(q=e.spawn(h,i)),p=e.val().slice(1);var r=a(e.block).data("marker");
r.value=p,r.trigger=l,b.previousMarker=e,b.trigger("triggerChange",[e,q,l,p])}},"{overlay} markerExit":function(a,c,d,e,f){var j=d.trigger;if(j){var k=j.allowSpace||d.allowSpace,l=d.val();k||d.val()!==j.key||d.toTextMarker(),b.trigger("triggerExit",[d,f,j,l])}}}}),a.template("mentions/menu",'<div class="mentions-autocomplete" data-mentions-autocomplete><b><b></b></b><div class="mentions-autocomplete-inner" data-mentions-autocomplete-viewport><div class="mentions-autocomplete-loading" data-mentions-autocomplete-loading data-mentions-autocomplete-close></div><div class="mentions-autocomplete-empty" data-mentions-autocomplete-empty></div><div class="mentions-autocomplete-search" data-mentions-autocomplete-search></div><ul class="mentions-menu" data-mentions-menu></ul></div></div>'),a.template("mentions/menuItem",'<li class="mentions-menuItem" data-mentions-menuItem>[%== html %]</li>'),a.template("mentions/loadingHint",'<div class="mentions-autocomplete-loading-indicator"><div class="o-loader o-loader--top o-loader--sm is-active"></div></div>'),a.template("mentions/searchHint",'<span class="mentions-autocomplete-search-hint">Type a keyword to begin.</span>'),a.template("mentions/emptyHint",'<span class="mentions-autocomplete-empty-text">No items found.</span>'),a.Controller("Mentions.Autocomplete",{defaultOptions:{view:{menu:"mentions/menu",menuItem:"mentions/menuItem",searchHint:"mentions/searchHint",loadingHint:"mentions/loadingHint",emptyHint:"mentions/emptyHint"},id:"",component:"",modifier:"",shadow:!1,sticky:!1,animation:!1,query:{data:null,cache:!0,minLength:1,limit:10,highlight:!0,caseSensitive:!1,exclusive:!1,searchHint:!1,loadingHint:!1,emptyHint:!1},position:{my:"left top",at:"left bottom",collision:"none"},size:{width:"auto",height:"auto"},"{menu}":"[data-mentions-menu]","{menuItem}":"[data-mentions-menuItem]","{viewport}":"[data-mentions-autocomplete-viewport]","{loadingHint}":"[data-mentions-autocomplete-loading]","{emptyHint}":"[data-mentions-autocomplete-empty]","{searchHint}":"[data-mentions-autocomplete-search]","{closeButton}":"[data-mentions-autocomplete-close]"}},function(b,c,d){return{init:function(){setTimeout(function(){if(b.element.data(b.Class.fullName)){var e=b.mentions;
b.uid=a.uid(),e.autocomplete=b,e.pluginInstances.autocomplete=b,c.position.of||(c.position.of=b.mentions.element),b.defaultSearchHint=b.view.searchHint().toHTML(),b.defaultEmptyHint=b.view.emptyHint().toHTML(),b.defaultLoadingHint=b.view.loadingHint().toHTML(),b.element.detach()}else{b.destroy();{b.view.menu().attr("id",c.id).addClass(c.component).addClass(c.modifier).addClass(c.shadow?"has-shadow":"").addClass(c.animation?"has-animation":"").addClass(c.sticky?"is-sticky":"").appendTo("body").data(b.Class.fullName,!0).addController(b.Class,c)
}}},50)},setLayout:function(){if(!b.hidden){var c=b.options,d=c.size,e=b.mentions.element.outerWidth(),f="auto";a.isFunction(d.width)&&(e=d.width(e)),a.isFunction(d.height)&&(f=d.height(f)),b.element.css({opacity:1,width:e}).position(b.options.position),setTimeout(function(){b.viewport().addClass("active")},1)}},"{window} resize":a.debounce(function(){b.element.css("opacity",0),b.setLayout()},250),"{window} scroll":a.debounce(function(){b.element.css("opacity",0),b.setLayout()},250),"{window} dialogTransitionStart":function(){b.hidden=!0,b.element.css("opacity",0)
},"{window} dialogTransitionEnd":function(){b.hidden=!1,b.setLayout()},currentMarker:null,"{mentions} triggerCreate":function(a,c,d,e,f){b.populate(d,e,f),b.currentMarker=d},"{mentions} triggerChange":function(a,c,d,e,f,g){b.populate(d,f,g),b.currentMarker=d},"{mentions} triggerExit":function(){var h=b.activeQuery;h&&(h.aborted=!0),b.hide()},"{mentions.block} triggerDestroy":function(){b.hide()},"{mentions} triggerClear":function(){b.hide()},hidden:!0,show:function(c){clearTimeout(b.sleep),b.element.appendTo("body").show(),b.hidden=!1,b.viewport().removeClass("active"),b.setLayout();
var e=a(document),f="click.mentions."+b.uid;e.off(f).on(f,function(c){var g=a(c.target).parents().andSelf();g.filter(d).length>0||(e.off(f),b.hide())}),c&&(b.sleep=setTimeout(function(){b.hide()},c))},hide:function(){b.element.hide();var a=b.menuItem(),c=a.filter(".active");c.length>0&&(b.lastItem={keyword:"",item:c.data("item")}),b.viewport().removeClass("active"),a.removeClass("active"),b.render.reset(),b.hidden=!0,clearTimeout(b.sleep),b.sleep=setTimeout(function(){b.element.detach()},3e3)},query:function(c){if(c){var d=a.extend({},b.options.query,a.isPlainObject(c)?c:{data:c}),e=d.data;
if(e){if(a.isUrl(e)){var f=e;d.lookup=function(){return a.ajax(f+d.keyword)}}if(a.isFunction(e)){var g=e;d.lookup=function(){return g.call(b,d.keyword)}}if(a.isArray(e)){var h=e;d.lookup=function(){var b=a.Deferred(),c=d.keyword.toLowerCase();return setTimeout(function(){var d=a.grep(h,function(a){return a.title.toLowerCase().indexOf(c)>-1});b.resolve(d)},0),b}}return d}}},tasks:{},delayTask:null,activeQuery:null,populate:function(c,d,e){var f=b.activeQuery;f&&(f.aborted=!0);var f=b.query(d.query);if(f){b.activeQuery=f,f.keyword=e,f.trigger=d,f.marker=c,b.trigger("queryPrepare",[f]);
var e=f.keyword;if(""===e||e.length<f.minLength){var g=f.searchHint;return g?(b.searchHint().html(a.isString(g)?g:b.defaultSearchHint),b.element.addClass("search"),b.show()):b.hide(),void 0}var h=f.id=d.key+"|"+f.caseSensitive?e:e.toLowerCase(),i=b.tasks,j=f.task=i[h],k=!a.isDeferred(j)||!f.cache,l=function(){var a=b.trigger("queryBeforeStart",[f]);a.isDefaultPrevented()||((k||!k&&"rejected"==j.state())&&(j=i[h]=f.task=f.lookup()),j.done(b.render(function(a){return[a,f]})),b.trigger("queryStart",[f]))};k?(clearTimeout(b.delayTask),b.delayTask=setTimeout(l,250)):l()
}},"{self} queryPrepare":function(a,c,d){a.removeClass("loading empty search"),d.loadingHint&&b.hide()},"{self} queryBeforeStart":function(c,d,e){var f=e.loadingHint;f&&(b.loadingHint().html(a.isString(f)?f:b.defaultLoadingHint),c.addClass("loading"),b.show())},"{self} queryStart":function(a,c,d){d.task.fail(function(){b.hide()}).always(function(){a.removeClass("loading")})},render:a.Enqueue(function(c,d){if(d.aborted)return b.hide(),void 0;a.isArray(c)||(c=[]);var e=b.mentions,f=b,g=b.element,h=b.menu(),i=d.keyword;
if(c.length<1){var j=d.emptyHint;return j?(b.emptyHint().html(a.isString(j)?j:b.defaultEmptyHint),h.empty(),g.addClass("empty"),b.show(2e3)):b.hide(),e.trigger("menuRender",[h,d,f,e]),void 0}g.removeClass("empty"),d.cache&&h.data("keyword")===i||(h.empty(),a.each(c,function(c,g){if(e.trigger("menuCreateItem",[g,d,f,e]),a.isPlainObject(g)&&!g.discard){var i=g.menuHtml||g.title;b.view.menuItem({html:i}).data("item",g).appendTo(h)}}),h.data("keyword",i));var k=b.menuItem();return e.trigger("menuCreate",[h,k,d,f,e]),k.filter(":not(.hidden)").length<1&&(g.addClass("empty"),!d.emptyHint)?b.hide():(d.exclusive&&b.menuItem(":not(.hidden):first").addClass("active"),e.trigger("renderMenu",[h,d,f,e]),b.show(),void 0)
}),"{mentions.textarea} keydown":function(a,c){clearTimeout(b.sleep);var d=b.menuItem(".active:not(.hidden)");switch(d.length<1&&(d=!1),c.keyCode){case h.UP:b.menuItem().removeClass("active"),d?d.prev(b.menuItem.selector+":not(.hidden)").addClass("active"):b.menuItem(":not(.hidden):last").addClass("active"),b.hidden||c.preventDefault();break;case h.DOWN:b.menuItem().removeClass("active"),d?d.next(b.menuItem.selector+":not(.hidden)").addClass("active"):b.menuItem(":not(.hidden):first").addClass("active"),b.hidden||c.preventDefault();
break;case h.ESCAPE:b.hide();break;case h.ENTER:if(!b.hidden&&d){var e=d.data("item");b.use(e),c.preventDefault()}}var d=b.menuItem(".active:not(.hidden)");b.hidden||b.viewport().scrollIntoView(d)},"{menuItem} mouseup":function(a){b.hide();var c=a.data("item");b.use(c),setTimeout(function(){b.mentions.textarea().focus()},150)},use:function(a){var c=b.activeQuery;if(c){var d=c.marker,e=a.title;d.text.nodeValue=e,delete a.menuHtml;var f=a;c.use&&(f=c.use(a)),d.finalize(f),b.mentions.textareaInsert(e,d.start,d.end),b.mentions.textarea().caret(d.start+e.length),b.mentions.normalize(),b.hidden=!0,b.hide()
}},"{menuItem} mouseover":function(a){b.menuItem().removeClass("active"),a.addClass("active")},"{menuItem} mouseout":function(){b.menuItem().removeClass("active")},"{closeButton} click":function(){b.hide()},"{mentions} destroyed":function(){b.element.remove()}}})};c(),b.resolveWith(c)};FD40.module("mentions",a)}(),function(){var a=function(a){var b=this,c=function(){(function(c){function ab(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}
}function bb(a,b){function e(){d.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}var c=!0;return hb(function(){return c&&(e(),c=!1),b.apply(this,arguments)},b)}function cb(a,b){return function(c){return kb(a.call(this,c),b)}}function db(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function eb(){}function fb(a){xb(a),hb(this,a)}function gb(a){var b=qb(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;
this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function hb(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function ib(a){var c,b={};for(c in a)a.hasOwnProperty(c)&&r.hasOwnProperty(c)&&(b[c]=a[c]);return b}function jb(a){return 0>a?Math.ceil(a):Math.floor(a)}function kb(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;
return(e?c?"+":"":"-")+d}function lb(a,b,c,e){var f=b._milliseconds,g=b._days,h=b._months;e=null==e?!0:e,f&&a._d.setTime(+a._d+f*c),g&&cc(a,"Date",bc(a,"Date")+g*c),h&&ac(a,bc(a,"Month")+h*c),e&&d.updateOffset(a,g||h)}function mb(a){return"[object Array]"===Object.prototype.toString.call(a)}function nb(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function ob(a,b,c){var g,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(g=0;d>g;g++)(c&&a[g]!==b[g]||!c&&sb(a[g])!==sb(b[g]))&&f++;
return f+e}function pb(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=V[a]||W[b]||b}return a}function qb(a){var c,d,b={};for(d in a)a.hasOwnProperty(d)&&(c=pb(d),c&&(b[c]=a[d]));return b}function rb(a){var b,e;if(0===a.indexOf("week"))b=7,e="day";else{if(0!==a.indexOf("month"))return;b=12,e="month"}d[a]=function(f,g){var h,i,j=d.fn._lang[a],k=[];if("number"==typeof f&&(g=f,f=c),i=function(a){var b=d().utc().set(e,a);return j.call(d.fn._lang,b,f||"")},null!=g)return i(g);for(h=0;b>h;h++)k.push(i(h));return k
}}function sb(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function tb(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ub(a,b,c){return Zb(d([a,11,31+b-c]),b,c).week}function vb(a){return wb(a)?366:365}function wb(a){return a%4===0&&a%100!==0||a%400===0}function xb(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[k]<0||a._a[k]>11?k:a._a[l]<1||a._a[l]>tb(a._a[j],a._a[k])?l:a._a[m]<0||a._a[m]>23?m:a._a[n]<0||a._a[n]>59?n:a._a[o]<0||a._a[o]>59?o:a._a[p]<0||a._a[p]>999?p:-1,a._pf._overflowDayOfYear&&(j>b||b>l)&&(b=l),a._pf.overflow=b)
}function yb(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function zb(a){return a?a.toLowerCase().replace("_","-"):a}function Ab(a,b){return b._isUTC?d(a).zone(b._offset||0):d(a).local()}function Bb(a,b){return b.abbr=a,q[a]||(q[a]=new eb),q[a].set(b),q[a]}function Cb(a){delete q[a]
}function Db(a){var c,e,f,g,b=0,h=function(a){if(!q[a]&&s)try{require("./lang/"+a)}catch(b){}return q[a]};if(!a)return d.fn._lang;if(!mb(a)){if(e=h(a))return e;a=[a]}for(;b<a.length;){for(g=zb(a[b]).split("-"),c=g.length,f=zb(a[b+1]),f=f?f.split("-"):null;c>0;){if(e=h(g.slice(0,c).join("-")))return e;if(f&&f.length>=c&&ob(g,f,!0)>=c-1)break;c--}b++}return d.fn._lang}function Eb(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Fb(a){var c,d,b=a.match(w);for(c=0,d=b.length;d>c;c++)b[c]=$[b[c]]?$[b[c]]:Eb(b[c]);
return function(e){var f="";for(c=0;d>c;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}function Gb(a,b){return a.isValid()?(b=Hb(b,a.lang()),X[b]||(X[b]=Fb(b)),X[b](a)):a.lang().invalidDate()}function Hb(a,b){function d(a){return b.longDateFormat(a)||a}var c=5;for(x.lastIndex=0;c>=0&&x.test(a);)a=a.replace(x,d),x.lastIndex=0,c-=1;return a}function Ib(a,b){var c,d=b._strict;switch(a){case"Q":return I;case"DDDD":return K;case"YYYY":case"GGGG":case"gggg":return d?L:A;case"Y":case"G":case"g":return N;
case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?M:B;case"S":if(d)return I;case"SS":if(d)return J;case"SSS":if(d)return K;case"DDD":return z;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return D;case"a":case"A":return Db(b._l)._meridiemParse;case"X":return G;case"Z":case"ZZ":return E;case"T":return F;case"SSSS":return C;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?J:y;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return y;
case"Do":return H;default:return c=new RegExp(Qb(Pb(a.replace("\\","")),"i"))}}function Jb(a){a=a||"";var b=a.match(E)||[],c=b[b.length-1]||[],d=(c+"").match(S)||["-",0,0],e=+(60*d[1])+sb(d[2]);return"+"===d[0]?-e:e}function Kb(a,b,c){var e,f=c._a;switch(a){case"Q":null!=b&&(f[k]=3*(sb(b)-1));break;case"M":case"MM":null!=b&&(f[k]=sb(b)-1);break;case"MMM":case"MMMM":e=Db(c._l).monthsParse(b),null!=e?f[k]=e:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(f[l]=sb(b));break;case"Do":null!=b&&(f[l]=sb(parseInt(b,10)));
break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=sb(b));break;case"YY":f[j]=d.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":f[j]=sb(b);break;case"a":case"A":c._isPm=Db(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":f[m]=sb(b);break;case"m":case"mm":f[n]=sb(b);break;case"s":case"ss":f[o]=sb(b);break;case"S":case"SS":case"SSS":case"SSSS":f[p]=sb(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=Jb(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);
case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function Lb(a){var b,c,f,g,h,i,o,p,q,r,e=[];if(!a._d){for(f=Nb(a),a._w&&null==a._a[l]&&null==a._a[k]&&(h=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[j]?d().weekYear():a._a[j]},i=a._w,null!=i.GG||null!=i.W||null!=i.E?o=$b(h(i.GG),i.W||1,i.E,4,1):(p=Db(a._l),q=null!=i.d?Wb(i.d,p):null!=i.e?parseInt(i.e,10)+p._week.dow:0,r=parseInt(i.w,10)||1,null!=i.d&&q<p._week.dow&&r++,o=$b(h(i.gg),r,q,p._week.doy,p._week.dow)),a._a[j]=o.year,a._dayOfYear=o.dayOfYear),a._dayOfYear&&(g=null==a._a[j]?f[j]:a._a[j],a._dayOfYear>vb(g)&&(a._pf._overflowDayOfYear=!0),c=Vb(g,0,a._dayOfYear),a._a[k]=c.getUTCMonth(),a._a[l]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=f[b];
for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];e[m]+=sb((a._tzm||0)/60),e[n]+=sb((a._tzm||0)%60),a._d=(a._useUTC?Vb:Ub).apply(null,e)}}function Mb(a){var b;a._d||(b=qb(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],Lb(a))}function Nb(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Ob(a){a._a=[],a._pf.empty=!0;var d,e,f,g,h,b=Db(a._l),c=""+a._i,i=c.length,j=0;for(f=Hb(a._f,b).match(w)||[],d=0;d<f.length;d++)g=f[d],e=(c.match(Ib(g,a))||[])[0],e&&(h=c.substr(0,c.indexOf(e)),h.length>0&&a._pf.unusedInput.push(h),c=c.slice(c.indexOf(e)+e.length),j+=e.length),$[g]?(e?a._pf.empty=!1:a._pf.unusedTokens.push(g),Kb(g,e,a)):a._strict&&!e&&a._pf.unusedTokens.push(g);
a._pf.charsLeftOver=i-j,c.length>0&&a._pf.unusedInput.push(c),a._isPm&&a._a[m]<12&&(a._a[m]+=12),a._isPm===!1&&12===a._a[m]&&(a._a[m]=0),Lb(a),xb(a)}function Pb(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Qb(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Rb(a){var b,c,d,e,f;if(0===a._f.length)return a._pf.invalidFormat=!0,a._d=new Date(0/0),void 0;for(e=0;e<a._f.length;e++)f=0,b=hb({},a),b._pf=ab(),b._f=a._f[e],Ob(b),yb(b)&&(f+=b._pf.charsLeftOver,f+=10*b._pf.unusedTokens.length,b._pf.score=f,(null==d||d>f)&&(d=f,c=b));
hb(a,c||b)}function Sb(a){var b,c,e=a._i,f=O.exec(e);if(f){for(a._pf.iso=!0,b=0,c=Q.length;c>b;b++)if(Q[b][1].exec(e)){a._f=Q[b][0]+(f[6]||" ");break}for(b=0,c=R.length;c>b;b++)if(R[b][1].exec(e)){a._f+=R[b][0];break}e.match(E)&&(a._f+="Z"),Ob(a)}else d.createFromInputFallback(a)}function Tb(a){var b=a._i,e=t.exec(b);b===c?a._d=new Date:e?a._d=new Date(+e[1]):"string"==typeof b?Sb(a):mb(b)?(a._a=b.slice(0),Lb(a)):nb(b)?a._d=new Date(+b):"object"==typeof b?Mb(a):"number"==typeof b?a._d=new Date(b):d.createFromInputFallback(a)
}function Ub(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function Vb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function Wb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Xb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Yb(a,b,c){var d=h(Math.abs(a)/1e3),e=h(d/60),f=h(e/60),g=h(f/24),i=h(g/365),j=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",h(g/30)]||1===i&&["y"]||["yy",i];
return j[2]=b,j[3]=a>0,j[4]=c,Xb.apply({},j)}function Zb(a,b,c){var g,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),g=d(a).add("d",f),{week:Math.ceil(g.dayOfYear()/7),year:g.year()}}function $b(a,b,c,d,e){var g,h,f=Vb(a,0,1).getUTCDay();return c=null!=c?c:e,g=e-f+(f>d?7:0)-(e>f?7:0),h=7*(b-1)+(c-e)+g+1,{year:h>0?a:a-1,dayOfYear:h>0?h:vb(a-1)+h}}function _b(a){var b=a._i,e=a._f;return null===b||e===c&&""===b?d.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=Db().preparse(b)),d.isMoment(b)?(a=ib(b),a._d=new Date(+b._d)):e?mb(e)?Rb(a):Ob(a):Tb(a),new fb(a))
}function ac(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),tb(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function bc(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function cc(a,b,c){return"Month"===b?ac(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function dc(a,b){return function(c){return null!=c?(cc(this,a,c),d.updateOffset(this,b),this):bc(this,a)}}function ec(a){d.duration.fn[a]=function(){return this._data[a]}}function fc(a,b){d.duration.fn["as"+a]=function(){return+this/b
}}for(var d,i,e="2.6.0",h=Math.round,j=0,k=1,l=2,m=3,n=4,o=5,p=6,q={},r={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},s="undefined"!=typeof b&&b.exports,t=/^\/?Date\((\-?\d+)/i,u=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,v=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,x=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,y=/\d\d?/,z=/\d{1,3}/,A=/\d{1,4}/,B=/[+\-]?\d{1,6}/,C=/\d+/,D=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,E=/Z|[\+\-]\d\d:?\d\d/gi,F=/T/i,G=/[\+\-]?\d+(\.\d{1,3})?/,H=/\d{1,2}/,I=/\d/,J=/\d\d/,K=/\d{3}/,L=/\d{4}/,M=/[+-]?\d{6}/,N=/[+-]?\d+/,O=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,P="YYYY-MM-DDTHH:mm:ssZ",Q=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],R=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],S=/([\+\-]|\d\d)/gi,U=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),V={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},W={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},X={},Y="DDD w W M D d".split(" "),Z="M D H h m s w W".split(" "),$={M:function(){return this.month()+1
},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return kb(this.year()%100,2)},YYYY:function(){return kb(this.year(),4)
},YYYYY:function(){return kb(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+kb(Math.abs(a),6)},gg:function(){return kb(this.weekYear()%100,2)},gggg:function(){return kb(this.weekYear(),4)},ggggg:function(){return kb(this.weekYear(),5)},GG:function(){return kb(this.isoWeekYear()%100,2)},GGGG:function(){return kb(this.isoWeekYear(),4)},GGGGG:function(){return kb(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)
},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return sb(this.milliseconds()/100)},SS:function(){return kb(sb(this.milliseconds()/10),2)},SSS:function(){return kb(this.milliseconds(),3)},SSSS:function(){return kb(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+kb(sb(a/60),2)+":"+kb(sb(a)%60,2)
},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+kb(sb(a/60),2)+kb(sb(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},_=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Y.length;)i=Y.pop(),$[i+"o"]=db($[i],i);for(;Z.length;)i=Z.pop(),$[i+i]=cb($[i],2);for($.DDDD=cb($.DDD,3),hb(eb.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b
},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,e;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=d.utc([2e3,b]),e="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(e.replace(".",""),"i")),this._monthsParse[b].test(a))return b
},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,e;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=d([2e3,1]).day(b),e="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(e.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b
},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];
return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)
},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return Zb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),d=function(a,b,d,e){var f;return"boolean"==typeof d&&(e=d,d=c),f={},f._isAMomentObject=!0,f._i=a,f._f=b,f._l=d,f._strict=e,f._isUTC=!1,f._pf=ab(),_b(f)},d.suppressDeprecationWarnings=!1,d.createFromInputFallback=bb("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)
}),d.utc=function(a,b,d,e){var f;return"boolean"==typeof d&&(e=d,d=c),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=d,f._i=a,f._f=b,f._strict=e,f._pf=ab(),_b(f).utc()},d.unix=function(a){return d(1e3*a)},d.duration=function(a,b){var f,g,h,c=a,e=null;return d.isDuration(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(c={},b?c[b]=a:c.milliseconds=a):(e=u.exec(a))?(f="-"===e[1]?-1:1,c={y:0,d:sb(e[l])*f,h:sb(e[m])*f,m:sb(e[n])*f,s:sb(e[o])*f,ms:sb(e[p])*f}):(e=v.exec(a))&&(f="-"===e[1]?-1:1,h=function(a){var b=a&&parseFloat(a.replace(",","."));
return(isNaN(b)?0:b)*f},c={y:h(e[2]),M:h(e[3]),d:h(e[4]),h:h(e[5]),m:h(e[6]),s:h(e[7]),w:h(e[8])}),g=new gb(c),d.isDuration(a)&&a.hasOwnProperty("_lang")&&(g._lang=a._lang),g},d.version=e,d.defaultFormat=P,d.momentProperties=r,d.updateOffset=function(){},d.lang=function(a,b){var c;return a?(b?Bb(zb(a),b):null===b?(Cb(a),a="en"):q[a]||Db(a),c=d.duration.fn._lang=d.fn._lang=Db(a),c._abbr):d.fn._lang._abbr},d.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),Db(a)},d.isMoment=function(a){return a instanceof fb||null!=a&&a.hasOwnProperty("_isAMomentObject")
},d.isDuration=function(a){return a instanceof gb},i=_.length-1;i>=0;--i)rb(_[i]);d.normalizeUnits=function(a){return pb(a)},d.invalid=function(a){var b=d.utc(0/0);return null!=a?hb(b._pf,a):b._pf.userInvalidated=!0,b},d.parseZone=function(){return d.apply(null,arguments).parseZone()},d.parseTwoDigitYear=function(a){return sb(a)+(sb(a)>68?1900:2e3)},hb(d.fn=fb.prototype,{clone:function(){return d(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=d(this).utc();return 0<a.year()&&a.year()<=9999?Gb(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Gb(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return yb(this)},isDSTShifted:function(){return this._a?this.isValid()&&ob(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray())>0:!1},parsingFlags:function(){return hb({},this._pf)
},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=Gb(this,a||d.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?d.duration(+b,a):d.duration(a,b),lb(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?d.duration(+b,a):d.duration(a,b),lb(this,c,-1),this},diff:function(a,b,c){var g,h,e=Ab(a,this),f=6e4*(this.zone()-e.zone());
return b=pb(b),"year"===b||"month"===b?(g=432e5*(this.daysInMonth()+e.daysInMonth()),h=12*(this.year()-e.year())+(this.month()-e.month()),h+=(this-d(this).startOf("month")-(e-d(e).startOf("month")))/g,h-=6e4*(this.zone()-d(this).startOf("month").zone()-(e.zone()-d(e).startOf("month").zone()))/g,"year"===b&&(h/=12)):(g=this-e,h="second"===b?g/1e3:"minute"===b?g/6e4:"hour"===b?g/36e5:"day"===b?(g-f)/864e5:"week"===b?(g-f)/6048e5:g),c?h:jb(h)},from:function(a,b){return d.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)
},fromNow:function(a){return this.from(d(),a)},calendar:function(){var a=Ab(d(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return wb(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Wb(a,this.lang()),this.add({d:a-b})):b
},month:dc("Month",!0),startOf:function(a){switch(a=pb(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=pb(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+d(a).startOf(b)
},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+d(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+Ab(a,this).startOf(b)},min:function(a){return a=d.apply(null,arguments),this>a?this:a},max:function(a){return a=d.apply(null,arguments),a>this?this:a},zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=Jb(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?lb(this,d.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this)
},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?d(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return tb(this.year(),this.month())},dayOfYear:function(a){var b=h((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)
},weekYear:function(a){var b=Zb(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=Zb(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=Zb(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)
},isoWeeksInYear:function(){return ub(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return ub(this.year(),a.dow,a.doy)},get:function(a){return a=pb(a),this[a]()},set:function(a,b){return a=pb(a),"function"==typeof this[a]&&this[a](b),this},lang:function(a){return a===c?this._lang:(this._lang=Db(a),this)}}),d.fn.millisecond=d.fn.milliseconds=dc("Milliseconds",!1),d.fn.second=d.fn.seconds=dc("Seconds",!1),d.fn.minute=d.fn.minutes=dc("Minutes",!1),d.fn.hour=d.fn.hours=dc("Hours",!0),d.fn.date=dc("Date",!0),d.fn.dates=bb("dates accessor is deprecated. Use date instead.",dc("Date",!0)),d.fn.year=dc("FullYear",!0),d.fn.years=bb("years accessor is deprecated. Use year instead.",dc("FullYear",!0)),d.fn.days=d.fn.day,d.fn.months=d.fn.month,d.fn.weeks=d.fn.week,d.fn.isoWeeks=d.fn.isoWeek,d.fn.quarters=d.fn.quarter,d.fn.toJSON=d.fn.toISOString,hb(d.duration.fn=gb.prototype,{_bubble:function(){var e,f,g,h,a=this._milliseconds,b=this._days,c=this._months,d=this._data;
d.milliseconds=a%1e3,e=jb(a/1e3),d.seconds=e%60,f=jb(e/60),d.minutes=f%60,g=jb(f/60),d.hours=g%24,b+=jb(g/24),d.days=b%30,c+=jb(b/30),d.months=c%12,h=jb(c/12),d.years=h},weeks:function(){return jb(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*sb(this._months/12)},humanize:function(a){var b=+this,c=Yb(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=d.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this
},subtract:function(a,b){var c=d.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=pb(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=pb(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:d.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);
return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(i in U)U.hasOwnProperty(i)&&(fc(i,U[i]),ec(i.toLowerCase()));fc("Weeks",6048e5),d.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},d.lang("en",{ordinal:function(a){var b=a%10,c=1===sb(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.moment=d}).call(this)};c(),b.resolveWith(c)};FD40.module("moment",a)
}(),function(){var a=function(a){var b=this,c=function(){var b=new function(){this.countRegexp=function(a,b){var c=a.match(b);return c?c.length:0},this.getStrength=function(a,b){var c=a.length;if(b>c)return 0;var d=this.countRegexp(a,/\d/g),e=this.countRegexp(a,/[a-z]/g),f=this.countRegexp(a,/[A-Z]/g),g=c-d-e-f;if(d==c||e==c||f==c||g==c)return 1;var h=0;return d&&(h+=2),e&&(h+=f?4:3),f&&(h+=e?4:3),g&&(h+=5),c>10&&(h+=1),h},this.getStrengthLevel=function(a,b){var c=this.getStrength(a,b),a=1;return 0>=c?a=1:c>0&&4>=c?a=2:c>4&&8>=c?a=3:c>8&&12>=c?a=4:c>12&&(a=5),a
}};a.fn.password_strength=function(c){var d=a.extend({container:null,minLength:6,texts:{1:"Too weak",2:"Weak password",3:"Normal strength",4:"Strong password",5:"Very strong password"},onCheck:null},c);return this.each(function(){var c=null;d.container?c=a(d.container):(c=a("<span/>").attr("class","password_strength"),a(this).after(c)),a(this).keyup(function(){var e=a(this).val(),f=b.getStrengthLevel(e,d.minLength);if(e.length>0){var g="password_strength_"+f;!c.hasClass(g)&&f in d.texts&&c.text(d.texts[f]).attr("class","password_strength "+g)
}else c.text("").attr("class","password_strength");d.onCheck&&d.onCheck.call(this,f)})})}};c(),b.resolveWith(c)};FD40.module("passwordstrength",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b,c){function j(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function k(a,d){var e=this,f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){if(f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id")),a===!0)return f[0].value=d;
f.focus()}else e.value="",f.removeClass("placeholder"),e==b.activeElement&&e.select()}function l(){var a,b=this,d=c(b),f=this.id;if(""==b.value){if("password"==b.type){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(g){a=c("<input>").attr(c.extend(j(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":f}).bind("focus.placeholder",k),d.data({"placeholder-textinput":a,"placeholder-id":f}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",f).show()
}d.addClass("placeholder"),d[0].value=d.attr("placeholder")}else d.removeClass("placeholder")}var h,i,d="placeholder"in b.createElement("input"),e="placeholder"in b.createElement("textarea"),f=c.fn,g=c.valHooks;d&&e?(i=f.placeholder=function(){return this},i.input=i.textarea=!0):(i=f.placeholder=function(){var a=this;return a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":k,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=d,i.textarea=e,h={get:function(a){var b=c(a);
return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var e=c(a);return e.data("placeholder-enabled")?(""==d?(a.value=d,a!=b.activeElement&&l.call(a)):e.hasClass("placeholder")?k.call(a,!0,d)||(a.value=d):a.value=d,e):a.value=d}},d||(g.input=h),e||(g.textarea=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(k);setTimeout(function(){a.each(l)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""
})}))}(window,document,c)};d(),b.resolveWith(d)};FD40.module("placeholder",a)}(),function(){var moduleFactory=function($){var module=this,jQuery=$,exports=function(){!function(){function k(){this.returnValue=!1}function l(){this.cancelBubble=!0}var g,j,a=0,b=[],c={},d={},e={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},f=/[<>&\"\']/g,h=window.setTimeout,i={};!function(a){var c,e,f,b=a.split(/,/);for(c=0;c<b.length;c+=2)for(f=b[c+1].split(/ /),e=0;e<f.length;e++)d[f[e]]=b[c]}("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");
var m={VERSION:"@@version@@",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:d,ua:function(){var d,e,f,a=navigator,b=a.userAgent,c=a.vendor;return d=/WebKit/.test(b),f=d&&-1!==c.indexOf("Apple"),e=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),android:/Android/.test(b),ie:!d&&!e&&/MSIE/gi.test(b)&&/Explorer/gi.test(a.appName),webkit:d,gecko:!d&&/Gecko/.test(b),safari:f,opera:!!e}
}(),typeOf:function(a){return{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(a){return m.each(arguments,function(b,c){c>0&&m.each(b,function(b,c){a[c]=b})}),a},cleanName:function(a){var b,c;for(c=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],b=0;b<c.length;b+=2)a=a.replace(c[b],c[b+1]);return a=a.replace(/\s+/g,"_"),a=a.replace(/[^a-z0-9_\-\.]+/gi,"")
},addRuntime:function(a,c){return c.name=a,b[a]=c,b.push(c),c},guid:function(){var c,b=(new Date).getTime().toString(32);for(c=0;5>c;c++)b+=Math.floor(65535*Math.random()).toString(32);return(m.guidPrefix||"p")+b+(a++).toString(32)},buildUrl:function(a,b){var c="";return m.each(b,function(a,b){c+=(c?"&":"")+encodeURIComponent(b)+"="+encodeURIComponent(a)}),c&&(a+=(a.indexOf("?")>0?"&":"?")+c),a},each:function(a,b){var c,d,e;if(a)if(c=a.length,c===g){for(d in a)if(a.hasOwnProperty(d)&&b(a[d],d)===!1)return}else for(e=0;c>e;e++)if(b(a[e],e)===!1)return
},formatSize:function(a){return a===g||/\D/.test(a)?m.translate("N/A"):a>1073741824?Math.round(a/1073741824,1)+" GB":a>1048576?Math.round(a/1048576,1)+" MB":a>1024?Math.round(a/1024,1)+" KB":a+" b"},getPos:function(a,b){function i(a){var b,c,d=0,e=0;return a&&(c=a.getBoundingClientRect(),b="CSS1Compat"===f.compatMode?f.documentElement:f.body,d=c.left+b.scrollLeft,e=c.top+b.scrollTop),{x:d,y:e}}var e,g,h,c=0,d=0,f=document;if(a=a,b=b||f.body,a&&a.getBoundingClientRect&&m.ua.ie&&(!f.documentMode||f.documentMode<8))return g=i(a),h=i(b),{x:g.x-h.x,y:g.y-h.y};
for(e=a;e&&e!=b&&e.nodeType;)c+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;for(e=a.parentNode;e&&e!=b&&e.nodeType;)c-=e.scrollLeft||0,d-=e.scrollTop||0,e=e.parentNode;return{x:c,y:d}},getSize:function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}},parseSize:function(a){var b;return"string"==typeof a&&(a=/^([0-9]+)([mgk]?)$/.exec(a.toLowerCase().replace(/[^0-9mkg]/g,"")),b=a[2],a=+a[1],"g"==b&&(a*=1073741824),"m"==b&&(a*=1048576),"k"==b&&(a*=1024)),a},xmlEncode:function(a){return a?(""+a).replace(f,function(a){return e[a]?"&"+e[a]+";":a
}):a},toArray:function(a){var b,c=[];for(b=0;b<a.length;b++)c[b]=a[b];return c},inArray:function(a,b){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c}return-1},addI18n:function(a){return m.extend(c,a)},translate:function(a){return c[a]||a},isEmptyObj:function(a){if(a===g)return!0;for(var b in a)return!1;return!0},hasClass:function(a,b){var c;return""==a.className?!1:(c=new RegExp("(^|\\s+)"+b+"(\\s+|$)"),c.test(a.className))},addClass:function(a,b){m.hasClass(a,b)||(a.className=""==a.className?b:a.className.replace(/\s+$/,"")+" "+b)
},removeClass:function(a,b){var c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");a.className=a.className.replace(c,function(a,b,c){return" "===b&&" "===c?" ":""})},getStyle:function(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null)[b]:void 0},addEvent:function(a,b,c){var d,e,h;h=arguments[3],b=b.toLowerCase(),j===g&&(j="Plupload_"+m.guid()),a.addEventListener?(d=c,a.addEventListener(b,d,!1)):a.attachEvent&&(d=function(){var a=window.event;a.target||(a.target=a.srcElement),a.preventDefault=k,a.stopPropagation=l,c(a)
},a.attachEvent("on"+b,d)),a[j]===g&&(a[j]=m.guid()),i.hasOwnProperty(a[j])||(i[a[j]]={}),e=i[a[j]],e.hasOwnProperty(b)||(e[b]=[]),e[b].push({func:d,orig:c,key:h})},removeEvent:function(a,b){var c,d,e;if("function"==typeof arguments[2]?d=arguments[2]:e=arguments[2],b=b.toLowerCase(),a[j]&&i[a[j]]&&i[a[j]][b]){c=i[a[j]][b];for(var f=c.length-1;f>=0&&(c[f].key!==e&&c[f].orig!==d||(a.removeEventListener?a.removeEventListener(b,c[f].func,!1):a.detachEvent&&a.detachEvent("on"+b,c[f].func),c[f].orig=null,c[f].func=null,c.splice(f,1),d===g));f--);if(c.length||delete i[a[j]][b],m.isEmptyObj(i[a[j]])){delete i[a[j]];
try{delete a[j]}catch(h){a[j]=g}}}},removeAllEvents:function(a){var b=arguments[1];a[j]!==g&&a[j]&&m.each(i[a[j]],function(c,d){m.removeEvent(a,d,b)})}};m.Uploader=function(a){function j(){var a,c,b=0;if(this.state==m.STARTED){for(c=0;c<e.length;c++)a||e[c].status!=m.QUEUED?b++:(a=e[c],a.status=m.UPLOADING,this.trigger("BeforeUpload",a)&&this.trigger("UploadFile",a));b==e.length&&(this.stop(),this.trigger("UploadComplete",e))}}function k(){var a,b;for(d.reset(),a=0;a<e.length;a++)b=e[a],b.size!==g?(d.size+=b.size,d.loaded+=b.loaded):d.size=g,b.status==m.DONE?d.uploaded++:b.status==m.FAILED?d.failed++:d.queued++;
d.size===g?d.percent=e.length>0?Math.ceil(d.uploaded/e.length*100):0:(d.bytesPerSec=Math.ceil(d.loaded/((+new Date-f||1)/1e3)),d.percent=d.size>0?Math.ceil(d.loaded/d.size*100):0)}var d,f,c={},e=[],i=!1;d=new m.QueueProgress,a=m.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},a),m.extend(this,{state:m.STOPPED,runtime:"",features:{},files:e,settings:a,total:d,id:m.guid(),init:function(){function p(){var b,d,e,a=i[n++];if(a){if(b=a.getFeatures(),d=c.settings.required_features)for(d=d.split(","),e=0;e<d.length;e++)if(!b[d[e]])return p(),void 0;
a.init(c,function(d){d&&d.success?(c.features=b,c.runtime=a.name,c.trigger("Init",{runtime:a.name}),c.trigger("PostInit"),c.refresh()):p()})}else c.trigger("Error",{code:m.INIT_ERROR,message:m.translate("Init error.")})}var d,i,o,c=this,n=0;if("function"==typeof a.preinit?a.preinit(c):m.each(a.preinit,function(a,b){c.bind(b,a)}),a.page_url=a.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(a.url)||(a.url=a.page_url+a.url),a.chunk_size=m.parseSize(a.chunk_size),a.max_file_size=m.parseSize(a.max_file_size),c.bind("FilesAdded",function(b,d){var f,i,k,j=0,l=a.filters;
for(l&&l.length&&(k=[],m.each(l,function(a){m.each(a.extensions.split(/,/),function(a){/^\s*\*\s*$/.test(a)?k.push("\\.*"):k.push("\\."+a.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),k=new RegExp(k.join("|")+"$","i")),f=0;f<d.length;f++)i=d[f],i.loaded=0,i.percent=0,i.status=m.QUEUED,!k||k.test(i.name)?i.size!==g&&i.size>a.max_file_size?b.trigger("Error",{code:m.FILE_SIZE_ERROR,message:m.translate("File size error."),file:i}):(e.push(i),j++):b.trigger("Error",{code:m.FILE_EXTENSION_ERROR,message:m.translate("File extension error."),file:i});
return j?(h(function(){c.trigger("QueueChanged"),c.refresh()},1),void 0):!1}),a.unique_names&&c.bind("UploadFile",function(a,b){var c=b.name.match(/\.([^.]+)$/),d="tmp";c&&(d=c[1]),b.target_name=b.id+"."+d}),c.bind("UploadProgress",function(a,b){b.percent=b.size>0?Math.ceil(b.loaded/b.size*100):100,k()}),c.bind("StateChanged",function(a){if(a.state==m.STARTED)f=+new Date;else if(a.state==m.STOPPED)for(d=a.files.length-1;d>=0;d--)a.files[d].status==m.UPLOADING&&(a.files[d].status=m.QUEUED,k())}),c.bind("QueueChanged",k),c.bind("Error",function(a,b){b.file&&(b.file.status=m.FAILED,k(),a.state==m.STARTED&&h(function(){j.call(c)
},1))}),c.bind("FileUploaded",function(a,b){b.status=m.DONE,b.loaded=b.size,a.trigger("UploadProgress",b),h(function(){j.call(c)},1)}),a.runtimes)for(i=[],o=a.runtimes.split(/\s?,\s?/),d=0;d<o.length;d++)b[o[d]]&&i.push(b[o[d]]);else i=b;p(),"function"==typeof a.init?a.init(c):m.each(a.init,function(a,b){c.bind(b,a)})},refresh:function(){this.trigger("Refresh")},start:function(){e.length&&this.state!=m.STARTED&&(this.state=m.STARTED,this.trigger("StateChanged"),j.call(this))},stop:function(){this.state!=m.STOPPED&&(this.state=m.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))
},disableBrowse:function(){i=arguments[0]!==g?arguments[0]:!0,this.trigger("DisableBrowse",i)},getFile:function(a){var b;for(b=e.length-1;b>=0;b--)if(e[b].id===a)return e[b]},removeFile:function(a){var b;for(b=e.length-1;b>=0;b--)if(e[b].id===a.id)return this.splice(b,1)[0]},splice:function(a,b){var c;return c=e.splice(a===g?0:a,b===g?e.length:b),this.trigger("FilesRemoved",c),this.trigger("QueueChanged"),c},trigger:function(a){var d,e,b=c[a.toLowerCase()];if(b)for(e=Array.prototype.slice.call(arguments),e[0]=this,d=0;d<b.length;d++)if(b[d].func.apply(b[d].scope,e)===!1)return!1;
return!0},hasEventListener:function(a){return!!c[a.toLowerCase()]},bind:function(a,b,d){var e;a=a.toLowerCase(),e=c[a]||[],e.push({func:b,scope:d||this}),c[a]=e},unbind:function(a){a=a.toLowerCase();var d,b=c[a],e=arguments[1];if(b){if(e!==g){for(d=b.length-1;d>=0;d--)if(b[d].func===e){b.splice(d,1);break}}else b=[];b.length||delete c[a]}},unbindAll:function(){var a=this;m.each(c,function(b,c){a.unbind(c)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},m.File=function(a,b,c){var d=this;
d.id=a,d.name=b,d.size=c,d.loaded=0,d.percent=0,d.status=0},m.Runtime=function(){this.getFeatures=function(){},this.init=function(){}},m.QueueProgress=function(){var a=this;a.size=0,a.loaded=0,a.uploaded=0,a.failed=0,a.queued=0,a.percent=0,a.bytesPerSec=0,a.reset=function(){a.size=a.loaded=a.uploaded=a.failed=a.queued=a.percent=a.bytesPerSec=0}},m.runtimes={},$.plupload=m}(),function(a,b,c){function e(a){return b.getElementById(a)}c.runtimes.Html4=c.addRuntime("html4",{getFeatures:function(){return{multipart:!0,triggerDialog:c.ua.gecko&&a.FormData||c.ua.webkit}
},init:function(d,f){d.bind("Init",function(f){function u(){var a,h,i,j;l=c.guid(),m.push(l),a=b.createElement("form"),a.setAttribute("id","form_"+l),a.setAttribute("method","post"),a.setAttribute("enctype","multipart/form-data"),a.setAttribute("encoding","multipart/form-data"),a.setAttribute("target",f.id+"_iframe"),a.style.position="absolute",h=b.createElement("input"),h.setAttribute("id","input_"+l),h.setAttribute("type","file"),h.setAttribute("accept",o),h.setAttribute("size",1),j=e(f.settings.browse_button),f.features.triggerDialog&&j&&c.addEvent(e(f.settings.browse_button),"click",function(a){h.disabled||h.click(),a.preventDefault()
},f.id),c.extend(h.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"}),c.extend(a.style,{overflow:"hidden"}),i=f.settings.shim_bgcolor,i&&(a.style.background=i),n&&c.extend(h.style,{filter:"alpha(opacity=0)"}),c.addEvent(h,"change",function(b){var i,g=b.target,k=[];g.value&&(e("form_"+l).style.top="-1048575px",i=g.value.replace(/\\/g,"/"),i=i.substring(i.length,i.lastIndexOf("/")+1),k.push(new c.File(l,i)),f.features.triggerDialog?c.removeEvent(j,"click",f.id):c.removeAllEvents(a,f.id),c.removeEvent(h,"change",f.id),u(),k.length&&d.trigger("FilesAdded",k))
},f.id),a.appendChild(h),g.appendChild(a),f.refresh()}function v(){var d=b.createElement("div");d.innerHTML='<iframe id="'+f.id+'_iframe" name="'+f.id+'_iframe" src="'+i+':&quot;&quot;" style="display:none"></iframe>',h=d.firstChild,g.appendChild(h),c.addEvent(h,"load",function(b){var e,g,d=b.target;if(j){try{e=d.contentWindow.document||d.contentDocument||a.frames[d.id].document}catch(h){return f.trigger("Error",{code:c.SECURITY_ERROR,message:c.translate("Security error."),file:j}),void 0}g=e.documentElement.innerText||e.documentElement.textContent,g&&(j.status=c.DONE,j.loaded=1025,j.percent=100,f.trigger("UploadProgress",j),f.trigger("FileUploaded",j,{response:g}))
}},f.id)}var h,j,l,q,r,s,t,g=b.body,i="javascript",m=[],n=/MSIE/.test(navigator.userAgent),o=[],p=f.settings.filters;a:for(q=0;q<p.length;q++)for(r=p[q].extensions.split(/,/),t=0;t<r.length;t++){if("*"===r[t]){o=[];break a}s=c.mimeTypes[r[t]],s&&-1===c.inArray(s,o)&&o.push(s)}o=o.join(","),f.settings.container&&(g=e(f.settings.container),"static"===c.getStyle(g,"position")&&(g.style.position="relative")),f.bind("UploadFile",function(a,d){var f,g;d.status!=c.DONE&&d.status!=c.FAILED&&a.state!=c.STOPPED&&(f=e("form_"+d.id),g=e("input_"+d.id),g.setAttribute("name",a.settings.file_data_name),f.setAttribute("action",a.settings.url),c.each(c.extend({name:d.target_name||d.name},a.settings.multipart_params),function(a,d){var e=b.createElement("input");
c.extend(e,{type:"hidden",name:d,value:a}),f.insertBefore(e,f.firstChild)}),j=d,e("form_"+l).style.top="-1048575px",f.submit())}),f.bind("FileUploaded",function(a){a.refresh()}),f.bind("StateChanged",function(b){b.state==c.STARTED?v():b.state==c.STOPPED&&a.setTimeout(function(){c.removeEvent(h,"load",b.id),h.parentNode&&h.parentNode.removeChild(h)},0),c.each(b.files,function(a){if(a.status===c.DONE||a.status===c.FAILED){var d=e("form_"+a.id);d&&d.parentNode.removeChild(d)}})}),f.bind("Refresh",function(a){var d,f,g,h,i,j,k,m,n;
d=e(a.settings.browse_button),d&&(i=c.getPos(d,e(a.settings.container)),j=c.getSize(d),k=e("form_"+l),m=e("input_"+l),c.extend(k.style,{top:i.y+"px",left:i.x+"px",width:j.w+"px",height:j.h+"px"}),a.features.triggerDialog&&("static"===c.getStyle(d,"position")&&c.extend(d.style,{position:"relative"}),n=parseInt(d.style.zIndex,10),isNaN(n)&&(n=0),c.extend(d.style,{zIndex:n}),c.extend(k.style,{zIndex:n-1})),g=a.settings.browse_button_hover,h=a.settings.browse_button_active,f=a.features.triggerDialog?d:k,g&&(c.addEvent(f,"mouseover",function(){c.addClass(d,g)
},a.id),c.addEvent(f,"mouseout",function(){c.removeClass(d,g)},a.id)),h&&(c.addEvent(f,"mousedown",function(){c.addClass(d,h)},a.id),c.addEvent(b.body,"mouseup",function(){c.removeClass(d,h)},a.id)))}),d.bind("FilesRemoved",function(a,b){var c,d;for(c=0;c<b.length;c++)d=e("form_"+b[c].id),d&&d.parentNode.removeChild(d)}),d.bind("DisableBrowse",function(a,c){var d=b.getElementById("input_"+l);d&&(d.disabled=c)}),d.bind("Destroy",function(a){var d,f,g,h={inputContainer:"form_"+l,inputFile:"input_"+l,browseButton:a.settings.browse_button};
for(d in h)f=e(h[d]),f&&c.removeAllEvents(f,a.id);c.removeAllEvents(b.body,a.id),c.each(m,function(a){g=e("form_"+a),g&&g.parentNode.removeChild(g)})}),u()}),f({success:!0})}})}(window,document,$.plupload),function(a,b,c,d){function g(a){var c=a.naturalWidth,d=a.naturalHeight;if(c*d>1048576){var e=b.createElement("canvas");e.width=e.height=1;var f=e.getContext("2d");return f.drawImage(a,-c+1,0),0===f.getImageData(0,0,1,1).data[3]}return!1}function h(a,c,d){var e=b.createElement("canvas");e.width=1,e.height=d;
var f=e.getContext("2d");f.drawImage(a,0,0);for(var g=f.getImageData(0,0,1,d).data,h=0,i=d,j=d;j>h;){var k=g[4*(j-1)+3];0===k?i=j:h=j,j=i+h>>1}var l=j/d;return 0===l?1:l}function j(a,c,d){var e=a.naturalWidth,f=a.naturalHeight,i=d.width,j=d.height,k=c.getContext("2d");k.save();var l=g(a);l&&(e/=2,f/=2);var m=1024,n=b.createElement("canvas");n.width=n.height=m;for(var o=n.getContext("2d"),p=h(a,e,f),q=0;f>q;){for(var r=q+m>f?f-q:m,s=0;e>s;){var t=s+m>e?e-s:m;o.clearRect(0,0,m,m),o.drawImage(a,-s,-q);var u=s*i/e<<0,v=Math.ceil(t*i/e),w=q*j/f/p<<0,x=Math.ceil(r*j/f/p);
k.drawImage(n,0,0,t,r,u,w,v,x),s+=m}q+=m}k.restore(),n=o=null}function k(b,c){var d;return"FileReader"in a?(d=new FileReader,d.readAsDataURL(b),d.onload=function(){c(d.result)},void 0):c(b.getAsDataURL())}function l(b,c){var d;return"FileReader"in a?(d=new FileReader,d.readAsBinaryString(b),d.onload=function(){c(d.result)},void 0):c(b.getAsBinary())}function m(a,c,d,f){var g,i,l,m=this;k(e[a.id],function(e){g=b.createElement("canvas"),g.style.display="none",b.body.appendChild(g),i=new Image,i.onerror=i.onabort=function(){f({success:!1})
},i.onload=function(){var b,h,n,q;if(c.width||(c.width=i.width),c.height||(c.height=i.height),l=Math.min(c.width/i.width,c.height/i.height),1>l)b=Math.round(i.width*l),h=Math.round(i.height*l);else{if(!c.quality||"image/jpeg"!==d)return f({success:!1}),void 0;b=i.width,h=i.height}if(g.width=b,g.height=h,j(i,g,{width:b,height:h}),"image/jpeg"===d&&(n=new o(atob(e.substring(e.indexOf("base64,")+7))),n.headers&&n.headers.length&&(q=new p,q.init(n.get("exif")[0])&&(q.setExif("PixelXDimension",b),q.setExif("PixelYDimension",h),n.set("exif",q.getBinary()),m.hasEventListener("ExifData")&&m.trigger("ExifData",a,q.EXIF()),m.hasEventListener("GpsData")&&m.trigger("GpsData",a,q.GPS())))),c.quality&&"image/jpeg"===d)try{e=g.toDataURL(d,c.quality/100)
}catch(r){e=g.toDataURL(d)}else e=g.toDataURL(d);e=e.substring(e.indexOf("base64,")+7),e=atob(e),n&&n.headers&&n.headers.length&&(e=n.restore(e),n.purge()),g.parentNode.removeChild(g),f({success:!0,data:e})},i.src=e})}function n(){function c(c,d){var g,e=a?0:-8*(d-1),f=0;for(g=0;d>g;g++)f|=b.charCodeAt(c+g)<<Math.abs(e+8*g);return f}function e(a,c,d){var d=3===arguments.length?d:b.length-c-1;b=b.substr(0,c)+a+b.substr(d+c)}function f(b,c,d){var h,f="",g=a?0:-8*(d-1);for(h=0;d>h;h++)f+=String.fromCharCode(c>>Math.abs(g+8*h)&255);
e(f,b,d)}var b,a=!1;return{II:function(b){return b===d?a:(a=b,void 0)},init:function(c){a=!1,b=c},SEGMENT:function(a,c,d){switch(arguments.length){case 1:return b.substr(a,b.length-a-1);case 2:return b.substr(a,c);case 3:e(d,a,c);break;default:return b}},BYTE:function(a){return c(a,1)},SHORT:function(a){return c(a,2)},LONG:function(a,b){return b===d?c(a,4):(f(a,b,4),void 0)},SLONG:function(a){var b=c(a,4);return b>2147483647?b-4294967296:b},STRING:function(a,b){var d="";for(b+=a;b>a;a++)d+=String.fromCharCode(c(a,1));
return d}}}function o(a){var e,f,i,b={65505:{app:"EXIF",name:"APP1",signature:"Exif\x00"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\x00"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\x00"}},c=[],g=d,h=0;if(e=new n,e.init(a),65496===e.SHORT(0)){for(f=2,i=Math.min(1048576,a.length);i>=f;)if(g=e.SHORT(f),g>=65488&&65495>=g)f+=2;else{if(65498===g||65497===g)break;h=e.SHORT(f+2)+2,b[g]&&e.STRING(f+4,b[g].signature.length)===b[g].signature&&c.push({hex:g,app:b[g].app.toUpperCase(),name:b[g].name.toUpperCase(),start:f,length:h,segment:e.SEGMENT(f,h)}),f+=h
}return e.init(null),{headers:c,restore:function(a){e.init(a);var b=new o(a);if(!b.headers)return!1;for(var d=b.headers.length;d>0;d--){var g=b.headers[d-1];e.SEGMENT(g.start,g.length,"")}b.purge(),f=65504==e.SHORT(2)?4+e.SHORT(4):2;for(var d=0,h=c.length;h>d;d++)e.SEGMENT(f,0,c[d].segment),f+=c[d].length;return e.SEGMENT()},get:function(a){for(var b=[],d=0,e=c.length;e>d;d++)c[d].app===a.toUpperCase()&&b.push(c[d].segment);return b},set:function(a,b){var d=[];"string"==typeof b?d.push(b):d=b;for(var e=ii=0,f=c.length;f>e&&(c[e].app===a.toUpperCase()&&(c[e].segment=d[ii],c[e].length=d[ii].length,ii++),!(ii>=d.length));e++);},purge:function(){c=[],e.init(null)
}}}}function p(){function g(b,c){var h,i,j,k,l,m,n,o,g=a.SHORT(b),p=[],q={};for(h=0;g>h;h++)if(n=m=b+12*h+2,j=c[a.SHORT(n)],j!==d){switch(k=a.SHORT(n+=2),l=a.LONG(n+=2),n+=4,p=[],k){case 1:case 7:for(l>4&&(n=a.LONG(n)+e.tiffHeader),i=0;l>i;i++)p[i]=a.BYTE(n+i);break;case 2:l>4&&(n=a.LONG(n)+e.tiffHeader),q[j]=a.STRING(n,l-1);continue;case 3:for(l>2&&(n=a.LONG(n)+e.tiffHeader),i=0;l>i;i++)p[i]=a.SHORT(n+2*i);break;case 4:for(l>1&&(n=a.LONG(n)+e.tiffHeader),i=0;l>i;i++)p[i]=a.LONG(n+4*i);break;case 5:for(n=a.LONG(n)+e.tiffHeader,i=0;l>i;i++)p[i]=a.LONG(n+4*i)/a.LONG(n+4*i+4);
break;case 9:for(n=a.LONG(n)+e.tiffHeader,i=0;l>i;i++)p[i]=a.SLONG(n+4*i);break;case 10:for(n=a.LONG(n)+e.tiffHeader,i=0;l>i;i++)p[i]=a.SLONG(n+4*i)/a.SLONG(n+4*i+4);break;default:continue}o=1==l?p[0]:p,q[j]=f.hasOwnProperty(j)&&"object"!=typeof o?f[j][o]:o}return q}function h(){var c=d,f=e.tiffHeader;return a.II(18761==a.SHORT(f)),42!==a.SHORT(f+=2)?!1:(e.IFD0=e.tiffHeader+a.LONG(f+=2),c=g(e.IFD0,b.tiff),e.exifIFD="ExifIFDPointer"in c?e.tiffHeader+c.ExifIFDPointer:d,e.gpsIFD="GPSInfoIFDPointer"in c?e.tiffHeader+c.GPSInfoIFDPointer:d,!0)
}function j(c,d,f){var g,h,j,k=0;if("string"==typeof d){var l=b[c.toLowerCase()];for(hex in l)if(l[hex]===d){d=hex;break}}for(g=e[c.toLowerCase()+"IFD"],h=a.SHORT(g),i=0;h>i;i++)if(j=g+12*i+2,a.SHORT(j)==d){k=j+8;break}return k?(a.LONG(k,f),!0):!1}var a,b,f,e={};return a=new n,b={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},f={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(b){return e={tiffHeader:10},b!==d&&b.length?(a.init(b),65505===a.SHORT(0)&&"EXIF\x00"===a.STRING(4,5).toUpperCase()?h():!1):!1
},EXIF:function(){var a;if(a=g(e.exifIFD,b.exif),a.ExifVersion&&"array"===c.typeOf(a.ExifVersion)){for(var d=0,f="";d<a.ExifVersion.length;d++)f+=String.fromCharCode(a.ExifVersion[d]);a.ExifVersion=f}return a},GPS:function(){var a;return a=g(e.gpsIFD,b.gps),a.GPSVersionID&&(a.GPSVersionID=a.GPSVersionID.join(".")),a},setExif:function(a,b){return"PixelXDimension"!==a&&"PixelYDimension"!==a?!1:j("exif",a,b)},getBinary:function(){return a.SEGMENT()}}}var f,e={};c.runtimes.Html5=c.addRuntime("html5",{getFeatures:function(){var d,e,g,h,i,j;
return e=g=i=j=!1,a.XMLHttpRequest&&(d=new XMLHttpRequest,g=!!d.upload,e=!(!d.sendAsBinary&&!d.upload)),e&&(h=!!(d.sendAsBinary||a.Uint8Array&&a.ArrayBuffer),i=!(!File||!File.prototype.getAsDataURL&&!a.FileReader||!h),j=!(!File||!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))),f=c.ua.safari&&c.ua.windows,{html5:e,dragdrop:function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a}(),jpgresize:i,pngresize:i,multipart:i||!!a.FileReader||!!a.FormData,canSendBinary:h,cantSendBlobInFormData:!(!(c.ua.gecko&&a.FormData&&a.FileReader)||FileReader.prototype.readAsArrayBuffer)||c.ua.android,progress:g,chunks:j,multi_selection:!(c.ua.safari&&c.ua.windows),triggerDialog:c.ua.gecko&&a.FormData||c.ua.webkit}
},init:function(d,g){function j(a){var b,f,h,g=[],i={};for(f=0;f<a.length;f++)b=a[f],i[b.name]&&c.ua.safari&&c.ua.windows||(i[b.name]=!0,h=c.guid(),e[h]=b,g.push(new c.File(h,b.fileName||b.name,b.fileSize||b.size)));g.length&&d.trigger("FilesAdded",g)}var h,i;return h=this.getFeatures(),h.html5?(d.bind("Init",function(a){var e,f,h,i,l,m,o,g=[],k=a.settings.filters,n=b.body;e=b.createElement("div"),e.id=a.id+"_html5_container",c.extend(e.style,{position:"absolute",background:d.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:d.settings.shim_bgcolor?"":0}),e.className="plupload html5",d.settings.container&&(n=b.getElementById(d.settings.container),"static"===c.getStyle(n,"position")&&(n.style.position="relative")),n.appendChild(e);
a:for(h=0;h<k.length;h++)for(l=k[h].extensions.split(/,/),i=0;i<l.length;i++){if("*"===l[i]){g=[];break a}m=c.mimeTypes[l[i]],m&&-1===c.inArray(m,g)&&g.push(m)}if(e.innerHTML='<input id="'+d.id+'_html5"  style="font-size:999px" type="file" accept="'+g.join(",")+'" '+(d.settings.multi_selection&&d.features.multi_selection?'multiple="multiple"':"")+" />",e.scrollTop=100,o=b.getElementById(d.id+"_html5"),a.features.triggerDialog?c.extend(o.style,{position:"absolute",width:"100%",height:"100%"}):c.extend(o.style,{cssFloat:"right",styleFloat:"right"}),o.onchange=function(){j(this.files),this.value=""
},f=b.getElementById(a.settings.browse_button)){var p=a.settings.browse_button_hover,q=a.settings.browse_button_active,r=a.features.triggerDialog?f:e;p&&(c.addEvent(r,"mouseover",function(){c.addClass(f,p)},a.id),c.addEvent(r,"mouseout",function(){c.removeClass(f,p)},a.id)),q&&(c.addEvent(r,"mousedown",function(){c.addClass(f,q)},a.id),c.addEvent(b.body,"mouseup",function(){c.removeClass(f,q)},a.id)),a.features.triggerDialog&&c.addEvent(f,"click",function(c){var d=b.getElementById(a.id+"_html5");d&&!d.disabled&&d.click(),c.preventDefault()
},a.id)}}),d.bind("PostInit",function(){var a=b.getElementById(d.settings.drop_element);if(a){if(f)return c.addEvent(a,"dragenter",function(){var f,g,h;f=b.getElementById(d.id+"_drop"),f||(f=b.createElement("input"),f.setAttribute("type","file"),f.setAttribute("id",d.id+"_drop"),f.setAttribute("multiple","multiple"),c.addEvent(f,"change",function(){j(this.files),c.removeEvent(f,"change",d.id),f.parentNode.removeChild(f)},d.id),c.addEvent(f,"dragover",function(a){a.stopPropagation()},d.id),a.appendChild(f)),g=c.getPos(a,b.getElementById(d.settings.container)),h=c.getSize(a),"static"===c.getStyle(a,"position")&&c.extend(a.style,{position:"relative"}),c.extend(f.style,{position:"absolute",display:"block",top:0,left:0,width:h.w+"px",height:h.h+"px",opacity:0})
},d.id),void 0;c.addEvent(a,"dragover",function(a){a.preventDefault()},d.id),c.addEvent(a,"drop",function(a){var b=a.dataTransfer;b&&b.files&&j(b.files),a.preventDefault()},d.id)}}),d.bind("Refresh",function(a){var e,f,g,h,i;e=b.getElementById(d.settings.browse_button),e&&(f=c.getPos(e,b.getElementById(a.settings.container)),g=c.getSize(e),h=b.getElementById(d.id+"_html5_container"),c.extend(h.style,{top:f.y+"px",left:f.x+"px",width:g.w+"px",height:g.h+"px"}),d.features.triggerDialog&&("static"===c.getStyle(e,"position")&&c.extend(e.style,{position:"relative"}),i=parseInt(c.getStyle(e,"zIndex"),10),isNaN(i)&&(i=0),c.extend(e.style,{zIndex:i}),c.extend(h.style,{zIndex:i-1})))
}),d.bind("DisableBrowse",function(a,c){var d=b.getElementById(a.id+"_html5");d&&(d.disabled=c)}),d.bind("CancelUpload",function(){i&&i.abort&&i.abort()}),d.bind("UploadFile",function(b,d){function k(a,b,c){var d;if(!File.prototype.slice)return(d=File.prototype.webkitSlice||File.prototype.mozSlice)?d.call(a,b,c):null;try{return a.slice(),a.slice(b,c)}catch(e){return a.slice(b,c-b)}}function n(e){function l(){function u(a){if(i.sendAsBinary)i.sendAsBinary(a);else if(b.features.canSendBinary){for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=255&a.charCodeAt(d);
i.send(c.buffer)}}function v(e){var n,f=0,k="----pluploadboundary"+c.guid(),v="--",w="\r\n",x="";if(i=new XMLHttpRequest,i.upload&&(i.upload.onprogress=function(a){d.loaded=Math.min(d.size,j+a.loaded-f),b.trigger("UploadProgress",d)}),i.onreadystatechange=function(){var a,f;if(4==i.readyState&&b.state!==c.STOPPED){try{a=i.status}catch(h){a=0}if(a>=400)b.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:d,status:a});else{if(o){if(f={chunk:g,chunks:o,response:i.responseText,status:a},b.trigger("ChunkUploaded",d,f),j+=r,f.cancelled)return d.status=c.FAILED,void 0;
d.loaded=Math.min(d.size,(g+1)*q)}else d.loaded=d.size;b.trigger("UploadProgress",d),e=m=n=x=null,!o||++g>=o?(d.status=c.DONE,b.trigger("FileUploaded",d,{response:i.responseText,status:a})):l()}}},b.settings.multipart&&h.multipart){if(p.name=d.target_name||d.name,i.open("post",t,!0),c.each(b.settings.headers,function(a,b){i.setRequestHeader(b,a)}),"string"!=typeof e&&a.FormData)return n=new FormData,c.each(c.extend(p,b.settings.multipart_params),function(a,b){n.append(b,a)}),n.append(b.settings.file_data_name,e),i.send(n),void 0;
if("string"==typeof e)return i.setRequestHeader("Content-Type","multipart/form-data; boundary="+k),c.each(c.extend(p,b.settings.multipart_params),function(a,b){x+=v+k+w+'Content-Disposition: form-data; name="'+b+'"'+w+w,x+=unescape(encodeURIComponent(a))+w}),s=c.mimeTypes[d.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",x+=v+k+w+'Content-Disposition: form-data; name="'+b.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(d.name))+'"'+w+"Content-Type: "+s+w+w+e+w+v+k+v+w,f=x.length-e.length,e=x,u(e),void 0
}t=c.buildUrl(b.settings.url,c.extend(p,b.settings.multipart_params)),i.open("post",t,!0),i.setRequestHeader("Content-Type","application/octet-stream"),c.each(b.settings.headers,function(a,b){i.setRequestHeader(b,a)}),"string"==typeof e?u(e):i.send(e)}var m,o,p,q,r,s,t=b.settings.url;d.status!=c.DONE&&d.status!=c.FAILED&&b.state!=c.STOPPED&&(p={name:d.target_name||d.name},f.chunk_size&&d.size>f.chunk_size&&(h.chunks||"string"==typeof e)?(q=f.chunk_size,o=Math.ceil(d.size/q),r=Math.min(q,d.size-g*q),m="string"==typeof e?e.substring(g*q,g*q+r):k(e,g*q,g*q+r),p.chunk=g,p.chunks=o):(r=d.size,m=e),b.settings.multipart&&h.multipart&&"string"!=typeof m&&a.FileReader&&h.cantSendBlobInFormData&&h.chunks&&b.settings.chunk_size?!function(){var a=new FileReader;
a.onload=function(){v(a.result),a=null},a.readAsBinaryString(m)}():v(m))}var g=0,j=0;l()}var g,f=b.settings;g=e[d.id],h.jpgresize&&b.settings.resize&&/\.(png|jpg|jpeg)$/i.test(d.name)?m.call(b,d,b.settings.resize,/\.png$/i.test(d.name)?"image/png":"image/jpeg",function(a){a.success?(d.size=a.data.length,n(a.data)):h.chunks?n(g):l(g,n)}):!h.chunks&&h.jpgresize?l(g,n):n(g)}),d.bind("Destroy",function(a){var d,e,f=b.body,g={inputContainer:a.id+"_html5_container",inputFile:a.id+"_html5",browseButton:a.settings.browse_button,dropElm:a.settings.drop_element};
for(d in g)e=b.getElementById(g[d]),e&&c.removeAllEvents(e,a.id);c.removeAllEvents(b.body,a.id),a.settings.container&&(f=b.getElementById(a.settings.container)),f.removeChild(b.getElementById(g.inputContainer))}),g({success:!0}),void 0):(g({success:!1}),void 0)}})}(window,document,$.plupload),$.Controller("plupload",{pluginName:"plupload",hostname:"plupload",defaultOptions:{"{uploader}":"[data-plupload-uploader]","{uploadButton}":"[data-plupload-upload-button]","{uploadDropsite}":"[data-plupload-dropsite]",settings:{runtimes:"html5, html4",url:$.indexUrl,max_file_count:20,unique_names:!0}}},function(self,opts,base){return{init:function(){var a=self.options.settings,b=$.uid("uploadContainer-");
self.element.attr("id",b),a.container=b;var c=self.uploadButtonId=$.uid("uploadButton-");self.uploadButtonMain=self.uploadButton(":first").attr("id",c),a.browse_button=c;var d=$.uid("uploadDropsite-");self.uploadDropsite().length>0&&(self.uploadDropsite().attr("id",d),a.drop_element=d),self.uploader=$(self.uploader()[0]||self.element),self.plupload=new $.plupload.Uploader(a),self.plupload.bind("PostInit",function(){self.eventHandler("PostInit",$.makeArray(arguments))}),self.plupload.init();var e=["BeforeUpload","ChunkUploaded","Destroy","Error","FilesAdded","FilesRemoved","FileUploaded","Init","QueueChanged","Refresh","StateChanged","UploadComplete","UploadFile","UploadProgress"];
$.each(e,function(a,b){self.plupload.bind(b,function(){self.eventHandler(b,$.makeArray(arguments))})}),$.IE||"html5"!=self.plupload.runtime||base.addClass("can-drop-file"),base.addClass("can-upload")},"{uploadButton} click":function(a){a[0]!=self.uploadButtonMain[0]&&self.plupload.features.triggerDialog&&self.uploadButtonMain.click()},"{uploadButton} mouseover":function(a){self.plupload.features.triggerDialog||(self.uploadButton().removeAttr("id"),a.attr("id",self.uploadButtonId),self.plupload.refresh())},eventHandler:function(a,b){{var e,c=self["plupload::"+a];
!function(){var b=(self.uploader.data("events")||{})[a];return b?b[0].handler:void 0}()}$.isFunction(c)&&(e=c.apply(self,b)),e!==!1&&self.uploader.trigger(a,e||b)},"plupload::FileUploaded":function(up,file,data,handler){var response;try{response=eval("("+data.response+")")}catch(e){response={type:"error",message:"Unable to parse server response.",data:data}}return"error"==response.type?(self.uploader.trigger("FileError",[up,file,response]),!1):[up,file,response]},"plupload::Error":function(a,b){try{console.log("plupload Error: ",a,b)
}catch(c){}}}})};exports(),module.resolveWith(exports)};FD40.module("plupload",moduleFactory)}(),function(){var a=function(a){var b=this;a.require().script("ui/position").done(function(){var c=function(){a.fn.popbox=function(c){if(a.isPlainObject(c))return this.each(function(){var d=a(this),e=b.get(d);e?e.update(c):e=new b(d,c)}),this;if(a.isString(c)){var g,d=a(this[0]),e=b.get(d)||new b(d),f=e[c];return a.isFunction(f)&&(g=f.apply(e,a.makeArray(arguments).slice(1))),g||this}return this};var b=function(c,d){var e=this;
c.data("popbox",e),a.isString(d)&&(d={content:d}),d||(d={}),c.parentsUntil("body").addBack().each(function(){var b=a(this);return"fixed"===b.css("position")?(d.fixed=!0,!1):void 0});var f={},g=c.attr("data-popbox")||c.find("[data-popbox-content]").html()||a(c.attr("data-popbox-target")).html();g&&(f.content=g),a(["id","component","type","toggle","position","collision"]).each(function(a,b){var d=c.attr("data-popbox-"+b);"rtl"==window.es.direction&&d&&(-1!==d.indexOf("left")?d=d.replace("left","right"):-1!==d.indexOf("right")&&(d=d.replace("right","left"))),f[b]=d
}),void 0!==c.attr("data-popbox-offset")&&(f.offset=parseInt(c.attr("data-popbox-offset"))),void 0===g&&c.attr("data-popbox",""),e.update(a.extend(!0,{},b.defaultOptions,{tooltip:a(),loader:a('<div id="es" class="popbox loading" data-popbox-tooltip><div class="arrow"></div><div class="o-loader o-loader--sm o-loader--top is-active"></div></div>'),uid:a.uid(),button:c},f,d))};b.defaultOptions={content:"",id:null,type:"",enabled:!1,wait:!1,locked:!1,exclusive:!1,hideTimer:null,hideDelay:50,toggle:"hover",position:"bottom",collision:"flip",cache:!0,fixed:!1,offset:10},b.get=function(c){var d=a(c).data("popbox");
return d instanceof b?d:void 0},b.toggleEvent=navigator.userAgent.match(/iPhone|iPad|iPod/i)&&"development"!=window.es.environment?"touchstart":"click",a.extend(b.prototype,{positions:"top top-left top-right top-center bottom bottom-left bottom-right bottom-center left left-top left-bottom left-center right right-top right-bottom right-center",update:function(b){var c=this;if(a.extend(!0,c,b),a.isModule(c.content))return c.wait=!0,a.module(c.content).done(function(b){a.isPlainObject(b)&&c.update(b),a.isFunction(b)&&c.update({content:b})
}).fail(function(){c.update({content:"Unable to load tooltip content."})}).always(function(){c.wait=!1}),void 0;a.isString(c.content)&&(c.content=a.Deferred().resolve(c.content));var d=c.position;if(a.isString(d)){var f,g,h,i,e=d.split("-");switch(e[0]){case"top":case"bottom":f=h=e[1]||"center",g="top"==e[0]?"bottom":"top",i="top"==e[0]?"top":"bottom";break;case"left":case"right":g=i=e[1]||"center",f="left"==e[0]?"right":"left",h="left"==e[0]?"left":"right"}c.position={classname:d,my:f+" "+g,at:h+" "+i,using:function(b,d){var f=a(this),g=c.position.classname,h=b.top,i=b.left,j=c.offset,k=c.button.offset();
switch(e[0]){case"top":case"bottom":var l=d.vertical;l==e[0]&&(g=g.replace(/top|bottom/gi,"top"==l?"bottom":"top")),h="top"==l?h+j:h-j,"left"==e[1]&&i<Math.floor(k.left)&&(g=g.replace(/left|right/gi,"left"==e[1]?"right":"left"));break;case"left":case"right":var m=d.horizontal;d.horizontal==e[0]&&(g=g.replace(/left|right/gi,"left"==d.horizontal?"right":"left")),i="left"==m?i+j:i-j}"rtl"==window.es.direction&&(-1!==g.indexOf("left")?g=g.replace("left","right"):-1!==g.indexOf("right")&&(g=g.replace("right","left"))),f.css({top:h+"px",left:i+"px"}).removeClass(c.positions).addClass(g)
}}}a.extend(c.position,{of:c.button,collision:c.collision}),c.loader.attr({id:c.id,"data-popbox-tooltip":c.type,style:c.fixed?"position: fixed":""}).addClass(c.component).addClass("popbox-"+c.type),c.enabled&&c.show()},trigger:function(a,b){this.tooltip.trigger(a,b),this.button.trigger(a,b)},show:function(){var c=this;if(c.enabled=!0,!c.wait){if(clearTimeout(c.hideTimer),c.exclusive&&a("[data-popbox-tooltip]").each(function(){var c=b.get(a(this));c&&c.hide(!0)}),c.button.addClass("active"),"click"==c.toggle){var d=a(document),e=b.toggleEvent+".popbox."+c.uid;
d.off(e).on(e,function(b){var f=a(b.target).parents().andSelf();f.filter(c.button).length>0||f.filter(c.tooltip).length>0||(d.off(e),c.hide())})}var f=a(window),g="resize.popbox"+c.uid;if(f.off(g).on(g,function(){c.tooltip.length>0&&c.tooltip.position(c.position)}),c.tooltip.length>0)return c.tooltip.appendTo("body").position(c.position),c.trigger("popboxActivate",[c]),void 0;if(a.isFunction(c.content)){var h=c.content(c);if(c.update(h),c.wait)return}a.isDeferred(c.content)&&("pending"==c.content.state()&&(c.loader.appendTo("body").position(c.position),c.trigger("popboxLoading",[c])),c.content.always(function(){c.wait=!1
}).done(function(b){if(!(c.tooltip.length>0)&&c.enabled){c.loader.detach();var d=a.buildHTML(b);if(d.filter("[data-popbox-tooltip]").length<1){var e=d;d=a('<div id="es" class="es popbox" data-popbox-tooltip><div class="arrow"></div><div class="popbox-content" data-popbox-content></div></div>').attr({id:c.id,"data-popbox-tooltip":c.type,style:c.fixed?"position: fixed":""}).addClass(c.component).addClass("popbox-"+c.type).appendTo("body"),d.find("[data-popbox-content]").append(e)}else d=d.appendTo("body").filter("[data-popbox-tooltip]");
c.tooltip=d.data("popbox",c).position(c.position),c.tooltip.find("label").on("click",function(b){b.preventDefault(),b.stopPropagation();var d=c.tooltip.find("#"+a(this).attr("for"));d.length>0&&(d.is(":checkbox")?d.click():d.focus())}),c.trigger("popboxActivate",[c])}}).fail(function(){c.update({content:"Unable to load tooltip content."})}))}},hide:function(b){var c=this;c.enabled=!1,clearTimeout(c.hideTimer),c.loader.detach();var d=function(){(!c.locked||b)&&(c.tooltip.detach(),a(window).off("resize.popbox"+c.uid),c.trigger("popboxDeactivate",[c]),c.cache||c.destroy())
};c.button.removeClass("active");var e=c.hideDelay;b&&(e=0),c.hideTimer=setTimeout(d,e)},destroy:function(){this.button.removeData("popbox")},widget:function(){return this}}),a(document).on(b.toggleEvent+".popbox","[data-popbox]",function(){var b=a(this).popbox("widget");"hover"!=b.toggle&&(b.enabled?b.hide():b.show())}).on("mouseover.popbox","[data-popbox]",function(){var b=a(this).popbox("widget");"hover"!=b.toggle||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||b.show()
}).on("mouseout.popbox","[data-popbox]",function(){var b=a(this).popbox("widget");"hover"==b.toggle&&b.hide()}).on("mouseover.popbox.tooltip","[data-popbox-tooltip]",function(){var a=b.get(this);a&&"hover"===a.toggle&&(a.locked=!0,clearTimeout(a.hideTimer))}).on("mouseout.popbox.tooltip","[data-popbox-tooltip]",function(){var a=b.get(this);a&&"hover"===a.toggle&&(a.locked=!1,a.hide())}).on("click.popbox.close","[data-popbox-close]",function(){var c=b.get(a(this).parents("[data-popbox-tooltip]"));c&&c.hide()})
};c(),b.resolveWith(c)})};FD40.module("popbox",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a){function c(a){return"object"==typeof a?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},b.window=function(){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);
if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},b.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over),this._scrollable().each(function(){function m(a){h.animate(k,e,f.easing,a&&function(){a.call(this,d,f)
})}if(null!=d){var j,g=this,h=a(g),i=d,k={},l=h.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}if(i=a(i,this),!i.length)return;case"object":(i.is||i.style)&&(j=(i=a(i)).offset())}a.each(f.axis.split(""),function(a,c){var d="x"==c?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=g[n],p=b.max(g,c);if(j)k[n]=j[e]+(l?0:o-h.offset()[e]),f.margin&&(k[n]-=parseInt(i.css("margin"+d))||0,k[n]-=parseInt(i.css("border"+d+"Width"))||0),k[n]+=f.offset[e]||0,f.over[e]&&(k[n]+=i["x"==c?"width":"height"]()*f.over[e]);
else{var q=i[e];k[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(k[n])&&(k[n]=k[n]<=0?0:Math.min(k[n],p)),!a&&f.queue&&(o!=k[n]&&m(f.onAfterFirst),delete k[n])}),m(f.onAfter)}}).end()},a.fn.scrollIntoView=function(b){var b=a(b);if(!(b.length<1)){var c=this.offset(),d=this.height(),e=c.top,f=e+d,g=b.offset(),h=b.height(),i=g.top,j=i+h;return j>f?this.scrollTo(b):e>i?this.scrollTo(b,{offset:-1*(d-h)}):void 0}},b.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();
var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(c)};d(),b.resolveWith(d)};FD40.module("scrollTo",a)}(),function(){var a=function(a){var b=this;a.require().script("autosize.input","scrollTo","ui/position").done(function(){var c=function(){var b={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38};a.template("textboxlist/item",'<div class="textboxlist-item[%== (this.locked) ? " is-locked" : "" %]" data-textboxlist-item><span class="textboxlist-itemContent" data-textboxlist-itemContent>[%== html %]</span><div class="textboxlist-itemRemoveButton" data-textboxlist-itemRemoveButton><i class="fa fa-times"></i></a></div>'),a.template("textboxlist/itemContent",'[%= title %]<input type="hidden" name="[%= name %]" value="[%= id %]"/>'),a.Controller("Textboxlist",{pluginName:"textboxlist",hostname:"textboxlist",defaultOptions:{view:{item:"textboxlist/item",itemContent:"textboxlist/itemContent"},plugin:{},name:"items[]",unique:!0,caseSensitive:!1,max:null,ignoreLocked:!1,filterItem:null,"{item}":"[data-textboxlist-item]","{itemContent}":"[data-textboxlist-itemContent]","{itemRemoveButton}":"[data-textboxlist-itemRemoveButton]","{textField}":"[data-textboxlist-textField]"}},function(c){return{init:function(){var d=c.textField();
d.autosizeInput(),d.data("placeholderText",d.attr("placeholder"));var e=d.data("textboxlistName");e&&(c.options.name=e),c.item().each(function(){var b=a(this),d=b.find(c.itemContent.selector);c.createItem({id:b.data("id")||function(){var c=a.uid("item-");return b.data("id",c),c}(),title:b.data("title")||a.trim(d.text()),locked:b.hasClass("is-locked"),html:d.html()})}),(c.options.plugin.autocomplete||c.element.data("query"))&&c.addPlugin("autocomplete"),c.on("keypress",c.textField(),function(a){return a.keyCode==b.ENTER?a.preventDefault():void 0
})},setLayout:function(){var a=c.textField(),b=a.data("placeholderText");c.item().length>0&&(b=""),a.attr("placeholder",b).data("autosizeInputInstance").update()},enable:function(){c.element.removeClass("disabled"),c.textField().enabled(!0)},disable:function(){c.element.addClass("disabled"),c.textField().disabled(!0)},items:{},itemsByTitle:{},get:function(a){var b=c.getItemKey(a);return c.itemsByTitle.hasOwnProperty(b)?c.itemsByTitle[b]:void 0},getItemKey:function(a){return c.options.caseSensitive?a:a.toLowerCase()
},filterItem:function(b){var d=c.options,e=d.filterItem;a.isFunction(e)&&(b=e.call(c,b));var f=c.itemsByTitle;if(a.isString(b)&&""!==b){var g=b,h=c.getItemKey(g);b=f.hasOwnProperty(h)?c.itemsByTitle[h]:{id:a.uid("item-"),title:g,key:c.getItemKey(g),locked:!1}}return b.name=b.name||c.options.name,b.html=b.html||c.view.itemContent(!0,b),b},createItem:function(a){a.key=c.getItemKey(a.title),c.items[a.id]=a,c.itemsByTitle[a.key]=a},deleteItem:function(a){var b=c.items[a];c.item().filterBy("id",a).remove(),delete c.items[a];
var d=c.options.caseSensitive?b.title:b.title.toLowerCase();delete c.itemsByTitle[d]},addItem:function(b,d){if(b){var e=c.options,f=e.max;if((d||null===f||!((e.ignoreLocked?c.item(":not(.is-locked)"):c.item()).length>=f))&&(b=c.filterItem(b),a.isPlainObject(b))){var g,h=c.item().filterBy("id",b.id);if(e.unique&&h.length>0&&(g=h),g||(g=c.view.item(b).addClass(b.className||"").attr("data-id",b.id)),c.createItem(b),b.locked){var i=c.item(".is-locked:last");i.length>0?g.insertAfter(i):g.prependTo(c.element)}else g.insertBefore(c.textField());
return c.trigger("addItem",[b]),c.trigger("listChange"),b}}},removeItem:function(a){var b=c.items[a];c.deleteItem(a),c.trigger("removeItem",[b]),c.trigger("listChange")},clearItems:function(){c.item().each(function(){c.removeItem(a(this).data("id"))})},getAddedItems:function(){var b=[];return c.item().each(function(){var d=a(this),e=d.data("id");b.push(c.items[e])}),b},"{self} addItem":function(){c.setLayout()},"{self} removeItem":function(){c.setLayout()},"{itemRemoveButton} click":function(a){var b=a.parents(c.item.selector);
c.removeItem(b.data("id"))},"{textField} keydown":function(a,c){var d=c.keyCode;a.data("realEnterKey",d==b.ENTER)},"{textField} keypress":function(d,e){var f=d.data("realEnterKey"),g=e.keyCode==b.ENTER;d.data("realEnterKey",f&&g);var h=a.trim(c.textField().val());switch(e.keyCode){case b.ENTER:if(d.data("realEnterKey")){var e=c.trigger("useItem",[h]),i=e.item;if(void 0===i&&(i=h),i===!1||null===i)return;c.addItem(i),d.val("")}}},"{textField} keyup":function(d,e){var f=a.trim(c.textField().val()),g="canRemoveItemUsingBackspace";
switch(e.keyCode){case b.BACKSPACE:if(""===f)if(c[g]){var h=d.prev(c.item.selector);if(h.length>0){var i=h.data("id"),f=c.items[i];!f.locked&&c.removeItem(i)}}else c[g]=!0;break;default:c[g]=!1}},"{self} click":function(a,b){var d=c.textField();d.is(b.target)||d.focus()},"{textField} focusin":function(){c.activated||(c.activated=!0,c.trigger("textboxlistActivate"))},"{self} mousedown":function(){c.focusing=!0},"{self} mouseup":function(){c.focusing=!1},"{self} focusout":function(){c.focusing||(c.activated=!1,c.deactivateTimer=setTimeout(function(){c.activated||c.trigger("textboxlistDeactivate")
},1))}}}),a(document).on("click.textboxlist.data-api","[data-textboxlist]",function(){a(this).addController(a.Controller.Textboxlist).textField().focus()}).on("focus.textboxlist.data-api","[data-textboxlist] [data-textboxlist-textField]",function(){a(this).parents("[data-textboxlist]").addController(a.Controller.Textboxlist)}),a.template("textboxlist/menu",'<div id="es" class="textboxlist-autocomplete" data-textboxlist-autocomplete><b><b></b></b><div class="textboxlist-autocomplete-inner" data-textboxlist-autocomplete-viewport><div class="textboxlist-autocomplete-loading" data-textboxlist-autocomplete-loading></div><div class="textboxlist-autocomplete-empty" data-textboxlist-autocomplete-empty></div><ul class="textboxlist-menu" data-textboxlist-menu></ul></div></div>'),a.template("textboxlist/menuItem",'<li class="textboxlist-menuItem" data-textboxlist-menuItem>[%== html %]</li>'),a.template("textboxlist/loadingHint",'<i class="o-loader o-loader--sm is-active"></i>'),a.template("textboxlist/emptyHint",'<span class="textboxlist-autocomplete-empty-text">No items found.</span>'),a.Controller("Textboxlist.Autocomplete",{defaultOptions:{view:{menu:"textboxlist/menu",menuItem:"textboxlist/menuItem",loadingHint:"textboxlist/loadingHint",emptyHint:"textboxlist/emptyHint"},cache:!0,minLength:1,limit:10,highlight:!0,caseSensitive:!1,exclusive:!1,query:null,position:{my:"left top",at:"left bottom",collision:"none"},filterItem:null,showEmptyHint:!1,showLoadingHint:!1,id:"es",component:"",modifier:"",shadow:!1,sticky:!1,animation:!1,"{menu}":"[data-textboxlist-menu]","{menuItem}":"[data-textboxlist-menuItem]","{viewport}":"[data-textboxlist-autocomplete-viewport]","{loadingHint}":"[data-textboxlist-autocomplete-loading]","{emptyHint}":"[data-textboxlist-autocomplete-empty]"}},function(c,d){return{init:function(){if(!c.element.data(c.Class.fullName))return c.destroy(),c.view.menu().attr("id",d.id).addClass(d.component).addClass(d.modifier).addClass(d.shadow?"has-shadow":"").addClass(d.animation?"has-animation":"").addClass(d.sticky?"is-sticky":"").addClass(c.textboxlist.options.component).appendTo("body").data(c.Class.fullName,!0).addController(c.Class,c.options),void 0;
var a=c.textboxlist;a.autocomplete=c,a.pluginInstances.autocomplete=c,c.options.position.of=c.textboxlist.element,c.initQuery(),c.view.loadingHint().appendTo(c.loadingHint()),c.view.emptyHint().appendTo(c.emptyHint()),c.element.detach()},initQuery:function(){var b=c.options.query||c.textboxlist.element.data("query");if(a.isUrl(b)){var d=b;return c.query=function(b){return a.ajax(d+b)},void 0}if(a.isFunction(b)){var e=b;return c.query=function(a){return e.call(c,a)},void 0}if(a.isArray(b)){var f=b;return c.query=function(b){var c=a.Deferred(),b=b.toLowerCase();
return setTimeout(function(){var d=a.grep(f,function(a){return a.title.toLowerCase().indexOf(b)>-1});c.resolve(d)},0),c},void 0}},setLayout:function(){c.hidden||c.element.css({opacity:1,width:c.textboxlist.element.outerWidth()}).position(c.options.position)},"{window} resize":a.debounce(function(){c.element.css("opacity",0),c.setLayout()},250),"{window} scroll":a.debounce(function(){c.element.css("opacity",0),c.setLayout()},250),"{window} dialogTransitionStart":function(){c.hidden=!0,c.element.css("opacity",0)
},"{window} dialogTransitionEnd":function(){c.hidden=!1,c.setLayout()},show:function(){clearTimeout(c.sleep),c.element.appendTo("body").show(),c.hidden=!1,c.setLayout()},hide:function(){c.element.hide();var b=c.menuItem(),d=b.filter(".active");d.length>0&&(c.lastItem={keyword:a.trim(c.textboxlist.textField().val()),item:d.data("item")}),b.removeClass("active"),c.render.reset(),c.hidden=!0,clearTimeout(c.sleep),c.sleep=setTimeout(function(){c.element.detach()},3e3)},queries:{},populated:!1,populate:function(b){c.populated=!1;
var d=c.element,e=c.options;d.removeClass("loading empty"),e.showLoadingHint&&c.hide();var f=c.trigger("populateKeyword",[b]);f.keyword&&(b=f.keyword);var g=e.caseSensitive?b:b.toLowerCase(),h=c.queries[g],i=!a.isDeferred(h)||!c.options.cache,j=function(){e.showLoadingHint&&(d.addClass("loading"),c.show()),(i||!i&&"rejected"==h.state())&&(h=c.queries[g]=c.query(b)),h.done(c.render(function(a){return[a,b]})).fail(function(){c.hide()}).always(function(){d.removeClass("loading")}),c.trigger("queryKeyword",[h,b])
};i?(clearTimeout(c.queryTask),c.queryTask=setTimeout(j,250)):j()},populateTask:null,populateFromTextField:function(){clearTimeout(c.populateTask),c.populateTask=setTimeout(function(){var b=c.textboxlist.textField(),d=a.trim(b.val());""===d||d.length<c.options.minLength?c.hide():c.populate(d)},1)},render:a.Enqueue(function(b,d){a.isArray(b)||(b=[]);var e=c.textboxlist,f=c,g=c.element,h=c.options,i=c.menu();if(b.length<1)return h.showEmptyHint?(i.empty(),g.addClass("empty"),e.trigger("renderMenu",[i,f,e]),c.show()):c.hide(),void 0;
g.removeClass("empty"),h.cache&&i.data("keyword")===d||(i.empty(),a.each(b,function(b,g){if(!a.isPlainObject(g))var g={html:g};e.trigger("filterItem",[g,f,e]);var j=h.filterItem;if(a.isFunction(j)&&(g=j.call(c,g,d)),!a.isPlainObject(g)||g.discard)return console.log("discarding?"),void 0;var k=g.menuHtml||g.title;c.view.menuItem({html:k}).addClass(g.className||"").data("item",g).appendTo(i)}),i.data("keyword",d));var j=c.menuItem();return e.trigger("filterMenu",[i,j,f,e]),j.filter(":not(.hidden)").length<1&&(g.addClass("empty"),!h.showEmptyHint)?c.hide():(h.exclusive&&c.menuItem(":not(.hidden):first").addClass("active"),e.trigger("renderMenu",[i,f,e]),c.show(),void 0)
}),"{textboxlist.textField} keydown":function(a,d){clearTimeout(c.sleep);var e=c.menuItem(".active:not(.hidden)");e.length<1&&(e=!1);c.textboxlist.textField();switch(d.keyCode){case b.UP:c.menuItem().removeClass("active"),e?e.prev(c.menuItem.selector+":not(.hidden)").addClass("active"):c.menuItem(":not(.hidden):last").addClass("active"),d.preventDefault();break;case b.DOWN:c.menuItem().removeClass("active"),e?e.next(c.menuItem.selector+":not(.hidden)").addClass("active"):c.menuItem(":not(.hidden):first").addClass("active"),d.preventDefault();
break;case b.ESCAPE:c.hide();break;case b.ENTER:break;default:c.populateFromTextField()}var e=c.menuItem(".active:not(.hidden)");e.length<1||c.viewport().scrollIntoView(e)},"{textboxlist} textboxlistActivate":function(){c.populateFromTextField()},"{textboxlist} textboxlistDeactivate":function(){setTimeout(function(){c.hide()},150)},"{textboxlist} destroyed":function(){c.element.remove()},"{textboxlist} useItem":function(a,b,d){var e=c.options.exclusive;if(e&&(b.item=!1),c.hidden){var f=c.lastItem;return e&&f&&f.keyword==d&&(b.item=f.item),void 0
}var g=c.menuItem(".active");if(g.length>0){var h=g.data("item");b.item=h}c.hide()},"{menuItem} mousedown":function(){c.textboxlist.focusing=!0},"{menuItem} mouseup":function(){c.textboxlist.focusing=!1},"{menuItem} click":function(a){c.hide();var b=a.data("item");c.textboxlist.addItem(b);var d=c.textboxlist.textField().val("");setTimeout(function(){d.focus()},150)},"{menuItem} mouseover":function(a){c.menuItem().removeClass("active"),a.addClass("active")},"{menuItem} mouseout":function(){c.menuItem().removeClass("active")
}}})};c(),b.resolveWith(c)})};FD40.module("textboxlist",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){function e(b,c){var d,e,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(g=a("img[usemap=#"+e+"]")[0],!!g&&f(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&f(b)}function f(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")
}).length}var c=0,d=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4pre",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)
}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b
},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var e,f,d=a(this[0]);d.length&&d[0]!==document;){if(e=d.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&0!==f))return f;d=d.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)
}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),d=isNaN(c);return(d||c>=0)&&e(b,!d)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===d?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};
a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)
}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])
},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}}),a(function(){a("body > [id=es].ui").length>0||a(document.createElement("div")).attr("id","es").addClass("ui").css({position:"absolute",top:0,left:0,overflow:"visible",width:0,height:0,zIndex:10002}).appendTo("body")
})}(c)};d(),b.resolveWith(d)};FD40.module("ui/core",a)}(),function(){var a=function(a){var b=this,c=a;a.require().script("ui/widget").done(function(){var a=function(){!function(a){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.4pre",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a,c){return b._mouseDown(c||a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0
}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0
},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0)):!0
}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1
},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(c)};a(),b.resolveWith(a)})};FD40.module("ui/mouse",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){function m(a,b,c){return[parseFloat(a[0])*(k.test(a[0])?b/100:1),parseFloat(a[1])*(k.test(a[1])?c/100:1)]
}function n(b,c){return parseInt(a.css(b,c),10)||0}function o(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+(\.[\d]+)?%?/,j=/^\w+/,k=/%$/,l=a.fn.position;
a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;
return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};
return s=o(t),t[0].preventDefault&&(b.at="left top"),k=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var c,d,a=(b[this]||"").split(" ");1===a.length&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),x[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=k:"center"===b.at[0]&&(r.left+=k/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),c=m(x.at,k,p),r.left+=c[0],r.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),o=n(this,"marginLeft"),s=n(this,"marginTop"),y=j+o+n(this,"marginRight")+v.width,z=l+s+n(this,"marginBottom")+v.height,A=a.extend({},r),B=m(x.my,i.outerWidth(),i.outerHeight());
"right"===b.my[0]?A.left-=j:"center"===b.my[0]&&(A.left-=j/2),"bottom"===b.my[1]?A.top-=l:"center"===b.my[1]&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:o,marginTop:s},a.each(["left","top"],function(d,e){a.ui.position[w[d]]&&a.ui.position[w[d]][e](A,{targetWidth:k,targetHeight:p,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:u,elem:i})}),b.using&&(h=function(a){var c=q.left-A.left,f=c+k-j,g=q.top-A.top,h=g+p-l,m={target:{element:t,left:q.left,top:q.top,width:k,height:p},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:0>f?"left":c>0?"right":"center",vertical:0>h?"top":g>0?"bottom":"middle"};
j>k&&e(c+f)<k&&(m.horizontal="center"),l>p&&e(g+h)<p&&(m.vertical="middle"),m.important=d(e(c),e(f))>d(e(g),e(h))?"horizontal":"vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var j,c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e;b.collisionWidth>f?h>0&&0>=i?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):a.left=i>0&&0>=h?e:h>i?e+f-b.collisionWidth:e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)
},top:function(a,b){var j,c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e;b.collisionHeight>f?h>0&&0>=i?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):a.top=i>0&&0>=h?e:h>i?e+f-b.collisionHeight:e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){var n,o,c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];
0>i?(n=a.left+k+l+m+b.collisionWidth-f-d,(0>n||n<e(i))&&(a.left+=k+l+m)):j>0&&(o=a.left-b.collisionPosition.marginLeft+k+l+m-g,(o>0||e(o)<j)&&(a.left+=k+l+m))},top:function(a,b){var o,p,c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k="top"===b.my[1],l=k?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];0>i?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(0>p||p<e(i))&&(a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(a.top+=l+m+n))
}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];
b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(c)};d(),b.resolveWith(d)};FD40.module("ui/position",a)}(),function(){var a=function(a){var b=this,c=a;a.require().script("ui/core","ui/mouse","ui/widget").done(function(){var a=function(){!function(a){function c(a){return parseInt(a,10)||0}function d(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4pre",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;
if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);
this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length
},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())
})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this
},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=c(this.helper.css("left")),e=c(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",b),!0
},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];return n?(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1
},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1
},_updateVirtualBoundaries:function(a){var b,c,e,f,g,h=this.options;g={minWidth:d(h.minWidth)?h.minWidth:0,maxWidth:d(h.maxWidth)?h.maxWidth:1/0,minHeight:d(h.minHeight)?h.minHeight:0,maxHeight:d(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,c=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),c<g.maxWidth&&(g.maxWidth=c),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g
},_updateCache:function(a){this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,e=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a
},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,e=d(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=d(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=d(a.width)&&b.minWidth&&b.minWidth>a.width,h=d(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(c),l=/nw|ne|n/.test(c);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a
},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;b<c.length;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);
e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element
},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))
},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}
}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};
e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=c(b.css("padding"+e))
}),j.containerOffset=b.offset(),j.containerPosition=b.position(),j.containerSize={height:b.innerHeight()-d[3],width:b.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;
m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=g.parentData.left),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))
},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);
b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];
a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)
},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&c.maxWidth<m,p=c.maxHeight&&c.maxHeight<n,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;
c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(b.size.width=m,b.size.height=n,b.position.top=f.top-l,b.position.left=f.left-k)}})}(c)};a(),b.resolveWith(a)})};FD40.module("ui/resizable",a)}(),function(){var a=function(a){var b=this,c=a;a.require().script("ui/core","ui/mouse","ui/widget").done(function(){var a=function(){!function(a){var c=5;
a.widget("ui.slider",a.ui.mouse,{version:"1.10.4pre",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)
})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):this.range=a([])
},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));
(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))
},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;
return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)
},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};
this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()
},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b),void 0;if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();
break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);
if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};
this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c
}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))
},_handleEvents:{keydown:function(b){var d,e,f,g,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),d=this._start(b,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),b.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();
break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(b,h,f)},click:function(a){a.preventDefault()
},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(c)};a(),b.resolveWith(a)})};FD40.module("ui/slider",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var d,c=0;null!=(d=b[c]);c++)try{a(d).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];
b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)
};return function(){var f,b=this._super,c=this._superApply;return this._super=a,this._superApply=e,f=d.apply(this,arguments),this._super=b,this._superApply=c,f}}(),void 0):(i[b]=d,void 0)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)
},a.widget.extend=function(c){for(var h,i,e=d.call(arguments,1),f=0,g=e.length;g>f;f++)for(h in e[f])i=e[f][h],e[f].hasOwnProperty(h)&&i!==b&&(c[h]=a.isPlainObject(i)?a.isPlainObject(c[h])?a.widget.extend({},c[h],i):a.widget.extend({},i):i);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")
}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()
}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")
},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var f,g,h,e=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(e={},f=c.split("."),c=f.shift(),f.length){for(g=e[c]=a.widget.extend({},this.options[c]),h=0;h<f.length-1;h++)g[f[h]]=g[f[h]]||{},g=g[f[h]];if(c=f.pop(),d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}return this._setOptions(e),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);
return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0
}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")
},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);
return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()
})}})}(c)};d(),b.resolveWith(d)};FD40.module("ui/widget",a)}()}),FD40.installer("EasySocial","definitions",function(a){a.module(["easysocial/apps/fields/event/description/content","easysocial/apps/fields/event/permalink/content","easysocial/apps/fields/event/permalink/sample_content","easysocial/apps/fields/event/recurring/content","easysocial/apps/fields/event/startend/content","easysocial/apps/fields/event/startend/display","easysocial/apps/fields/group/description/content","easysocial/apps/fields/group/permalink/content","easysocial/apps/fields/group/permalink/sample_content","easysocial/apps/fields/page/description/content","easysocial/apps/fields/page/permalink/content","easysocial/apps/fields/page/permalink/sample_content","easysocial/apps/fields/user/address/content","easysocial/apps/fields/user/address/display_content","easysocial/apps/fields/user/address/maps","easysocial/apps/fields/user/autocomplete/content","easysocial/apps/fields/user/avatar/content","easysocial/apps/fields/user/avatar/sample_content","easysocial/apps/fields/user/checkbox/content","easysocial/apps/fields/user/checkbox/sample_content","easysocial/apps/fields/user/country/content","easysocial/apps/fields/user/country/sample_content","easysocial/apps/fields/user/cover/content","easysocial/apps/fields/user/currency/sample_content","easysocial/apps/fields/user/datetime/content","easysocial/apps/fields/user/datetime/display_content","easysocial/apps/fields/user/datetime/dropdown","easysocial/apps/fields/user/datetime/sample_content","easysocial/apps/fields/user/dropdown/content","easysocial/apps/fields/user/email/content","easysocial/apps/fields/user/file/content","easysocial/apps/fields/user/file/sample_content","easysocial/apps/fields/user/gender/content","easysocial/apps/fields/user/joomla_email/content","easysocial/apps/fields/user/joomla_email/registermini_content","easysocial/apps/fields/user/joomla_email/sample_content","easysocial/apps/fields/user/joomla_fullname/content","easysocial/apps/fields/user/joomla_fullname/sample_content","easysocial/apps/fields/user/joomla_password/content","easysocial/apps/fields/user/joomla_password/registermini_content","easysocial/apps/fields/user/joomla_password/sample_content","easysocial/apps/fields/user/joomla_timezone/content","easysocial/apps/fields/user/joomla_username/content","easysocial/apps/fields/user/joomla_username/registermini_content","easysocial/apps/fields/user/joomla_username/sample_content","easysocial/apps/fields/user/keycaptcha/content","easysocial/apps/fields/user/keycaptcha/registermini_content","easysocial/apps/fields/user/multidropdown/content","easysocial/apps/fields/user/multilist/content","easysocial/apps/fields/user/multitextbox/content","easysocial/apps/fields/user/password/content","easysocial/apps/fields/user/password/sample_content","easysocial/apps/fields/user/permalink/content","easysocial/apps/fields/user/permalink/sample_content","easysocial/apps/fields/user/relationship/content","easysocial/apps/fields/user/separator/sample","easysocial/apps/fields/user/terms/content","easysocial/apps/fields/user/textarea/content","easysocial/apps/fields/user/textbox/content","easysocial/apps/fields/user/textbox/sample_content","easysocial/apps/fields/user/url/content","easysocial/apps/fields/user/url/sample_content","easysocial/shared/elements","easysocial/shared/fields/base","easysocial/shared/fields/validate","easysocial/shared/popdown","easysocial/shared/privacy","easysocial/shared/responsive","easysocial/uploader/item","easysocial/uploader/queue","easysocial/uploader/uploader","easysocial/admin/admin","easysocial/admin/api/tabs","easysocial/admin/apps/store","easysocial/admin/clusters/suggest","easysocial/admin/clusters/users","easysocial/admin/discovery/discovery","easysocial/admin/events/approveRecurring","easysocial/admin/events/events","easysocial/admin/events/store","easysocial/admin/events/users","easysocial/admin/fields/browser","easysocial/admin/fields/config","easysocial/admin/fields/editor","easysocial/admin/fields/steps","easysocial/admin/grid/grid","easysocial/admin/grid/ordering","easysocial/admin/grid/publishing","easysocial/admin/grid/sort","easysocial/admin/groups/groups","easysocial/admin/maintenance/database","easysocial/admin/maintenance/maintenance","easysocial/admin/migrators/migrator","easysocial/admin/pages/pages","easysocial/admin/profiles/avatar","easysocial/admin/profiles/form","easysocial/admin/progress/progress","easysocial/admin/regions/form","easysocial/admin/regions/init","easysocial/admin/users/form","easysocial/admin/users/privacy","easysocial/admin/users/users","easysocial/admin/utilities/alias","easysocial/admin/vendors/drag","easysocial/admin/vendors/mousewheel","easysocial/admin/vendors/raty","easysocial/admin/vendors/resize","easysocial/admin/vendors/uniform"])
}),FD40.installer("EasySocial","scripts",function(){EasySocial.module("apps/fields/event/description/content",function(a){var b=this;EasySocial.Controller("Field.Event.Description",{defaultOptions:{required:!1,editor:null,"{input}":"[data-field-description]"}},function(b,c){return{init:function(){b.editor=b.options.editor},"{self} onRender":function(){var a=b.input().htmlData();c.error=a.error||{}},"{input} keyup":function(){b.validateInput()},"{input} blur":function(){b.validateInput()},validateInput:function(){b.clearError();
var d=b.editor.getContent();return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onError":function(a,d,e){"required"===e&&b.raiseError(c.error.required)},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/event/permalink/content",function(a){var b=this;EasySocial.Controller("Field.Event.Permalink",{defaultOptions:{required:!1,max:0,id:null,clusterid:null,userid:null,"{field}":"[data-field-permalink]","{checkButton}":"[data-permalink-check]","{input}":"[data-permalink-input]","{available}":"[data-permalink-available]"}},function(b,c){return{state:!1,init:function(){c.max=b.field().data("max")
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{checkButton} click":function(){b.delayedCheck()},"{input} keyup":function(){b.delayedCheck()},delayedCheck:a.debounce(function(){b.checkPermalink()},250),checkPermalink:function(){b.clearError();var d=b.input().val();if(b.available().hide(),b.options.max>0&&d.length>b.options.max)return b.raiseError(c.error.max),!1;if(!a.isEmpty(d)){b.checkButton().addClass("is-loading");var e=a.Deferred();return EasySocial.ajax("fields/event/permalink/isValid",{id:b.options.id,clusterid:b.options.clusterid,permalink:d}).done(function(){b.clearError(),b.checkButton().removeClass("is-loading"),b.available().show(),e.resolve()
}).fail(function(a){b.raiseError(a),b.checkButton().removeClass("is-loading"),b.available().hide(),e.reject()}),e}return b.options.required&&a.isEmpty(d)?(b.available().hide(),b.raiseError(c.error.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.checkPermalink())}}}),b.resolve()}),EasySocial.module("apps/fields/event/permalink/sample_content",function(){var b=this;EasySocial.Controller("Field.Permalink.Sample",{defaultOptions:{"{checkPermalink}":"[data-check-permalink]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"check_permalink":a.checkPermalink().toggle(!!e)
}}}}),b.resolve()}),EasySocial.module("apps/fields/event/recurring/content",function(a){var b=this;EasySocial.require().library("datetimepicker").done(function(){EasySocial.Controller("Field.Event.Recurring",{defaultOptions:{id:null,value:{},allday:0,showWarningMessages:0,eventId:null,"{type}":"[data-recurring-type]","{endBlock}":"[data-recurring-end-block]","{picker}":"[data-recurring-end-picker]","{toggle}":"[data-recurring-end-toggle]","{result}":"[data-recurring-end-result]","{dailyBlock}":"[data-recurring-daily-block]","{dailyInput}":"[data-recurring-daily-block] input","{summaryBlock}":"[data-recurring-summary-block]","{showSchedules}":"[data-show-schedules]","{scheduleLoadingBlock}":"[data-recurring-schedule-loading-block]","{deleteRecurringButton}":"[data-recurring-delete]"}},function(b){return{init:function(){b.picker()._datetimepicker({pickTime:!1,component:"es",useCurrent:!1});
var c=b.result().val();if(!a.isEmpty(c)){var d=a.moment(c);b.datetimepicker("setDate",d)}b.calculateRecurringEvents()},changed:0,"{window} easysocial.fields.allday.change":function(a,c,d){b.options.allday=d,b.calculateRecurringEvents()},"{window} easysocial.fields.startend.start.change":function(){b.calculateRecurringEvents()},"{toggle} click":function(){b.picker().focus()},"{picker} dp.change":function(a,c){b.setDateValue(c.date.toDate()),b.detectChanges(),b.calculateRecurringEvents()},"{type} change":function(a){var d=a.val();
b.endBlock()["none"===d?"hide":"show"](),b.dailyBlock()["daily"===d?"show":"hide"](),b.detectChanges(),b.calculateRecurringEvents()},"{dailyInput} change":function(){b.detectChanges(),b.calculateRecurringEvents()},calculateRecurringEvents:function(){b.summaryBlock().hide(),b.clearError();var c=a("[data-event-start]").find("[data-datetime]").val(),d=a("[data-event-timezone]").val(),e=b.result().val(),f=b.type().val(),g=[];("none"!=f||b.options.showWarningMessages)&&(a.isEmpty(c)||a.isEmpty(e)||a.isEmpty(f)||(a.each(b.dailyBlock().find("input"),function(b,c){el=a(c),el.is(":checked")&&g.push(el.val())
}),b.scheduleLoadingBlock().show(),b.getTotalRecurring({start:c,timezone:d,end:e,type:f,daily:g})))},getTotalRecurring:a.debounce(function(a){b.clearError(),EasySocial.ajax("fields/event/recurring/calculateRecurringEvents",{id:b.options.id,start:a.start,timezone:a.timezone,allday:b.options.allday,end:a.end,type:a.type,daily:a.daily,eventId:b.options.eventId,changed:b.changed,showWarningMessages:b.options.showWarningMessages}).done(function(a){b.summaryBlock().html(a).show()}).fail(function(a){b.raiseError(a)
}).always(function(){b.scheduleLoadingBlock().hide()})},500),detectChanges:function(){var c=b.result().val(),d=b.type().val(),e=[],f=!1;a.each(b.dailyBlock().find("input"),function(b,c){el=a(c),el.is(":checked")&&e.push(el.val())}),(d!=b.options.value.type||c!=b.options.value.end||e.length!=b.options.value.daily.length)&&(f=!0),a.each(e,function(c,d){return-1==a.inArray(d,b.options.value.daily)?(f=!0,!1):void 0}),a.each(b.options.value.daily,function(b,c){return-1==a.inArray(c,e)?(f=!0,!1):void 0}),b.changed=f?1:0,a(window).trigger("easysocial.fields.recurring.changed",[f])
},"{showSchedules} click":function(){var e=a("[data-event-start]").find("[data-datetime]").val(),f=a("[data-event-timezone]").val(),g=b.result().val(),h=b.type().val(),i=[];a.each(b.dailyBlock().find("input"),function(b,c){el=a(c),el.is(":checked")&&i.push(el.val())}),EasySocial.dialog({content:EasySocial.ajax("fields/event/recurring/getScheduledEvents",{id:b.options.id,start:e,timezone:f,allday:b.options.allday,end:g,type:h,daily:i,eventId:b.options.eventId})})},"{deleteRecurringButton} click":function(){EasySocial.dialog({content:EasySocial.ajax("site/views/events/deleteRecurringDialog",{id:b.options.eventId}),bindings:{"{submitButton} click":function(){b.deleteRecurring().done(function(){EasySocial.dialog().close(),b.calculateRecurringEvents()
})}}})},deleteRecurring:function(){return EasySocial.ajax("site/controllers/events/deleteRecurring",{eventId:b.options.eventId})},datetimepicker:function(a,c){return b.picker().data("DateTimePicker")[a](c)},setDateValue:function(a){b.result().val(a.getFullYear()+"-"+("00"+(a.getMonth()+1)).slice(-2)+"-"+("00"+a.getDate()).slice(-2)+" "+("00"+a.getHours()).slice(-2)+":"+("00"+a.getMinutes()).slice(-2)+":"+("00"+a.getSeconds()).slice(-2))},"{self} onSubmit":function(a,b,c){c.push(!0)},raiseError:function(a){b.trigger("error",[a])
},clearError:function(){b.trigger("clear")}}}),b.resolve()})}),EasySocial.module("apps/fields/event/startend/content",function(){var b=this,c=EasySocial.options.momentLang;EasySocial.require().library("datetimepicker","moment/"+c,"chosen").done(function(a){EasySocial.Controller("Field.Event.Startend",{defaultOptions:{dateFormat:"",allowTime:!0,allowTimezone:!0,disallowPast:!1,minuteStepping:15,yearfrom:"",yearto:"",requiredEnd:!1,allday:!1,calendarLanguage:"english",dow:0,"{field}":"[data-field-startend]","{startForm}":"[data-event-start]","{endForm}":"[data-event-end]","{timezone}":"[data-event-timezone]"}},function(b,c){return{init:function(){var d=b.field().htmlData();
c.error=d.error||{},b.options.yearto=a.isEmpty(b.options.yearto)?(new Date).getFullYear()+100:parseInt(b.options.yearto)+1,b.options.yearfrom=b.options.yearfrom||1930,b.startDatetime=b.startForm().addController("EasySocial.Controller.Field.Event.Startend.Form",{"{parent}":b,type:"start"}),b.endDatetime=b.endForm().addController("EasySocial.Controller.Field.Event.Startend.Form",{"{parent}":b,type:"end"}),b.timezone().length>0&&b.timezone().chosen({allow_single_deselect:!0,search_contains:!0})},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())
},validateInput:function(){return b.clearError(),a.isEmpty(b.startDatetime.datetime().val())?(b.raiseError(c.error.start.required),!1):b.options.requireEnd&&a.isEmpty(b.endDatetime.datetime().val())?(b.raiseError(c.error.end.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")}}}),EasySocial.Controller("Field.Event.Startend.Form",{defaultOptions:{type:null,"{picker}":"[data-picker]","{toggle}":"[data-picker-toggle]","{datetime}":"[data-datetime]"}},function(b,d){return{init:function(){b.load()
},"{window} easysocial.fields.startend.start.change":function(){"start"==d.type&&b.parent.endDatetime&&(b.parent.endDatetime.datetimepicker("destroy"),b.parent.endDatetime.load())},"{window} easysocial.fields.allday.change":function(a,c,d){b.datetimepicker("destroy"),b.parent.options.allday=1==d?!0:!1,b.load()},load:function(){var e=new a.moment;if(b.parent.options.disallowPast?e.date(e.date()-1):e.year(b.parent.options.yearfrom),"end"==d.type){var f=b.parent.startDatetime.datetime().val();if(f)var e=a.moment(f),e=e.date(e.date()-1)
}var g=b.parent.options.allowTime&&!b.parent.options.allday,h=b.parent.options.dateFormat;g||(h=h.substr(0,10)),b.picker()._datetimepicker({component:"es",useCurrent:!1,format:h,minDate:e,maxDate:new a.moment({y:b.parent.options.yearto}),icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down"},sideBySide:!1,pickTime:g,minuteStepping:parseInt(b.parent.options.minuteStepping),language:"english"==b.parent.options.calendarLanguage?"en-gb":c,dow:b.parent.options.dow});var i=b.datetime().val();
if(!a.isEmpty(i)){var j=a.moment(i);b.datetimepicker("setDate",j)}},datetimepicker:function(a,c){return b.picker().data("DateTimePicker")[a](c)},"{toggle} click":function(){b.picker().focus()},"{picker} dp.change":function(c,e){b.setDateValue(e.date.toDate()),a(window).trigger("easysocial.fields.startend."+d.type+".change",[e.date])},"{picker} change":function(c){a.isEmpty(c.val())&&b.datetime().val("")},setDateValue:function(a){b.datetime().val(a.getFullYear()+"-"+("00"+(a.getMonth()+1)).slice(-2)+"-"+("00"+a.getDate()).slice(-2)+" "+("00"+a.getHours()).slice(-2)+":"+("00"+a.getMinutes()).slice(-2)+":"+("00"+a.getSeconds()).slice(-2))
}}}),b.resolve()})}),EasySocial.module("apps/fields/event/startend/display",function(){var b=this;EasySocial.require().library("chosen","popbox").done(function(a){EasySocial.Controller("Field.Event.Startend.Display.Box",{defaultOptions:{date:null,timezone:null,local:null,"{toggle}":"[data-popbox]","{content}":"[data-popbox-content]","{date}":"[data-date]","{timezone}":"[data-timezone]","{loading}":"[data-loading]"}},function(b,c){return{init:function(){c.timezone=b.timezone().data("timezone"),c.date=b.date().data("date-utc"),c.local=-(new Date).getTimezoneOffset/60;
var a=b.content().html(),d=b.toggle().data("popbox-position");b.toggle().popbox({content:a,id:"es",component:"ui",type:"timezone",toggle:"click",position:d}).attr("data-popbox","")},"{toggle} popboxActivate":function(a,c,d){d.tooltip.addController("EasySocial.Controller.Field.Event.Startend.Display.Timezone",{"{parent}":b})},datetime:a.memoize(function(a){return EasySocial.ajax("fields/event/startend/getDatetime",{id:c.id,userid:c.userid,tz:a,local:b.options.local,datetime:c.date})})}}),EasySocial.Controller("Field.Event.Startend.Display.Timezone",{defaultOptions:{"{timezones}":"[data-timezone-select]","{reset}":"[data-timezone-reset]","{local}":"[data-timezone-local]"}},function(a){return{init:function(){a.timezones().chosen({search_contains:!0})
},"{timezones} change":function(b){var d=b.find(":selected"),e=d.val(),f=d.text();a.parent.element.addClass("is-loading"),a.parent.timezone().html(f),a.parent.datetime(e).done(function(b){a.parent.date().html(b),a.parent.element.removeClass("is-loading")})},"{reset} click":function(){a.setTimezone(a.parent.options.timezone)},"{local} click":function(){a.setTimezone("local")},setTimezone:function(b){a.timezones().val(b).trigger("liszt:updated").trigger("change")}}}),b.resolve()})}),EasySocial.module("apps/fields/group/description/content",function(a){var b=this;
EasySocial.Controller("Field.Group.Description",{defaultOptions:{required:!1,editor:null,"{input}":"[data-field-description]"}},function(b,c){return{init:function(){b.editor=b.options.editor},"{self} onRender":function(){var a=b.input().htmlData();c.error=a.error||{}},"{input} keyup":function(){b.validateInput()},"{input} blur":function(){b.validateInput()},validateInput:function(){b.clearError();var d=b.editor.getContent();return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.required),!1):!0},raiseError:function(a){b.trigger("error",[a])
},clearError:function(){b.trigger("clear")},"{self} onError":function(a,d,e){"required"===e&&b.raiseError(c.error.required)},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/group/permalink/content",function(a){var b=this;EasySocial.Controller("Field.Group.Permalink",{defaultOptions:{required:!1,max:0,id:null,groupid:null,userid:null,"{field}":"[data-field-permalink]","{checkButton}":"[data-permalink-check]","{input}":"[data-permalink-input]","{available}":"[data-permalink-available]"}},function(b,c){return{state:!1,init:function(){c.max=b.field().data("max")
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{checkButton} click":function(){b.delayedCheck()},"{input} keyup":function(){b.delayedCheck()},delayedCheck:a.debounce(function(){b.checkPermalink()},250),checkPermalink:function(){b.clearError();var d=b.input().val();if(b.available().hide(),b.options.max>0&&d.length>b.options.max)return b.raiseError(c.error.max),!1;if(!a.isEmpty(d)){b.checkButton().addClass("is-loading");var e=a.Deferred();return EasySocial.ajax("fields/group/permalink/isValid",{id:b.options.id,groupid:b.options.groupid,permalink:d}).done(function(){b.clearError(),b.checkButton().removeClass("is-loading"),b.available().show(),e.resolve()
}).fail(function(a){b.raiseError(a),b.checkButton().removeClass("is-loading"),b.available().hide(),e.reject()}),e}return b.options.required&&a.isEmpty(d)?(b.available().hide(),b.raiseError(c.error.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.checkPermalink())}}}),b.resolve()}),EasySocial.module("apps/fields/group/permalink/sample_content",function(){var b=this;EasySocial.Controller("Field.Permalink.Sample",{defaultOptions:{"{checkPermalink}":"[data-check-permalink]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"check_permalink":a.checkPermalink().toggle(!!e)
}}}}),b.resolve()}),EasySocial.module("apps/fields/page/description/content",function(a){var b=this;EasySocial.Controller("Field.Page.Description",{defaultOptions:{required:!1,editor:null,"{input}":"[data-field-description]"}},function(b,c){return{init:function(){b.editor=b.options.editor},"{self} onRender":function(){var a=b.input().htmlData();c.error=a.error||{}},"{input} keyup":function(){b.validateInput()},"{input} blur":function(){b.validateInput()},validateInput:function(){b.clearError();var d=b.editor.getContent();
return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onError":function(a,d,e){"required"===e&&b.raiseError(c.error.required)},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/page/permalink/content",function(a){var b=this;EasySocial.Controller("Field.Page.Permalink",{defaultOptions:{required:!1,max:0,id:null,pageid:null,userid:null,"{field}":"[data-field-permalink]","{checkButton}":"[data-permalink-check]","{input}":"[data-permalink-input]","{available}":"[data-permalink-available]"}},function(b,c){return{state:!1,init:function(){c.max=b.field().data("max")
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{checkButton} click":function(){b.delayedCheck()},"{input} keyup":function(){b.delayedCheck()},delayedCheck:a.debounce(function(){b.checkPermalink()},250),checkPermalink:function(){b.clearError();var d=b.input().val();if(b.available().hide(),b.options.max>0&&d.length>b.options.max)return b.raiseError(c.error.max),!1;if(!a.isEmpty(d)){b.checkButton().addClass("is-loading");var e=a.Deferred();return EasySocial.ajax("fields/page/permalink/isValid",{id:b.options.id,pageid:b.options.pageid,permalink:d}).done(function(){b.clearError(),b.checkButton().removeClass("is-loading"),b.available().show(),e.resolve()
}).fail(function(a){b.raiseError(a),b.checkButton().removeClass("is-loading"),b.available().hide(),e.reject()}),e}return b.options.required&&a.isEmpty(d)?(b.available().hide(),b.raiseError(c.error.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.checkPermalink())}}}),b.resolve()}),EasySocial.module("apps/fields/page/permalink/sample_content",function(){var b=this;EasySocial.Controller("Field.Permalink.Sample",{defaultOptions:{"{checkPermalink}":"[data-check-permalink]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"check_permalink":a.checkPermalink().toggle(!!e)
}}}}),b.resolve()}),EasySocial.module("apps/fields/user/address/content",function(a){var b=this;EasySocial.Controller("Field.Address",{defaultOptions:{required:{},show:{},"{field}":"[data-field-address]","{address1}":"[data-field-address-address1]","{address2}":"[data-field-address-address2]","{city}":"[data-field-address-city]","{state}":"[data-field-address-state]","{country}":"[data-field-address-country]","{zip}":"[data-field-address-zip]","{required}":"[data-required]","{notice}":"[data-check-notice]"}},function(b,c){return{init:function(){},fields:["address1","address2","city","state","zip","country"],"{self} onRender":function(){var e=b.field().htmlData();
c.error=e.error},validateInput:function(){b.clearError();var d=!1;return b.clearError(),a.each(b.fields,function(e,f){var g=b[f]();g.removeClass("has-error");var h=g.val();a.isEmpty(h)&&b.options.required[f]&&b.options.show[f]&&(g.addClass("has-error"),d||(b.raiseError(c.error[f]),d=!0))}),!0},"{address1}, {address2}, {zip}, {city}, {state} blur":function(){b.validateInput()},"{country} change":function(c){b.validateInput(),b.state().is("select")&&EasySocial.ajax("fields/user/address/getStates",{id:b.options.id,country:c.val()}).done(function(c){b.state().empty(),a.each(c,function(c,d){a("<option></option>").html(d).val(d).appendTo(b.state())
})})},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())},"{self} onConfigChange":function(c,d,e,f){var g=["address1","address2","city","zip","state","country"];a.inArray(e,g)>=0&&(b.options.required[e]=!!f),b.required().hide(),a.each(g,function(a,c){return b.options[c]?(b.required().show(),!1):void 0})}}}),b.resolve()}),EasySocial.module("apps/fields/user/address/display_content",function(a){var b=this;EasySocial.require().library("gmaps").done(function(){EasySocial.Controller("Field.Address.Display",{defaultOptions:{latitude:null,longitude:null,ratio:1,"{base}":"[data-location-base]","{map}":"[data-location-map]","{mapImage}":"[data-location-map-image]"}},function(b){return{init:function(){var a=b.map();
b.options.latitude=a.data("latitude"),b.options.longitude=a.data("longitude"),b.setLayout()},"{window} resize":a.debounce(function(){b.setLayout()},250),navigate:function(c,d){var e=b.mapImage(),h=(Math.floor(e.width()),Math.floor(e.height()),a.GMaps.staticMapURL({size:[1280,1280],lat:c,lng:d,sensor:!0,scale:2,markers:[{lat:c,lng:d}]})),h=h.replace(/http\:|https\:/,"");a.Image.get(h).done(function(){e.css({backgroundImage:a.cssUrl(h),backgroundSize:"cover",backgroundPosition:"center center"}),b.base().addClass("has-location")
}).always(function(){b.base().removeClass("is-loading")})},setLayout:function(){setTimeout(function(){b.options.latitude&&b.options.longitude&&b.navigate(b.options.latitude,b.options.longitude)},1)},"{self} onShow":function(){b.setLayout()}}}),b.resolve()})}),EasySocial.module("apps/fields/user/address/maps",function(a){var b=this;a.template("easysocial/maps.suggestion",'<div class="es-location-suggestion" data-location-suggestion><span class="formatted_address">[%= location.formatted_address %]</span></div>'),EasySocial.require().library("gmaps","placeholder","image").done(function(){var c={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38};
EasySocial.Controller("Field.Address.Maps",{defaultOptions:{required:null,zoom:2,latitude:null,longitude:null,address:null,singleLocation:!0,required:!1,ratio:3,"{field}":"[data-field-address]","{base}":"[data-location-base]","{map}":"[data-location-map]","{mapImage}":"[data-location-map-image]","{detectButton}":"[data-location-detect]","{removeButton}":"[data-location-remove]","{form}":"[data-location-form]","{textbox}":"[data-location-textbox]","{textField}":"[data-location-textfield]","{autocomplete}":"[data-location-autocomplete]","{suggestions}":"[data-location-suggestions]","{suggestion}":"[data-location-suggestion]","{source}":"[data-location-source]",view:{suggestion:"maps.suggestion"}}},function(b,d){return{init:function(){var c=b.field().htmlData();
if(d.error=c.error||{},navigator.geolocation&&b.base().addClass("is-detectable"),b.textField().placeholder(),b.textField().removeAttr("disabled"),!a.isEmpty(b.source().val())){var c=JSON.parse(b.source().val());c.latitude&&c.longitude&&(b.navigate(c.latitude,c.longitude),b.base().addClass("has-location"))}},"{window} resize":a.debounce(function(){var a=JSON.parse(b.source().val());if(a.latitude&&a.longitude){var c=b.mapImage();c.data("width")!==c.width()&&b.navigate(a.latitude,a.longitude)}},250),"{self} onShow":function(){var a=JSON.parse(b.source().val());
if(a.latitude&&a.longitude){var c=b.mapImage();c.data("width")!==c.width()&&b.navigate(a.latitude,a.longitude)}},navigate:function(c,d){b.field().css({"max-width":"none"});var e=b.mapImage(),f=window.es.gmapsApiKey,i=(Math.floor(e.width()),Math.floor(e.height()),a.GMaps.staticMapURL({key:f,size:[1280,1280],lat:c,lng:d,sensor:!0,scale:2,markers:[{lat:c,lng:d}]}));a.Image.get(i).done(function(){e.css({backgroundImage:a.cssUrl(i),backgroundSize:"cover",backgroundPosition:"center center"}),b.base().addClass("has-location")
}).always(function(){b.base().removeClass("is-loading")})},locations:{},lastQueryAddress:null,results:[],result:null,"{textField} keypress":function(d,e){switch(e.keyCode){case c.UP:var f=a(b.suggestion(".active").prev(b.suggestion.selector)[0]||b.suggestion(":last")[0]);b.suggestion().removeClass("active"),f.addClass("active").trigger("activate"),b.suggestions().scrollTo(f,{offset:-1*f.height()}),e.preventDefault();break;case c.DOWN:var g=a(b.suggestion(".active").next(b.suggestion.selector)[0]||b.suggestion(":first")[0]);
b.suggestion().removeClass("active"),g.addClass("active").trigger("activate"),b.suggestions().scrollTo(g,{offset:-1*g.height()}),e.preventDefault();break;case c.ENTER:var h=b.suggestion(".active"),i=h.data("location");b.set(i),b.hideSuggestions();break;case c.ESCAPE:b.hideSuggestions()}},"{textField} keyup":function(d,e){switch(e.keyCode){case c.UP:case c.DOWN:case c.LEFT:case c.RIGHT:case c.ENTER:case c.ESCAPE:break;default:var f=a.trim(d.val());""===f&&(b.base().removeClass("has-location"),b.hideSuggestions());
var g=b.locations[f];g?(b.lastQueryAddress=f,b.suggest(g)):b.lookup(f)}},lookup:a.debounce(function(c){b.base().addClass("is-busy"),a.GMaps.geocode({address:c,callback:function(a,d){b.base().removeClass("is-busy"),"OK"==d&&(b.locations[c]=a,b.suggest(a),b.lastQueryAddress=c)}})},250),suggest:function(c){var d=b.suggestions();d.empty(),c.length<0||(b.results=c,a.each(c,function(a,c){b.view.suggestion({location:c}).data("location",c).appendTo(d)}),b.showSuggestions())},showSuggestions:function(){b.focusSuggestion=!0,b.element.find(".es-story-footer").addClass("swap-zindex"),setTimeout(function(){b.autocomplete().addClass("active");
var c=a(document),d="click.es.story.location";c.off(d).on(d,function(e){var f=a(e.target).parents().andSelf();f.filter(b.element).length>0||(c.off(d),b.hideSuggestions())})},500)},hideSuggestions:function(){b.focusSuggestion=!1,b.autocomplete().removeClass("active"),a(document).off("click.es.story.location"),setTimeout(function(){b.focusSuggestion||b.element.find(".es-story-footer").removeClass("swap-zindex")},500)},"{suggestion} activate":function(a){var d=a.data("location");b.navigate(d.geometry.location.lat(),d.geometry.location.lng())
},"{suggestion} mouseover":function(a){b.suggestion().removeClass("active"),a.addClass("active").trigger("activate")},"{suggestion} click":function(a){var d=a.data("location");b.set(d),b.hideSuggestions()},set:function(a){b.currentLocation=a;var c=a.geometry.location.lat(),d=a.geometry.location.lng();b.navigate(c,d);var e=a.formatted_address;b.textField().val(e),b.lastQueryAddress=e,b.base().addClass("has-location"),b.result=a;var f=b.getResult("source");b.source().val(JSON.stringify(f))},unset:function(){b.currentLocation=null,b.textField().val(""),b.mapImage().attr("src",""),b.base().removeClass("has-location"),b.source().val("")
},detectTimer:null,"{detectButton} click":function(){b.textbox();b.base().addClass("is-busy"),clearTimeout(b.detectTimer),b.detectTimer=setTimeout(function(){b.base().removeClass("is-busy")},8e3),a.GMaps.geolocate({success:function(c){a.GMaps.geocode({lat:c.coords.latitude,lng:c.coords.longitude,callback:function(a,c){"OK"==c&&(b.suggest(a),b.textField().focus())}})},error:function(a){var b="";switch(a.code){case 1:b=d.error.map.permission;break;case 2:b=d.error.map.timeout;break;case 3:default:b=d.error.map.unavailable
}},always:function(){clearTimeout(b.detectTimer),b.base().removeClass("is-busy")}})},"{removeButton} click":function(){b.unset(),b.hideSuggestions()},getResult:function(c){if(!b.result){if(0===b.results.length)return!1;b.result=b.results[0]}var d=b.result;if(void 0===c)return d;switch(c){case"coords":return{lat:d.geometry.location.lat(),lng:d.geometry.location.lng()};case"lat":case"latitude":return d.geometry.location.lat();case"lng":case"longitude":return d.geometry.location.lng();case"address":return d.formatted_address;
case"viewport":return d.geometry.viewport;case"bounds":return d.geometry.bounds||d.geometry.viewport;case"source":var e={};a.each(d.address_components,function(a,b){b.types[0]&&(e[b.types[0]]=b.long_name)});var f={address1:["street_address","route"],address2:["intersection","colloquial_area","neighborhood","premise","subpremise"],city:["locality","sublocality","sublocality_level_1","sublocality_level_2","sublocality_level_3","sublocality_level_4","sublocality_level_5"],state:["administrative_area_level_1","administrative_area_level_2","administrative_area_level_3"],zip:"postal_code",country:"country"},g={};
a.each(f,function(b,c){return g[b]="",a.isArray(c)?(a.each(c,function(a,c){return void 0!==e[c]?(g[b]=e[c],!1):!0}),!0):(void 0!==e[c]&&(g[b]=e[c]),void 0)});var h=a.extend(g,{components:e,address:d.formatted_address,latitude:d.geometry.location.lat(),longitude:d.geometry.location.lng()});return h}}}}),b.resolve()})}),EasySocial.module("apps/fields/user/autocomplete/content",function(){var b=this;EasySocial.require().library("textboxlist").done(function(a){EasySocial.Controller("Field.Autocomplete",{defaultOptions:{required:!1,id:null,types:null,fieldname:null,actor:null,target:null,selectedItems:[],max:null,exclusive:!0,exclusion:[],minLength:1,highlight:!0,name:"uid[]",type:"","{suggest}":"[data-field-suggest]"}},function(b,c){return{init:function(){c.name=c.fieldname+"[]",b.initSuggest()
},initSuggest:function(){b.suggest().textboxlist({component:"es",name:c.name,max:c.max,plugin:{autocomplete:{exclusive:c.exclusive,minLength:c.minLength,highlight:c.highlight,showLoadingHint:!0,showEmptyHint:!0,query:function(a){var b=EasySocial.ajax("fields/user/autocomplete/suggest",{search:a,id:c.id});return b}}}}).textboxlist("enable")},"{suggest} removeItem":function(b,d,e){var f=a.inArray(e.id.toString(),c.exclusion)>-1;f&&c.exclusion.splice(c.exclusion.indexOf(e.id.toString()),1)},"{suggest} filterMenu":function(b,d,e,f,g,h){var i=h.getAddedItems(),i=a.pluck(i,"id"),j=i.concat(c.exclusion);
f.each(function(){var b=a(this),c=b.data("item"),d=a.inArray(c.id.toString(),j)>-1;b.toggleClass("hidden",d)})}}}),b.resolve()})}),EasySocial.module("apps/fields/user/avatar/content",function(a){var b=this;EasySocial.require().library("image","imgareaselect").done(function(){EasySocial.Controller("Field.Avatar",{defaultOptions:{required:!1,id:0,group:null,origSource:null,defaultAvatar:null,hasAvatar:null,"{field}":"[data-field-avatar]","{gallery}":"[data-field-avatar-gallery]","{galleryList}":"[data-field-avatar-gallery-items]","{galleryItem}":"[data-field-avatar-gallery-item]","{frame}":"[data-field-avatar-frame]","{viewport}":"[data-field-avatar-viewport]","{avatarSource}":"[data-field-avatar-source]","{avatarData}":"[data-field-avatar-data]","{avatarPath}":"[data-field-avatar-path]","{avatarType}":"[data-field-avatar-type]","{avatarName}":"[data-field-avatar-name]","{file}":"[data-field-avatar-file]","{image}":"[data-field-avatar-selected]","{note}":"[data-field-avatar-note]","{actions}":"[data-field-avatar-actions]","{cancel}":"[data-field-avatar-actions-cancel]","{crop}":"[data-field-avatar-actions-crop]","{removeFrame}":"[data-field-avatar-remove]","{remove}":"[data-field-avatar-remove-button]","{revertFrame}":"[data-field-avatar-revert]","{revert}":"[data-field-avatar-revert-button]","{loader}":"[data-field-avatar-loader]"}},function(b,c){return{init:function(){b.state=!!b.options.hasAvatar
},state:!0,"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{file} change":function(c){if(!a.isEmpty(c.val())){var e=c.val().replace(/\\/g,"/").replace(/.*\//,"");c.parents(".input-group").find(":text").val(e),b.state=!1,b.loader().show(),b.frame().hide(),b.file().hide(),b.clearError(),EasySocial.ajax("fields/"+b.options.group+"/avatar/upload",{id:b.options.id,files:c},{type:"iframe"}).done(function(a,c,d){b.avatarName().val(a.name),b.avatarSource().val(c),b.avatarPath().val(d),b.avatarType().val("upload"),b.setLayout(c),b.galleryItem().removeClass("active"),b.removeFrame().hide(),b.revertFrame().hide(),b.state=!0
}).fail(function(a){b.loader().hide(),b.raiseError(a),b.file().show().val(""),b.frame().show()})}},setLayout:function(c){var d=a.Image.get(c),e=b.frame();d.done(function(d,f){e.css("background-image",a.cssUrl(c)),e.addClass("avatar-frame-crop"),e.show(),b.loader().hide(),b.actions().show(),b.note().show(),b.viewport().imgAreaSelect({remove:!0}),b.viewport().show();var g=a.Image.resizeWithin(f.width,f.height,e.width(),e.height()),h=Math.min(g.width,g.height),i=Math.floor((g.width-h)/2),j=Math.floor((g.height-h)/2),k=i+h,l=j+h;
b.viewport().css(g).imgAreaSelect({handles:!0,aspectRatio:"1:1",parent:e,x1:i,y1:j,x2:k,y2:l,onSelectEnd:function(a,c){var d=!("0"==c.width&&"0"==c.height);if(d){var e=JSON.stringify(b.data());b.avatarData().val(e)}}})})},"{cancel} click":function(){b.actions().hide(),b.note().hide(),b.frame().hide(),b.file().show(),b.file().val(""),b.file().parents(".input-group").find(":text").val(""),b.avatarSource().val(""),b.avatarPath().val(""),b.avatarData().val(""),b.avatarType().val(""),b.viewport().hide().imgAreaSelect({remove:!0}),a.isEmpty(b.options.origSource)||b.frame().css("background-image",a.cssUrl(b.options.origSource)).removeClass("avatar-frame-crop").show(),b.options.hasAvatar&&b.removeFrame().show()
},data:function(){var a=b.viewport(),c=a.width(),d=a.height(),e=a.imgAreaSelect({instance:!0}).getSelection(),f={top:e.y1/d,left:e.x1/c,width:e.width/c,height:e.height/d};return f},"{gallery} click":function(){b.galleryList().toggle()},"{galleryItem} click":function(a){if(!a.hasClass("active")){var d=a.data("id");b.galleryItem().removeClass("active"),a.addClass("active"),b.state=!1,b.loader().show(),b.frame().hide(),b.file().hide(),b.file().val(""),b.file().parents(".input-group").find(":text").val(""),b.clearError(),b.avatarType().val("gallery"),b.avatarSource().val(d),EasySocial.ajax("fields/user/avatar/loadDefault",{avatarId:d}).done(function(a){b.frame().css("background-image","url("+a+")"),b.frame().show(),b.frame().removeClass("avatar-frame-crop"),b.loader().hide(),b.viewport().hide(),b.viewport().imgAreaSelect({remove:!0}),b.actions().hide(),b.note().hide(),b.file().show(),b.revertFrame().show(),b.removeFrame().hide(),b.state=!0
})}},"{remove} click":function(){b.avatarType().val("remove"),b.frame().css("background-image",a.cssUrl(b.options.defaultAvatar)),b.removeFrame().hide(),b.options.hasAvatar&&b.revertFrame().show(),b.state=!1},"{revert} click":function(){b.avatarType().val(""),b.frame().css("background-image",a.cssUrl(b.options.origSource)),b.options.hasAvatar&&b.removeFrame().show(),b.revertFrame().hide(),b.galleryItem().removeClass("active"),b.state=!0},"{self} onSubmit":function(a,d,e){b.options.required&&(b.state||b.raiseError(c.error.empty),e.push(b.state))
},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")}}}),b.resolve()})}),EasySocial.module("apps/fields/user/avatar/sample_content",function(){var b=this;EasySocial.Controller("Field.Avatar.Sample",{defaultOptions:{"{upload}":"[data-avatar-upload]","{gallery}":"[data-avatar-gallery]","{galleryTitle}":"[data-avatar-gallery-title]","{galleryButton}":"[data-avatar-gallery-button]","{gallerySelection}":"[data-avatar-gallery-selection]"}},function(a){return{"{self} onConfigChange":function(b,c,d,e){switch(d){case"upload":a.upload().toggle(e);
break;case"gallery":a.gallery().toggle(e);break;case"use_gallery_button":a.galleryButton().toggle(e),a.gallerySelection().toggle(!e),a.galleryTitle().toggle(!e)}}}}),b.resolve()}),EasySocial.module("apps/fields/user/checkbox/content",function(){var b=this;EasySocial.Controller("Field.Checkbox",{defaultOptions:{required:!1,"{item}":"[data-field-checkbox-item]","{field}":"[data-field-checkbox]"}},function(a,b){return{init:function(){},"{self} onRender":function(){var c=a.field().htmlData();b.error=c.error||{}},validateInput:function(){return a.clearError(),a.options.required&&0==a.item(":checked").length?(a.raiseError(),!1):!0
},raiseError:function(){a.trigger("error",[b.error.empty])},clearError:function(){a.trigger("clear")},"{self} onSubmit":function(b,c,d){d.push(a.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/user/checkbox/sample_content",function(){var b=this;EasySocial.Controller("Field.Checkbox.Sample",{defaultOptions:{"{checkboxes}":"[data-checkboxes]","{checkbox}":"[data-checkbox]","{sample}":"[data-sample-checkboxes] > [data-sample-checkbox]","{checkboxInput}":"[data-checkbox-input]","{checkboxTitle}":"[data-checkbox-title]"}},function(a){return{init:function(){},"{self} onChoiceTitleChanged":function(b,c,d,e){a.checkboxTitle().eq(d).text(e)
},"{self} onChoiceValueChanged":function(b,c,d,e){a.checkboxInput().eq(d).val(e)},"{self} onChoiceAdded":function(b,c,d){var f=a.sample().clone();f.removeData("data-sample-checkbox"),f.removeAttr("data-sample-checkbox"),f.attr("data-checkbox",""),f.data("data-checkbox",""),a.checkbox().eq(d).length>0?a.checkbox().eq(d).before(f):a.checkboxes().append(f)},"{self} onChoiceRemoved":function(b,c,d){a.checkbox().eq(d).remove()},"{self} onChoiceToggleDefault":function(b,c,d,e){var f=a.checkboxInput().eq(d);e?f.prop("checked",!0):f.prop("checked",!1)
}}}),b.resolve()}),EasySocial.module("apps/fields/user/country/content",function(a){var b=this;EasySocial.require().library("textboxlist").done(function(){EasySocial.Controller("Field.Country",{defaultOptions:{fieldname:"",required:!1,id:null,min:null,max:null,selecttype:"textboxlist","{field}":"[data-field-country]","{inputTextboxlist}":"[data-country-select-textboxlist]","{inputMultilist}":"[data-country-select-multilist]","{inputCheckbox}":"[data-country-select-checkbox]","{inputCheckboxes}":"[data-country-select-checkbox] input","{inputDropdown}":"[data-country-select-dropdown]"}},function(b,c){return{init:function(){c.max=b.field().data("max"),c.min=b.field().data("min"),c.selecttype=b.field().data("select-type"),"textboxlist"===c.selecttype&&EasySocial.module("field.country/"+b.options.id).done(function(a){b.inputTextboxlist().textboxlist({component:"es",name:b.options.fieldname+"[]",max:b.options.max<1?null:b.options.max,plugin:{autocomplete:{exclusive:!0,query:a}}})
})},"{self} onRender":function(){},"{inputMultilist} change":function(a){return b.options.max>0&&a.val().length>b.options.max?(a.val(b.lastValidSelection?b.lastValidSelection:""),!1):(b.lastValidSelection=a.val(),void 0)},"{inputCheckboxes} change":function(a){var d=b.inputCheckboxes(":checked").length;return b.options.max>0&&d>b.options.max?(a.removeAttr("checked"),!1):void 0},validateInput:function(){var d=null;if("textboxlist"===b.options.selecttype&&(d=b.inputTextboxlist().controller("textboxlist").getAddedItems()),"multilist"===b.options.selecttype&&(d=b.inputMultilist().val()),"checkbox"===b.options.selecttype&&(d=b.inputCheckboxes(":checked")),"dropdown"===b.options.selecttype){var e=b.inputDropdown().val();
a.isEmpty(e)||(d=[e])}var f=d?d.length:0;return b.options.required||0!==f?b.options.required&&1>f?(b.raiseError(c.error.required),!1):b.options.min>0&&f<b.options.min?(b.raiseError(c.error.min),!1):b.options.max>0&&f>b.options.max?(b.raiseError(c.error.max),!1):!0:!0},raiseError:function(a){b.trigger("error",[a])},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()})}),EasySocial.module("apps/fields/user/country/sample_content",function(){var b=this;EasySocial.Controller("Field.Country.Sample",{defaultOptions:{"{inputGeneral}":"[data-country-select]","{inputTextboxlist}":"[data-country-select-textboxlist]","{inputMultilist}":"[data-country-select-multilist]","{inputCheckbox}":"[data-country-select-checkbox]","{inputDropdown}":"[data-country-select-dropdown]","{maxMessage}":"[data-country-max-message]","{maxCount}":"[data-country-max-count]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"select_type":a.inputGeneral().hide(),"textboxlist"===e&&a.inputTextboxlist().show(),"multilist"===e&&a.inputMultilist().show(),"checkbox"===e&&a.inputCheckbox().show(),"dropdown"===e&&a.inputDropdown().show();
break;case"multilist_size":a.inputMultilist().attr("size",e);break;case"show_max_message":a.maxMessage().toggle(!!e);break;case"max":a.maxCount().text(e)}}}}),b.resolve()}),EasySocial.module("apps/fields/user/cover/content",function(a){var b=this;EasySocial.require().library("image").done(function(){EasySocial.Controller("Field.Cover",{defaultOptions:{id:0,group:null,required:!1,hasCover:!0,defaultCover:null,ratio:3,"{field}":"[data-field-cover]","{image}":"[data-field-cover-image]","{data}":"[data-field-cover-data]","{position}":"[data-field-cover-position]","{file}":"[data-field-cover-file]","{note}":"[data-field-cover-note]","{loader}":"[data-field-cover-loader]","{error}":"[data-field-cover-error]","{removeButton}":"[data-field-cover-remove-button]","{revertFrame}":"[data-field-cover-revert]","{revertButton}":"[data-field-cover-revert-button]"}},function(b,c){return{init:function(){b.setFrame(),b.setLayout(),b.origCover=b.options.hasCover?a.uri(b.image().css("backgroundImage")).extract(0):null,b.origPosition=b.options.hasCover?b.image().css("backgroundPosition"):null
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{self} onShow":function(){setTimeout(function(){b.setLayout()},1)},setFrame:function(){var a=b.image().width(),c=a/b.options.ratio;b.image().css("height",c)},"{window} resize":a.debounce(function(){b.setFrame()},250),imageLoaders:{},"{file} change":function(c){if(!a.isEmpty(c.val())){var e=c.val().replace(/\\/g,"/").replace(/.*\//,"");c.parents(".input-group").find(":text").val(e),b.loader().show(),b.error().hide(),b.image().hide(),b.note().hide(),b.file().hide(),EasySocial.ajax("fields/"+b.options.group+"/cover/upload",{id:b.options.id,files:c},{type:"iframe"}).done(function(c){var d=JSON.stringify(c);
b.data().val(d);var e=JSON.stringify({x:.5,y:.5});b.position().val(e),b.position().val();{var f=c.large.uri,g=b.imageLoaders;(g[f]||(g[f]=a.Image.get(f))).done(function(a){b.setLayout.image=a,b.file().show(),b.image().show(),b.note().show(),b.loader().hide(),b.revertFrame().hide(),b.removeButton().show(),b.setCover(c.large.uri)})}}).fail(function(a){b.loader().hide(),b.file().show(),b.error().show().html(a)})}},setLayout:function(){var c=b.image(),d=b.setLayout.image;if(d){var h=d.data("width"),i=d.data("height"),j=c.width(),k=c.height(),l=a.Image.resizeProportionate(h,i,j,k,"outer");
b.availableWidth=j-l.width,b.availableHeight=k-l.height,b.setFrame()}else{var e=a.uri(c.css("backgroundImage")).extract(0);if(!e)return;{var f=b.imageLoaders;(f[e]||(f[e]=a.Image.get(e))).done(function(a){b.setLayout.image=a,b.setLayout()})}}},setCover:function(c,d){d=d||"50% 50%",b.image().css({backgroundImage:a.cssUrl(c),backgroundPosition:d}),b.setLayout(),b.image().addClass("cover-move"),b.note().show()},x:.5,y:.5,moveCover:function(a,c,d){d||(d=b.image());var e=b.availableWidth,f=b.availableHeight,g=0==e?0:b.x+(a/e||0),h=0==f?0:b.y+(c/f||0);
0>g&&(g=0),g>1&&(g=1),0>h&&(h=0),h>1&&(h=1),d.css("backgroundPosition",100*(b.x=g)+"% "+100*(b.y=h)+"% ");var i={x:b.x,y:b.y};b.position().val(JSON.stringify(i))},"{image} mousedown":function(c,d){d.target===b.image()[0]&&d.preventDefault();var e=b.image(),f=e.css("backgroundPosition").split(" ");b.x=parseInt(f[0])/100,b.y=parseInt(f[1])/100;var g=d.pageX,h=d.pageY;a(document).on("mousemove.movingCover mouseup.movingCover",function(a){b.moveCover(-1*(g-(g=a.pageX)),-1*(h-(h=a.pageY)),e)}).on("mouseup.movingCover",function(){a(document).off("mousemove.movingCover mouseup.movingCover")
})},"{removeButton} click":function(c){var d=b.data().val();a.isEmpty(d)?b.options.hasCover&&(b.setCover(b.options.defaultCover),b.data().val("delete"),c.hide(),b.revertFrame().show()):(b.origData=d,b.origPosition=b.position().val(),b.data().val(""),b.position().val(""),b.file().val(""),b.file().parents(".input-group").find(":text").val(""),b.options.hasCover?b.setCover(b.origCover):(b.setCover(b.options.defaultCover),b.data().val("delete"),c.hide()))},"{revertButton} click":function(){b.setCover(b.origCover,b.origPosition),b.revertFrame().hide(),b.removeButton().show(),b.data().val(""),b.position().val(""),b.file().val(""),b.file().parents(".input-group").find(":text").val("")
},"{self} onSubmit":function(d,e,f){b.options.required&&!b.options.hasCover&&a.isEmpty(b.data().val())&&(b.raiseError(c.error.required),f.push(!1))},raiseError:function(a){b.trigger("error",[a])}}}),b.resolve()})}),EasySocial.module("apps/fields/user/currency/sample_content",function(){var b=this;EasySocial.Controller("Field.Currency.Sample",{defaultOptions:{}},function(){return{init:function(){},"{self} onConfigChange":function(a,b,c){switch(c){case"format":}}}}),b.resolve()}),EasySocial.module("apps/fields/user/datetime/content",function(){var b=this;
EasySocial.require().library("datetimepicker","chosen","moment/"+EasySocial.options.momentLang).done(function(a){EasySocial.Controller("Field.Datetime",{defaultOptions:{required:!1,calendarDateFormat:null,yearfrom:null,yearto:null,date:null,lang:null,allowTime:!1,allowTimezone:!1,calendarLanguage:"english","{field}":"[data-field-datetime]","{date}":"[data-field-datetime-select]","{dateValue}":"[data-field-datetime-value]","{timezone}":"[date-field-datetime-timezone]","{form}":"[data-field-datetime-form]","{icon}":"[data-field-datetime-icon]","{clearButton}":"[data-clear]"}},function(b,c){return{init:function(){if(b.options.yearfrom=b.options.yearfrom||1930,b.options.yearto=a.isEmpty(b.options.yearto)?(new Date).getFullYear()+100:parseInt(b.options.yearto)+1,b.date()._datetimepicker({component:"es",format:b.options.calendarDateFormat,minDate:b.options.yearfrom+"-01-01",maxDate:b.options.yearto+"-12-31",icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down"},sideBySide:!1,pickTime:b.options.allowTime,useCurrent:!1,language:"english"==b.options.calendarLanguage?"en-gb":EasySocial.options.momentLang}),b.options.date=b.dateValue().val(),!a.isEmpty(b.options.date)){var c=a.moment(b.options.date);
b.datetimepicker("setDate",c)}b.options.allowTimezone&&b.timezone().chosen({search_contains:!0})},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{icon} click":function(){b.datetimepicker("show")},"{date} dp.change":function(a,c){b.setDateValue(c.date.toDate()),b.form().addClass("has-datetime"),b.options.allowTime||b.date().blur()},datetimepicker:function(a,c){return b.date().data("DateTimePicker")[a](c)},setDateValue:function(a){b.dateValue().val(a.getFullYear()+"-"+("00"+(a.getMonth()+1)).slice(-2)+"-"+("00"+a.getDate()).slice(-2)+" "+("00"+a.getHours()).slice(-2)+":"+("00"+a.getMinutes()).slice(-2)+":"+("00"+a.getSeconds()).slice(-2))
},"{date} blur":function(){b.validateCalendar()},validateCalendar:function(){return b.clearError(),b.options.required&&a.isEmpty(b.dateValue().val())?(b.raiseError(c.error.empty),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.validateCalendar())},"{clearButton} click":function(){b.form().removeClass("has-datetime"),b.datetimepicker("setValue",new a.moment),b.date().val(""),b.dateValue().val("")}}}),b.resolve()})}),EasySocial.module("apps/fields/user/datetime/display_content",function(){var b=this;
EasySocial.require().library("popbox","chosen").done(function(a){EasySocial.Controller("Field.Datetime.Display",{defaultOptions:{userid:null,date:null,timezone:null,local:null,"{toggle}":"[data-popbox]","{content}":"[data-popbox-content]","{date}":"[data-date]","{timezone}":"[data-timezone]","{loading}":"[data-loading]"}},function(b,c){return{init:function(){b.options.timezone=b.timezone().data("timezone"),b.options.date=b.date().data("date-utc"),b.datetime(b.options.timezone,b.date().html()),b.options.local=-(new Date).getTimezoneOffset()/60;
var a=b.content().html(),c=b.toggle().data("popbox-position");b.toggle().popbox({content:a,id:"fd",component:"es",type:"timezone",toggle:"click",position:c}).attr("data-popbox","")},"{toggle} popboxActivate":function(c,d,e){a(e.tooltip).addController("EasySocial.Controller.Field.Datetime.Display.Timezone",{"{parent}":b})},data:{},datetime:function(c,d){if(void 0===d){var e=a.Deferred();return void 0===b.data[c]?(b.loading().show(),EasySocial.ajax("fields/user/datetime/getDatetime",{id:b.options.id,userid:b.options.userid,tz:c,local:b.options.local,datetime:b.options.date}).done(function(a){b.loading().hide(),e.resolve(b.datetime(c,a))
})):e.resolve(b.data[c]),e}return b.data[c]=d,d},showDatetime:function(a,d){"local"===a&&(a=c.message.local),b.timezone().html(a),b.date().html(d)}}}),EasySocial.Controller("Field.Datetime.Display.Timezone",{defaultOptions:{"{timezones}":"[data-timezone-select]","{reset}":"[data-timezone-reset]","{local}":"[data-timezone-local]"}},function(a){return{init:function(){a.timezones().chosen({search_contains:!0})},"{timezones} change":function(b){var d=b.val();a.parent.date().hide(),a.parent.timezone().hide(),a.parent.datetime(d).done(function(b){a.parent.showDatetime(d,b),a.parent.date().show(),a.parent.timezone().show()
})},"{reset} click":function(){a.setTimezone(a.parent.options.timezone)},"{local} click":function(){a.setTimezone("local")},setTimezone:function(b){a.timezones().val(b).trigger("liszt:updated").trigger("change")}}}),b.resolve()})}),EasySocial.module("apps/fields/user/datetime/dropdown",function(a){var b=this;EasySocial.Controller("Field.Datetime.Dropdown",{defaultOptions:{required:!1,allowTime:!1,allowTimezone:!1,yearfrom:null,yearto:null,"{dateValue}":"[data-field-datetime-value]","{year}":"[data-field-datetime-year]","{month}":"[data-field-datetime-month]","{day}":"[data-field-datetime-day]","{hour}":"[data-field-datetime-hour]","{minute}":"[data-field-datetime-minute]","{ampm}":"[data-field-datetime-ampm]","{dayLabel}":"[data-datetime-day-label]"}},function(b,c){return{"{year} change":function(){b.setValue()
},"{month} change":function(){var e=b.year().val(),f=b.month().val(),g=b.dayLabel().text();if(""!==e&&""!==f){var h=new Date(e,f,0).getDate(),j=b.day().val();for(""!==j&&(j=Math.min(j,h)),b.day().empty(),b.day().append('<option value="">'+g+"</option>"),i=1;h>=i;i++)a('<option value="'+i+'">'+i+"</option>").appendTo(b.day());""!==j&&b.day().val(j)}b.setValue()},"{day} change":function(){b.setValue()},"{hour} change":function(){b.setValue()},"{minute} change":function(){b.setValue()},"{ampm} change":function(){b.setValue()
},checkDate:function(){b.clearError();var a=b.year().val(),d=b.month().val(),e=b.day().val();return""!=a&&""!=d&&""!=e||!c.required?!0:(b.raiseError(),!1)},setValue:function(){var a,c=b.year().val(),d=b.month().val(),e=b.day().val();if(""!==c&&""!==d&&""!==e){if(a=c+"-"+d+"-"+e,b.options.allowTime){var f=b.hour().val(),g=b.minute().val();""!==f&&b.ampm().length>0&&"pm"==b.ampm().val()&&(f=(parseInt(f)+12).toString(),"24"===f&&(f="0")),""===g&&(g="00"),a+=" "+("00"+f).slice(-2)+":"+("00"+g).slice(-2)+":00"}b.dateValue().val(a)
}},"{self} onSubmit":function(){b.checkDate()},clearError:function(){b.trigger("clear")},raiseError:function(a){b.trigger("error",[a])}}}),b.resolve()}),EasySocial.module("apps/fields/user/datetime/sample_content",function(){var b=this;EasySocial.require().library("ui/datepicker").done(function(){EasySocial.Controller("Field.Datetime.Sample",{defaultOptions:{"{yearPrivacy}":"[data-yearprivacy]","{input}":"[data-field-datetime-select]","{timezone}":"[data-field-datetime-timezone]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"year_privacy":a.yearPrivacy().toggle(e);
break;case"allow_timezone":a.timezone().toggle(e);break;case"placeholder":a.input().attr("placeholder",e)}}}}),b.resolve()})}),EasySocial.module("apps/fields/user/dropdown/content",function(a){var b=this;EasySocial.Controller("Field.Dropdown",{defaultOptions:{required:null,"{field}":"[data-field-dropdown]","{item}":"[data-field-dropdown-item]","{option}":"[data-field-dropdown-item] option"}},function(b,c){return{validateInput:function(){return b.clearError(),b.options.required&&a.isEmpty(b.item().val())?(b.raiseError(),!1):!0
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},raiseError:function(){b.trigger("error",[c.error.empty])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){return b.options.required?(d.push(b.validateInput()),void 0):(d.push(!0),void 0)},"{self} onSample":function(){b.option().length<1&&b.item().append(a("<option></option>"))},"{self} onChoiceAdded":function(c,d,e){b.option().eq(e).length>0?b.option().eq(e).before(a("<option></option>")):b.item().append(a("<option></option>"))
},"{self} onChoiceValueChanged":function(a,c,d,e){b.option().eq(d).val(e)},"{self} onChoiceTitleChanged":function(a,c,d,e){b.option().eq(d).text(e)},"{self} onChoiceRemoved":function(a,c,d){b.option().eq(d).remove()},"{self} onChoiceToggleDefault":function(a,c,d,e){b.option().removeAttr("selected"),e&&b.option().eq(d).attr("selected","selected")}}}),b.resolve()}),EasySocial.module("apps/fields/user/email/content",function(a){var b=this;EasySocial.Controller("Field.Email",{defaultOptions:{required:!1,regex:0,regexFormat:"",regexModifier:"","{field}":"[data-field-email]","{input}":"[data-field-email-input]"}},function(b,c){return{"{self} onRender":function(){var a=b.field().htmlData();
c.error=a.error||{}},validateInput:function(){var d=b.input().val();if(b.options.required&&a.isEmpty(d))return b.raiseError(c.error.required),!1;if(!a.isEmpty(d)&&b.options.regex){var e=new RegExp(b.options.regexFormat,b.options.regexModifier);if(!e.test(d))return b.raiseError(c.error.invalid),!1}return!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/user/file/content",function(){var b=this;
EasySocial.require().library("ui/sortable").done(function(a){EasySocial.Controller("Field.File",{defaultOptions:{required:!1,id:null,inputName:"",maxFile:0,"{field}":"[data-field-file]","{list}":"[data-field-file-list]","{item}":"[data-field-file-item]","{add}":"[data-field-file-add]","{dragPlaceholder}":".data-field-file-item-drag","{moveHandle}":"[data-field-file-move]"}},function(b,c){return{init:function(){var a=b.field().htmlData();c.error=a.error||{},c.message=a.message||{},c.maxFile=b.field().data("maxfile"),b.item().addController("EasySocial.Controller.Field.File.Item",{parent:b,message:c.message,error:c.error}),b.initSortable()
},initSortable:function(){b.list().sortable({items:b.item.selector,placeholder:"data-field-file-item-drag",handle:b.moveHandle.selector,forcePlaceholderSize:!0,start:function(a,c){b.dragPlaceholder().width(c.item.find(".file-wrap").width())}})},"{add} click":function(d){if(b.options.maxFile<1||b.item().length<b.options.maxFile){var f=b.item().length,g=a('<div class="data-field-file-item" data-field-file-item></div>');g.data("key",f),g.html(c.message.working),g.addController("EasySocial.Controller.Field.File.Item",{controller:{parent:b}}),b.list().append(g),EasySocial.ajax("fields/user/file/getUploadHtml",{id:b.options.id,key:f}).done(function(a){g.html(a)
}),b.options.maxFile>1&&b.item().length>=b.options.maxFile&&d.hide()}},"{item} uploadDone":function(){b.add().click()}}}),EasySocial.Controller("Field.File.Item",{defaultOptions:{required:!1,key:null,"{upload}":"[data-field-file-upload]","{progress}":"[data-field-file-progress]","{delete}":"[data-field-file-delete]","{clear}":"[data-field-file-clear]","{id}":"[data-field-file-id]","{tmp}":"[data-field-file-tmp]"}},function(b,c){return{init:function(){c.key=b.element.data("key")},"{upload} change":function(a){b.element.html(c.message.working),EasySocial.ajax("fields/user/file/upload",{id:c.parent.options.id,files:a,key:b.options.key},{type:"iframe"}).done(function(a){b.element.html(a),b.trigger("uploadDone")
}).fail(function(a){b.element.html(a||b.getErrorMsg())})},"{delete} click":function(){var e=b.tmp().val(),f=b.id().val();b.element.html(c.message.working),EasySocial.ajax("fields/user/file/delete",{id:c.parent.options.id,key:b.options.key,tmp:e,fileid:f}).done(function(a){b.element.html(a),b.trigger("fileDeleted")}).fail(function(a){b.element.html(a||b.getErrorMsg())})},"{clear} click":function(){b.element.html(c.message.working),EasySocial.ajax("fields/user/file/getUploadHtml",{id:c.parent.options.id,key:b.options.key}).done(function(a){b.element.html(a)
})},getErrorMsg:function(){return msg=a('<span class="alert field-file-error">'+c.error.unknown+'<button class="close" type="button" data-field-file-clear>\xd7</button></span>')}}}),b.resolve()})}),EasySocial.module("apps/fields/user/file/sample_content",function(){var b=this;EasySocial.Controller("Field.File",{defaultOptions:{"{sizeText}":"[data-field-file-size-text]","{size}":"[data-field-file-size]","{add}":"[data-field-file-add]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"size_limit":a.size().text(e);
break;case"show_size_limit":a.sizeText().toggle(!!e);break;case"file_limit":a.add().toggle(1>e||e>1)}}}}),b.resolve()}),EasySocial.module("apps/fields/user/gender/content",function(a){var b=this;EasySocial.Controller("Field.Gender",{defaultOptions:{required:!1,"{field}":"[data-field-gender]","{selection}":"[data-field-gender-select]"}},function(b,c){return{"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},validateInput:function(){if(!b.options.required)return!0;b.clearError();var c=b.selection(":checked").val();
return a.isEmpty(c)?(b.raiseError(),!1):!0},raiseError:function(){b.trigger("error",[c.error.required])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())},"{selection} click":function(){b.validateInput()}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_email/content",function(a){var b=this;EasySocial.Controller("Field.Joomla_email",{defaultOptions:{required:!0,id:null,userid:null,reconfirm:!1,event:null,registration:null,"{field}":"[data-field-joomla_email]","{input}":"[data-field-email-input]","{confirm}":"[data-field-email-reconfirm-input]","{confirmFrame}":"[data-field-email-reconfirm-frame]"}},function(b,c){return{init:function(){b.origEmail=b.input().val(),value=b.input().val(),c.reconfirm&&!c.registration&&value&&b.confirmFrame().hide()
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{input} blur":function(){var e=b.input().val();c.reconfirm&&e!==b.origEmail&&b.confirmFrame().show(),!c.reconfirm||e!==b.origEmail||"onEdit"!==c.event&&"onAdminEdit"!==c.event||b.confirmFrame().hide(),b.validateInput()},"{confirm} blur":function(){b.validateInput()},validateInput:function(){b.clearError();var d=b.input().val();if(a.isEmpty(d))return b.options.required?(b.raiseError(c.error.required),!1):!0;if(b.options.reconfirm){var e=b.confirm().val();
if(d!==b.origEmail&&a.isEmpty(e))return b.raiseError(c.error.reconfirmrequired),!1;if(!a.isEmpty(e)&&d!==e)return b.raiseError(c.error.mismatch),!1}return b.checkInput().done(function(){b.clearError()}).fail(function(a){b.raiseError(a)})},checkInput:function(){return EasySocial.ajax("fields/user/joomla_email/isValid",{id:b.options.id,userid:b.options.userid,email:b.input().val()})},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"!==e&&d.push(b.validateInput())
}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_email/registermini_content",function(a){var b=this;EasySocial.Controller("Field.Joomla_email.Mini",{defaultOptions:{require:!0,id:null,"{field}":"[data-field-joomla_email]","{input}":"#email","{confirm}":"[data-field-email-reconfirm-input]"}},function(b,c){return{init:function(){b.origEmail=b.input().val()},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{input} keyup":function(a){a.val().length>0&&b.delayedCheck()},"{confirm} blur":function(){b.checkEmail()
},state:!1,delayedCheck:a.debounce(function(){b.checkEmail()},250),checkEmail:function(){b.clearError();var d=b.input().val();if(b.options.required&&0==d.length)return b.raiseError(c.error.required),!1;if(!a.isEmpty(d)&&b.options.regex){var e=new RegExp(b.options.regexFormat,b.options.regexModifier);if(!e.test(d))return b.raiseError(c.error.format),!1}if(c.reconfirm){var f=b.confirm().val();if(d!==b.origEmail&&a.isEmpty(f))return b.raiseError(c.error.reconfirmrequired),!1;if(!a.isEmpty(f)&&d!==f)return b.raiseError(c.error.mismatch),!1
}if(d.length>0){var g=a.Deferred();b.input().addClass("is-loading");var d=b.input().val();return EasySocial.ajax("fields/user/joomla_email/isValid",{id:b.options.id,userid:0,email:d}).done(function(){g.resolve()}).fail(function(a){b.raiseError(a),g.reject()}).always(function(){b.input().removeClass("is-loading")}),g}return!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"===e&&(b.options.required||b.input().val().length>0)&&d.push(b.checkEmail())
},setLoaded:function(){b.trigger("loaded")}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_email/sample_content",function(){var b=this;EasySocial.Controller("Field.Joomla_email.Sample",{defaultOptions:{"{confirmEmail}":"[data-field-email-reconfirm-frame]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"reconfirm_email":a.confirmEmail().toggle(e)}}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_fullname/content",function(a){var b=this;EasySocial.Controller("Field.Joomla_fullname",{defaultOptions:{nameFormat:1,max:0,required:!0,"{field}":"[data-field-joomla_fullname]","{firstName}":"[data-field-jname-first]","{middleName}":"[data-field-jname-middle]","{lastName}":"[data-field-jname-last]","{name}":"[data-field-jname-name]"}},function(b,c){return{init:function(){c.nameFormat=b.field().data("name-format"),c.max=b.field().data("max")
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error},validateInput:function(){return b.clearError(),c.required?3==c.nameFormat?a.isEmpty(b.name().val())?(b.raiseError(),!1):!0:a.isEmpty(b.firstName().val())?(b.raiseError(),!1):!0:!0},raiseError:function(){b.trigger("error",c.error.empty)},clearError:function(){b.trigger("clear")},"{firstName} blur":function(){b.validateInput()},"{name} blur":function(){b.validateInput()},"{self} onError":function(){b.raiseError()},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())
}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_fullname/sample_content",function(){var b=this;EasySocial.Controller("Field.Joomla_fullname.Sample",{defaultOptions:{"{fullnameFormat}":"[data-fullname-format]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"format":a.switchFormat(e)}},switchFormat:function(b){a.fullnameFormat().hide(),a.fullnameFormat().eq(b-1).show()}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_password/content",function(a){var b=this;
EasySocial.require().library("passwordstrength").done(function(){EasySocial.Controller("Field.Joomla_password",{defaultOptions:{event:null,triggerError:!0,required:!1,passwordStrength:!1,reconfirmPassword:!1,requireOriginal:!1,min:4,max:0,minInteger:0,minSymbol:0,minUpperCase:0,"{field}":"[data-field-joomla_password]","{original}":"[data-field-password-orig]","{input}":"[data-field-password-input]","{reconfirm}":"[data-field-password-confirm]","{pwResetSubmitButton}":"[data-password-reset-submit]","{warning}":"[data-field-password-warning]","{reconfirmNotice}":"[data-reconfirmPassword-failed]","{strength}":"[data-password-strength]"}},function(b,c){return{init:function(){c.passwordStrength&&b.initPasswordStrength()
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error},initPasswordStrength:function(){b.input().password_strength({container:b.strength.selector,minLength:c.min,texts:{1:b.strength().data("message-1"),2:b.strength().data("message-2"),3:b.strength().data("message-3"),4:b.strength().data("message-4"),5:b.strength().data("message-5")},onCheck:function(a){1>=a&&b.strength().removeClass("text-warning").removeClass("text-success").addClass("text-error small help-inline"),a>1&&3>=a&&b.strength().removeClass("text-error").removeClass("text-success").addClass("text-warning small help-inline"),a>=4&&b.strength().removeClass("text-error").removeClass("text-warning").addClass("text-success small help-inline")
}})},"{input} keyup":function(){b.validatePassword()},"{input} blur":function(){b.validatePassword()},"{reconfirm} keyup":function(){b.validatePassword()},"{reconfirm} blur":function(){b.validatePassword()},validatePassword:function(){b.clearError();b.input().val(),b.reconfirm().val();return"onRegister"!==b.options.event||b.validatePasswordInput()?"onEdit"!==b.options.event||b.validatePasswordEdit()?b.options.reconfirmPassword&&!b.validatePasswordConfirm()?!1:!0:!1:!1},validatePasswordInput:function(){var d=b.input().val();
if(a.isEmpty(d))return b.raiseError(c.error.empty),!1;if(b.options.min>0&&d.length<b.options.min)return b.raiseError(c.error.min),!1;if(b.options.max>0&&d.length>b.options.max)return b.raiseError(c.error.max),!1;if(b.options.minInteger>0){var e=d.match(/[0-9]/g);if(!e||e.length<b.options.minInteger)return b.raiseError(c.error.mininteger),!1}if(b.options.minSymbol>0){var e=d.match(/[\W]/g);if(!e||e.length<b.options.minSymbol)return b.raiseError(c.error.minsymbols),!1}if(b.options.minUpperCase>0){var e=d.match(/[A-Z]/g);
if(!e||e.length<b.options.minUpperCase)return b.raiseError(c.error.minupper),!1}return!0},validatePasswordEdit:function(){var d=b.original().val(),e=b.input().val();return a.isEmpty(e)&&a.isEmpty(d)?!0:a.isEmpty(d)&&b.options.requireOriginal?(b.raiseError(c.error.emptyoriginal),!1):b.validatePasswordInput()},validatePasswordConfirm:function(){var d=b.input().val(),e=b.reconfirm().val();if(!a.isEmpty(d)||!a.isEmpty(e)){if(a.isEmpty(d))return b.raiseError(c.error.empty),!1;if(a.isEmpty(e))return b.raiseError(c.error.emptyconfirm),!1;
if(d!==e)return b.raiseError(c.error.mismatch),!1}return!0},raiseError:function(a){b.options.triggerError?b.trigger("error",[a]):(b.warning().show(),b.warning().text(a))},clearError:function(){b.options.triggerError?b.trigger("clear"):(b.warning().hide(),b.warning().text(""))},"{pwResetSubmitButton} click":function(){return b.validatePassword()},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"!==e&&d.push(b.validatePassword())}}}),b.resolve()})}),EasySocial.module("apps/fields/user/joomla_password/registermini_content",function(a){var b=this;
EasySocial.Controller("Field.Joomla_password.Mini",{defaultOptions:{required:!1,reconfirmPassword:!1,min:4,max:0,"{field}":"[data-field-joomla_password]","{input}":"[data-password]","{reconfirm}":"[data-field-password-confirm]","{reconfirmNotice}":"[data-reconfirmPassword-failed]"}},function(b,c){return{"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error},"{input} keyup":function(){b.checkPassword()},"{reconfirm} keyup":function(){b.validatePassword()},"{reconfirm} blur":function(){b.validatePassword()
},checkPassword:function(){b.clearError();var a=b.input().val();if(b.options.required&&0==a.length)return b.raiseError(c.error.empty),!1;if(b.options.min>0&&a.length<b.options.min)return b.raiseError(c.error.min),!1;if(b.options.max>0&&a.length>b.options.max)return b.raiseError(c.error.long),!1;if(b.options.minInteger>0){var d=a.match(/[0-9]/g);if(!d||d.length<b.options.minInteger)return b.raiseError(c.error.min),!1}if(b.options.minSymbol>0){var d=a.match(/[\W]/g);if(!d||d.length<b.options.minSymbol)return b.raiseError(c.error.minsymbols),!1
}if(b.options.minUpperCase>0){var d=a.match(/[A-Z]/g);if(!d||d.length<b.options.minUpperCase)return b.raiseError(c.error.minupper),!1}return!0},validatePassword:function(){b.clearError();b.input().val(),b.reconfirm().val();return b.options.reconfirmPassword&&!b.validatePasswordConfirm()?!1:!0},validatePasswordConfirm:function(){var d=b.input().val(),e=b.reconfirm().val();if(!a.isEmpty(d)||!a.isEmpty(e)){if(a.isEmpty(d))return b.raiseError(c.error.empty),!1;if(a.isEmpty(e))return b.raiseError(c.error.emptyconfirm),!1;
if(d!==e)return b.raiseError(c.error.mismatch),!1}return!0},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"===e&&d.push(b.checkPassword())},clearError:function(){b.trigger("clear")},raiseError:function(a){b.trigger("error",[a])}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_password/sample_content",function(){var b=this;EasySocial.Controller("Field.Joomla_password.Sample",{defaultOptions:{"{confirmPassword}":"[data-password-confirm]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"reconfirm_password":a.confirmPassword().toggle(e)
}}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_timezone/content",function(){var b=this;EasySocial.require().library("chosen").done(function(a){EasySocial.Controller("Field.Joomla_timezone",{defaultOptions:{required:!1,"{field}":"[data-field-joomla_timezone]","{input}":"[data-field-joomla_timezone-input]"}},function(b,c){return{init:function(){c.message=b.element.find("[data-error]").data("error"),b.input().chosen({allow_single_deselect:!0,search_contains:!0})},validateInput:function(){if(!b.options.required)return!0;
b.clearError();var c=b.input().val();return"null"===c||a.isEmpty(c)?(b.raiseError(),!1):!0},raiseError:function(){b.trigger("error",c.message)},clearError:function(){b.trigger("clear")},"{input} change":function(){b.validateInput()},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()})}),EasySocial.module("apps/fields/user/joomla_username/content",function(a){var b=this;EasySocial.Controller("Field.Joomla_username",{defaultOptions:{event:null,id:null,userid:null,"{button}":"[data-username-check]","{input}":"[data-username-input]","{available}":"[data-username-available]"}},function(b){return{state:!1,init:function(){},"{button} click":function(){b.delayedCheck()
},"{input} keyup":function(){b.delayedCheck()},delayedCheck:a.debounce(function(){b.checkUsername()},250),checkUsername:function(){b.clearError();var c=a.Deferred(),d=b.button();d.addClass("is-loading");var e=b.input().val();return EasySocial.ajax("fields/user/joomla_username/isValid",{id:b.options.id,userid:b.options.userid,username:e,event:b.options.event}).done(function(){b.available().show(),c.resolve()}).fail(function(a){b.raiseError(a),b.available().hide(),c.reject()}).always(function(){d.removeClass("is-loading")
}),c},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"!==e&&d.push(b.checkUsername())}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_username/registermini_content",function(a){var b=this;EasySocial.Controller("Field.Joomla_username.Mini",{defaultOptions:{id:null,required:!1,"{field}":"[data-field-joomla_username]","{input}":"#joomla_username"}},function(b,c){return{init:function(){},"{self} onRender":function(){var a=b.field().htmlData();
c.error=a.error||{}},"{input} keyup":function(a){a.val().length>0&&b.delayedCheck()},state:!1,delayedCheck:a.debounce(function(){b.checkUsername()},250),checkUsername:function(){var d=b.input().val();if(b.options.required&&0==d.length)return b.raiseError(c.error.empty),!1;if(d.length>0){var e=a.Deferred();return b.clearError(),b.input().addClass("is-loading"),EasySocial.ajax("fields/user/joomla_username/isValid",{id:b.options.id,userid:0,username:d}).done(function(){b.setLoaded(),e.resolve()}).fail(function(a){b.raiseError(a),e.reject()
}).always(function(){b.input().removeClass("is-loading")}),e}return!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"===e&&(b.options.required||b.input().val().length>0)&&d.push(b.checkUsername())},setLoading:function(a){b.trigger("loading",[a])},setLoaded:function(){b.trigger("loaded")}}}),b.resolve()}),EasySocial.module("apps/fields/user/joomla_username/sample_content",function(){var b=this;EasySocial.Controller("Field.Joomla_username.Sample",{defaultOptions:{"{checkUsername}":"[data-check-username]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"check_username":a.checkUsername().toggle(!!e)
}}}}),b.resolve()}),EasySocial.module("apps/fields/user/keycaptcha/content",function(){var b=this;EasySocial.Controller("Field.Keycaptcha",{defaultOptions:{required:!0,"{input}":"[data-field-keycaptcha]"}},function(a,b){return{"{self} onRender":function(){var c=a.input().htmlData();b.error=c.error||{}},validateInput:function(){a.clearError();var b=a.input().val();return b.length>100?!0:(a.raiseError(),!1)},raiseError:function(){a.trigger("error",b.error.required)},clearError:function(){a.trigger("clear")},"{self} onSubmit":function(b,c,d){d.push(a.validateInput())
}}}),b.resolve()}),EasySocial.module("apps/fields/user/keycaptcha/registermini_content",function(a){var b=this;EasySocial.require(),EasySocial.Controller("Field.keycaptcha.Mini",{defaultOptions:{id:null,required:!1,"{input}":"[data-field-keycaptcha]"}},function(b){return{init:function(){},validateInput:function(){b.clearError();var c=a.Deferred(),d=b.input().val(),e=d.split("|");return 1==e[4]?(c.resolve(),!0):(b.raiseError(msg),c.reject(),c)},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")
},"{self} onSubmit":function(a,b,c,d){}}}),b.resolve()}),EasySocial.module("apps/fields/user/multidropdown/content",function(a){var b=this;EasySocial.require().library("ui/sortable").done(function(){EasySocial.Controller("Field.Multidropdown",{defaultOptions:{required:!1,id:null,inputName:"",max:0,"{field}":"[data-field-multidropdown]","{list}":"[data-field-multidropdown-list]","{item}":"[data-field-multidropdown-item]","{input}":"[data-field-multidropdown-input]","{add}":"[data-field-multidropdown-add]","{delete}":"[data-field-multidropdown-delete]","{move}":"[data-field-multidropdown-move]"}},function(b,c){return{init:function(){c.message=b.element.find("[data-error]").data("error"),c.max=b.field().data("max"),b.initSortable()
},initSortable:function(){b.list().sortable({items:b.item.selector,handle:b.move.selector})},"{add} click":function(a){if(b.options.max<1||b.item().length<b.options.max){var c=b.item().eq(0).clone();c.find(b.input.selector).attr("value","").val(""),b.list().append(c)}b.options.max>0&&b.item().length>=b.options.max&&a.hide()},"{delete} click":function(a){var e=a.parents(b.item.selector);b.item().length>1?e.remove():e.find(b.input.selector).val(""),c.max>0&&b.item().length<b.options.max&&b.add().show()},"{self} onConfigChange":function(a,c,d,e){switch(d){case"add_button_text":b.add().text(e)
}},raiseError:function(){b.trigger("error",[c.message])},"{self} onSubmit":function(c,d,e){if(!b.options.required)return e.push(!0),void 0;var f=!1;a.each(b.input(),function(b,c){return a.isEmpty(a(c).val())?void 0:(f=!0,!1)}),f||b.raiseError(),e.push(f)}}}),b.resolve()})}),EasySocial.module("apps/fields/user/multilist/content",function(a){var b=this;EasySocial.Controller("Field.Multilist",{defaultOptions:{required:null,multiple:null,"{field}":"[data-field-multilist]","{item}":"[data-field-multilist-item]","{option}":"[data-field-multilist-item] option"}},function(b,c){return{"{self} onRender":function(){var a=b.field().htmlData();
c.error=a.error||{}},validateInput:function(){return b.clearError(),b.options.multiple&&b.item().children(":selected").length<=0?(b.raiseError(),!1):""==b.item().children(":selected").val()?(b.raiseError(),!1):!0},raiseError:function(){b.trigger("error",[c.error.empty])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){return b.options.required?(d.push(b.validateInput()),void 0):(d.push(!0),void 0)},"{self} onSample":function(){b.option().length<1&&b.item().append(a("<option></option>"))
},"{self} onChoiceAdded":function(c,d,e){b.option().eq(e).length>0?b.option().eq(e).before(a("<option></option>")):b.item().append(a("<option></option>"))},"{self} onChoiceValueChanged":function(a,c,d,e){b.option().eq(d).val(e)},"{self} onChoiceTitleChanged":function(a,c,d,e){b.option().eq(d).text(e)},"{self} onChoiceRemoved":function(a,c,d){b.option().eq(d).remove()},"{self} onChoiceToggleDefault":function(a,c,d,e){e?b.option().eq(d).attr("selected","selected"):b.option().eq(d).removeAttr("selected")}}}),b.resolve()
}),EasySocial.module("apps/fields/user/multitextbox/content",function(a){var b=this;EasySocial.require().library("ui/sortable").done(function(){EasySocial.Controller("Field.Multitextbox",{defaultOptions:{required:!1,id:null,inputName:"",max:0,"{field}":"[data-field-multitextbox]","{list}":"[data-field-multitextbox-list]","{item}":"[data-field-multitextbox-item]","{input}":"[data-field-multitextbox-input]","{add}":"[data-field-multitextbox-add]","{delete}":"[data-field-multitextbox-delete]","{move}":"[data-field-multitextbox-move]"}},function(b,c){return{init:function(){var a=b.field().htmlData();
c.error=a.error||{},c.max=b.field().data("max"),b.initSortable()},initSortable:function(){b.list().sortable({items:b.item.selector,handle:b.move.selector})},"{add} click":function(a){if(b.options.max<1||b.item().length<b.options.max){var c=b.item().eq(0).clone();c.find(b.input.selector).attr("value","").val(""),b.list().append(c)}b.options.max>0&&b.item().length>=b.options.max&&a.hide()},"{delete} click":function(a){var c=a.parents(b.item.selector);b.item().length>1?c.remove():c.find(b.input.selector).val(""),b.options.max>0&&b.item().length<b.options.max&&b.add().show()
},"{self} onConfigChange":function(a,c,d,e){switch(d){case"add_button_text":b.add().text(e)}},raiseError:function(){b.trigger("error",[c.error.required])},"{self} onSubmit":function(c,d,e){if(!b.options.required)return e.push(!0),void 0;var f=!1;a.each(b.input(),function(b,c){return a.isEmpty(a(c).val())?void 0:(f=!0,!1)}),f||b.raiseError(),e.push(f)}}}),b.resolve()})}),EasySocial.module("apps/fields/user/password/content",function(a){var b=this;EasySocial.Controller("Field.Password",{defaultOptions:{required:!1,min:0,max:0,"{field}":"[data-field-password]","{input}":"[data-field-password-input]","{notice}":"[data-check-notice]"}},function(b,c){return{init:function(){var a=b.field().htmlData();
c.error=a.error||{},c.min=b.field().data("min"),c.max=b.field().data("max")},"{input} keyup":function(){b.validateInput()},"{input} blur":function(){b.validateInput()},validateInput:function(){b.clearError();var d=b.input().val();return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.required),!1):!a.isEmpty(d)&&b.options.min>0&&d.length<b.options.min?(b.raiseError(c.error.short),!1):b.options.max>0&&d.length>b.options.max?(b.raiseError(c.error.long),!1):!0},raiseError:function(a){b.trigger("error",[a])
},clearError:function(){b.trigger("clear")},"{self} onError":function(a,d,e){"required"===e&&b.raiseError(c.error.required)},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/user/password/sample_content",function(){var b=this;EasySocial.Controller("Field.Password.Sample",{defaultOptions:{"{input}":"[data-input]",min:"",max:""}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"placeholder":a.input().attr("placeholder",e);
break;case"default":a.input().val(e)}}}}),b.resolve()}),EasySocial.module("apps/fields/user/permalink/content",function(a){var b=this;EasySocial.Controller("Field.Permalink",{defaultOptions:{required:!1,max:0,id:null,userid:null,"{field}":"[data-field-permalink]","{checkButton}":"[data-permalink-check]","{input}":"[data-permalink-input]","{available}":"[data-permalink-available]"}},function(b,c,d){return{state:!1,init:function(){c.message={length:d.find("[data-error-length]").data("error-length"),required:d.find("[data-error-required]").data("error-required")},c.max=b.field().data("max")
},"{checkButton} click":function(){b.delayedCheck()},"{input} keyup":function(){b.delayedCheck()},delayedCheck:a.debounce(function(){b.checkPermalink()},250),checkPermalink:function(){b.clearError();var d=b.input().val();if(b.available().hide(),b.options.max>0&&d.length>b.options.max)return b.raiseError(c.message.length),!1;if(!a.isEmpty(d)){b.checkButton().addClass("is-loading");var e=a.Deferred();return EasySocial.ajax("fields/user/permalink/isValid",{id:b.options.id,userid:b.options.userid,permalink:d}).done(function(){b.checkButton().removeClass("is-loading"),b.available().show(),e.resolve()
}).fail(function(a){b.raiseError(a),b.checkButton().removeClass("is-loading"),b.available().hide(),e.reject()}),e}return b.options.required&&a.isEmpty(d)?(b.available().hide(),b.raiseError(c.message.required),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.checkPermalink())}}}),b.resolve()}),EasySocial.module("apps/fields/user/permalink/sample_content",function(){var b=this;EasySocial.Controller("Field.Permalink.Sample",{defaultOptions:{"{checkPermalink}":"[data-check-permalink]"}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"check_permalink":a.checkPermalink().toggle(!!e)
}}}}),b.resolve()}),EasySocial.module("apps/fields/user/relationship/content",function(){var b=this;EasySocial.require().script("site/friends/suggest").done(function(a){EasySocial.Controller("Field.Relationship",{defaultOptions:{required:!1,id:null,types:null,fieldname:null,actor:null,target:null,userid:null,"{type}":"[data-rs-type]","{request}":"[data-rs-request]","{field}":"[data-field-relationship]","{pendingTitle}":"[data-rs-pending-title]","{relations}":"[data-rs-relations]","{delete}":"[data-rs-delete]","{rejectRequest}":"[data-rs-reject]","{approveRequest}":"[data-rs-approve]"}},function(b,c){return{init:function(){EasySocial.module("field.relationship/"+c.id).done(function(a){b.options.types=a
}),b.addPlugin("form")},getRequestId:function(){return b.request().data("id")},getRequestWrapper:function(b){return wrapper=a('[data-rs-request][data-id="'+b+'"]')},showTypeSelection:function(){b.type().val(b.type().children(":first").val()),b.type().removeClass("t-hidden").show(),b.type().removeAttr("disabled")},"{self} relationshipDeleted":function(){b.showTypeSelection()},"{delete} click":function(a,d){d.stopPropagation(),d.preventDefault(),a.addClass("is-loading"),EasySocial.ajax("fields/user/relationship/delete",{id:c.id,userid:c.userid,relid:b.getRequestId()}).done(function(){a.removeClass("is-loading"),b.relations().remove(),b.showTypeSelection()
})},"{approveRequest} click":function(d){var f=d.data("id");d.addClass("is-loading"),EasySocial.ajax("fields/user/relationship/approve",{id:c.id,relid:f,inputName:c.fieldname}).done(function(c){a("[data-rs-request-hidden]").remove(),wrapper=b.getRequestWrapper(f),d.removeClass("is-loading"),b.request().not(wrapper).remove(),wrapper.replaceWith(c)})},"{rejectRequest} click":function(a,d){d.preventDefault(),d.stopPropagation();var e=a.data("id");EasySocial.ajax("fields/user/relationship/reject",{id:c.id,relid:e}).done(function(){wrapper=b.getRequestWrapper(e),wrapper.remove(),b.trigger("relationshipDeleted")
})}}}),EasySocial.Controller("Field.Relationship.Form",{defaultOptions:{"{field}":"[data-field-relationship]","{type}":"[data-rs-type]","{input}":"[data-rs-input]","{target}":"[data-rs-target]","{targetAvatar}":"[data-rs-target-avatar]","{targetName}":"[data-rs-target-name]","{targetDelete}":"[data-rs-form-delete]","{textboxlistDelete}":"[data-textboxlist-itemRemoveButton]",target:!1}},function(b,c){return{init:function(){b.input().addController(EasySocial.Controller.Friends.Suggest,{max:1,name:b.parent.options.fieldname+"[target][]"});
var a=b.field().htmlData();a&&a.error&&(c.error=a.error),c.target=!0},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error},"{type} change":function(a){var f=(a.val(),a.find(":selected")),g=f.data("connection")?!0:!1;return c.target=!1,g?(b.input().controller("Textboxlist").clearItems(),b.target().hide(),b.input().show(),b.validateInput(c.error.target),void 0):(c.target=!0,b.clearError(),b.input().hide(),b.target().hide(),void 0)},"{input} addItem":function(d,e,f){var f=a("<div/>").html(f.html),g=f.find("[data-suggest-avatar]").attr("src"),h=f.find("[data-suggest-title]").val(),i=f.find("[data-suggest-id]").val();
g&&b.targetAvatar().attr("src",g),h&&b.targetName().text(h),i&&b.targetDelete().data("id",i),b.input().hide(),b.target().show(),c.target=!0,b.clearError()},"{input} blur":function(){b.validateInput(c.error.target)},"{targetDelete} click":function(a){var e=a.data("id");b.input().controller("Textboxlist").removeItem(e),b.type().removeAttr("disabled"),b.input().show(),b.target().hide(),c.target=!1,b.validateInput(c.error.target)},"{self} onSubmit":function(a,d,e){e.push(b.validateInput(c.error.target))},validateInput:function(){var e=b.parent.options.required,f=b.type().val(),g=["na","single","widowed","separated","divorced"];
return e&&"na"==f?(b.raiseError(c.error.required),!1):e||-1===a.inArray(f,g)?-1!==a.inArray(f,g)||c.target?(b.clearError(),!0):(b.raiseError(c.error.target),!1):(b.clearError(),!0)},raiseError:function(a){a||(a=c.error.required),b.trigger("error",[a])},clearError:function(){b.trigger("clear")}}}),b.resolve()})}),EasySocial.module("apps/fields/user/separator/sample",function(a){var b=this;EasySocial.Controller("Field.Separator.Sample",{defaultOptions:{"{items}":"[data-separator-type]"}},function(b){return{"{self} onConfigChange":function(c,d,e,f){if("type"==e){var g=a("[data-separator-"+f+"]");
b.items().hide(),g.show()}}}}),b.resolve()}),EasySocial.module("apps/fields/user/terms/content",function(){var b=this;EasySocial.Controller("Field.Terms",{defaultOptions:{event:null,required:!1,"{textbox}":"[data-field-terms-textbox]","{checkbox}":"[data-field-terms-checkbox]"}},function(a,b){return{"{self} onRender":function(){var c=a.element.htmlData();b.error=c.error||{}},validateInput:function(){return a.clearError(),"onAdminEdit"==b.event?!0:b.required&&!a.checkbox().is(":checked")?(a.raiseError(b.error.required),!1):!0
},"{checkbox} change":function(){a.validateInput()},raiseError:function(){a.trigger("error",[b.error.required])},clearError:function(){a.trigger("clear")},"{self} onSubmit":function(b,c,d){d.push(a.validateInput())},"{self} onConfigChange":function(b,c,d,e){switch(d){case"message":a.textbox().val(e)}}}}),b.resolve()}),EasySocial.module("apps/fields/user/textarea/content",function(a){var b=this;EasySocial.Controller("Field.Textarea",{defaultOptions:{required:!1,min:0,max:0,"{field}":"[data-field-textarea]","{input}":"[data-field-textarea-input]"}},function(b,c){return{init:function(){c.min=b.field().data("min"),c.max=b.field().data("max")
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},validateInput:function(){b.clearError();var d=b.input().val();return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.required),!1):!a.isEmpty(d)&&b.options.min>0&&d.length<b.options.min?(b.raiseError(c.error.short),!1):b.options.max>0&&d.length>b.options.max?(b.raiseError(c.error.long),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())
},"{self} onError":function(a,d,e){"required"===e&&b.raiseError(c.error.required)},"{input} keyup":function(){b.validateInput()},"{self} onConfigChange":function(a,c,d,e){switch(d){case"default":b.input().val(e);break;case"placeholder":b.input().attr("placeholder",e);break;case"readonly":e?b.input().attr("readonly","readonly"):b.input().removeAttr("readonly")}}}}),b.resolve()}),EasySocial.module("apps/fields/user/textbox/content",function(a){var b=this;EasySocial.Controller("Field.Textbox",{defaultOptions:{required:!1,min:0,max:0,"{field}":"[data-field-textbox]","{input}":"[data-field-textbox-input]","{notice}":"[data-check-notice]"}},function(b,c){return{init:function(){c.min=b.field().data("min"),c.max=b.field().data("max")
},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{input} keyup":function(){b.validateInput()},"{input} blur":function(){b.validateInput()},validateInput:function(){b.clearError();var d=b.input().val();return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.required),!1):!a.isEmpty(d)&&b.options.min>0&&d.length<b.options.min?(b.raiseError(c.error.short),!1):b.options.max>0&&d.length>b.options.max?(b.raiseError(c.error.long),!1):!0},raiseError:function(a){b.trigger("error",[a])
},clearError:function(){b.trigger("clear")},"{self} onError":function(a,d,e){"required"===e&&b.raiseError(c.error.required),"validate"===e&&b.raiseError(c.error.invalid)},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())}}}),b.resolve()}),EasySocial.module("apps/fields/user/textbox/sample_content",function(){var b=this;EasySocial.Controller("Field.Textbox.Sample",{defaultOptions:{"{input}":"[data-input]",min:"",max:"",regex_validate:!1,regex_format:"",regex_modifier:""}},function(a){return{init:function(){},"{self} onConfigChange":function(b,c,d,e){switch(d){case"placeholder":a.input().attr("placeholder",e);
break;case"default":a.input().val(e);break;case"readonly":e?a.input().attr("disabled","disabled"):a.input().removeAttr("disabled")}}}}),b.resolve()}),EasySocial.module("apps/fields/user/url/content",function(a){EasySocial.Controller("Field.Url",{defaultOptions:{required:!1,"{field}":"[data-field-url]","{input}":"[data-field-url-input]"}},function(b,c){return{"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error||{}},"{input} blur":function(){b.validateInput()},validateInput:function(){b.clearError();
var d=b.input().val();return b.options.required&&a.isEmpty(d)?(b.raiseError(c.error.empty),!1):!0},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onError":function(){b.raiseError(c.error.empty)}}})}),EasySocial.module("apps/fields/user/url/sample_content",function(){var b=this;EasySocial.Controller("Field.Url.Sample",{defaultOptions:{"{urlInput}":"[data-url-input]"}},function(a){return{"{self} onConfigChange":function(b,c,d,e){switch(d){case"placeholder":a.urlInput().attr("placeholder",e);
break;case"default":a.urlInput().val(e)}}}}),b.resolve()}),EasySocial.module("shared/elements",function(a){var b=this,c=!1;a(document).on("click.button.data-bs-api","[data-bs-toggle-value]",function(){var b=a(this),c=b.siblings("[data-bs-toggle-value]"),d=b.parents('[data-bs-toggle="radio-buttons"]');if(!d.hasClass("disabled")&&d.length>0){var e=a(this).data("bs-toggle-value");return b.addClass("active"),c.removeClass("active"),d.find("input[type=hidden]").val(e).trigger("change"),void 0}}),a(document).on("change.form.toggler","[data-toggler-checkbox]",function(){var b=a(this),c=b.is(":checked"),d=b.parents("[data-bs-toggler]");
if(d.length>0){var e=d.find("input[type=hidden]");e.val(c?1:0).trigger("change")}}),EasySocial.isMobile=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}};var d="[data-es-truncater] > [data-readmore]";a(document).on("click.es.strings.truncater",d,function(){var b=a(this).parent(),c=b.find("[data-original]"),d=b.find("[data-text]");a(this).addClass("t-hidden"),d.addClass("t-hidden"),c.removeClass("t-hidden")});var e=0;window.onmousemove=function(){e++,f()};var f=a.debounce(function(){!c&&e>10?(c=!0,e=0,a(document).on("mouseover.tooltip.data-es-api","[data-es-provide=tooltip]",function(){a(this).tooltip({delay:{show:200,hide:100},animation:!1,template:'<div id="es" class="tooltip tooltip-es"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',container:"body"}).tooltip("show")
})):e=0},500);EasySocial.isMobile()||a(document).on("mouseover.tooltip.data-es-api","[data-es-provide=tooltip]",function(){a(this).tooltip({delay:{show:200,hide:100},animation:!1,template:'<div id="es" class="tooltip tooltip-es"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',container:"body"}).tooltip("show")}),a(document).on("mouseover.popover.data-es-api","[data-es-provide=popover]",function(){a(this).popover({delay:{show:200,hide:100},animation:!1,trigger:"hover",container:"body"}).popover("show")
});var g=function(a){return a%400?a%100?a%4?!1:!0:!1:!0};a(document).on("keyup","[data-date-form] [data-date-day]",function(){if(a.trim(a(this).val())){var b=parseInt(a(this).siblings("[data-date-year]").val()||a(this).siblings("[data-date-year]").data("dateDefault")),c=parseInt(a(this).siblings("[data-date-month]").val()||a(this).siblings("[data-date-month]").data("dateDefault")),d=parseInt(a(this).val()||a(this).data("dateDefault")),e=/1|3|5|7|8|10|12/.test(c)?31:30;2==c&&(e=g(b)?29:28),1>d&&(d=1),d>e&&(d=e),a.isNumeric(d)?a(this).val(d):a(this).val("")
}}),a(document).on("keyup","[data-date-form] [data-date-year]",function(){if(a.trim(a(this).val())){var b=parseInt(a(this).val());1>b&&(b=1),a.isNumeric(b)?a(this).val(b):a(this).val("")}}),b.resolve()}),EasySocial.module("shared/fields/base",function(a){var b=this;EasySocial.Controller("Field.Base",{defaultOptions:{regPrefix:"easysocial/",modPrefix:"field.",ctrlPrefix:"EasySocial.Controller.Field.",id:null,name:null,element:null,required:!1,mode:"edit","{field}":"[data-field]","{content}":"[data-content]","{notice}":"[data-check-notice]"}},function(b,c,d){return{init:function(){c.name=d.data("name"),c.element=c.element||d.data("field-item"),c.id=d.data("id"),c.required=d.data("required")?!0:!1,b.triggerFields(),b.initializeErrorMessages()
},initializeErrorMessages:function(){var a=b.notice(),c=a.text().trim();c.length<=0||b.showError(c)},showError:function(a){var c=b.content();c.find("[data-field-error]").html(a)},triggerFields:function(){var a=b.field(),d="onEdit";"registermini"==c.mode&&(d="onRegisterMini"),"register"==c.mode&&(d="onRegister"),"edit"==c.mode&&(d="onEdit"),"adminedit"==c.mode&&(d="onAdminEdit"),"sample"==c.mode&&(d="onSample"),"display"==c.mode&&(d="onDisplay"),a.trigger("onRender"),a.trigger(d)},"{field} error":function(c,d,e,f){var e=void 0!==e?e:!0;
a.isString(e)&&(f=e,e=!0),a.isBoolean(e)&&b.field().toggleClass("has-error",e),void 0!==f&&b.showError(f)},"{field} clear":function(){b.field().removeClass("has-error"),b.field().removeClass("is-loading"),b.content().popover("destroy")},"{self} show":function(){b.field().trigger("onShow")},"{field} loading":function(a,c,d){b.field().addClass("is-loading"),b.notice().html(d)},"{field} loaded":function(){b.field().removeClass("is-loading")}}}),b.resolve()}),EasySocial.module("shared/fields/validate",function(a){var b=this,c=a.isController("EasySocial.Controller.Validator");
c||(EasySocial.Controller("Validator",{defaultOptions:{mode:null,checks:["required","validate"],typeAttr:"data-check-type",formatAttr:"data-check-format",modifierAttr:"data-check-modifier",errorTrigger:"onError",submitTrigger:"onSubmit","{container}":"[data-check]","{notice}":"[data-check-notice]","{required}":"[data-check-required]","{validate}":"[data-check-validate]"}},function(b){return{vars:{},register:[],deferreds:[],errors:[],state:a.Deferred(),init:function(){},reset:function(){b.vars={},b.register=[],b.deferreds=[],b.errors=[],b.state=a.Deferred(),b.container().removeClass("error")
},start:function(){return b.reset(),a.each(b.container(),function(c,d){b.vars.container=d=a(d),d.trigger(b.options.submitTrigger,[b.register,b.options.mode]),a.each(b.getFields(),function(c,d){b.vars.field=d=a(d),a.each(b.options.checks,function(a,c){b.vars.check=c,b[c+"Check"]()})})}),a.each(b.register,function(c,d){if(a.isDeferred(d))b.deferreds.push(d);else if(a.isPlainObject(d))a.each(d,function(a,d){return d===!1?(b.errors.push(c),!0):void 0});else if(d===!1)return b.errors.push(c),!0}),b.errors.length>0?b.state.reject():b.deferreds.length>0?a.when.apply(null,b.deferreds).done(function(){b.state.resolve()
}).fail(function(){b.state.reject()}):b.state.resolve(),b.state},getFields:function(){return a.merge(b.vars.container.find(b.required.selector),b.vars.container.find(b.validate.selector))},requiredCheck:function(){if(b.vars.field.is(b.required.selector)){var c=b.vars.field.attr(b.options.typeAttr)||b.vars.field.attr("type")||"text";"text"===c&&""==a.trim(b.vars.field.val())&&b.raiseError(),"checkbox"===c&&b.vars.field.find('input[type="checkbox"]').filter(":checked").length<1&&b.raiseError()}},validateCheck:function(){if(void 0!==b.vars.field.attr(b.options.formatAttr)){var c=b.vars.field.val();
if(a.isEmpty(c))return;var d=b.vars.field.attr(b.options.formatAttr)||"",e=b.vars.field.attr(b.options.modifierAttr)||"",f=new RegExp(d,e);f.test(c)||b.raiseError()}},raiseError:function(){b.vars.container.addClass("has-error"),b.vars.container.trigger(b.options.errorTrigger,[b.vars.check,b.vars.field]),b.register.push(!1)}}}),a.fn.validate=function(a){var b=this;if(b.length>0){var c=this.addController("EasySocial.Controller.Validator",a);return c.start()}return!1},b.resolve())}),EasySocial.module("shared/popdown",function(a){var b=this;
a(document).on("click.data.popdown","[data-popdown-option]",function(b){b.preventDefault();var c=a(this),d=c.find(">a").html(),e=a(d).clone(),f=c.parents("[data-popdown]"),g=c.data("popdown-option"),h=f.find("[data-popdown-active]"),i=f.find("input[type=hidden]");f.find("[data-popdown-option]").removeClass("active"),c.addClass("active"),h.html(e),i.val(g)}),b.resolve()}),EasySocial.module("shared/privacy",function(){var b=this;EasySocial.require().library("textboxlist").done(function(a){a(document).on("click.es.privacy","[data-es-privacy-form]",function(){var b=a(this),c="EasySocial.Controller.Privacy.Form";
b.hasController(c)||b.addController(c).toggle()}),EasySocial.Controller("Privacy.Form",{defaultOptions:{"{button}":"[data-privacy-toggle]","{menu}":"[data-privacy-menu]","{item}":"[data-privacy-menu] > [data-item]","{icon}":"[data-privacy-toggle] > [data-privacy-icon]","{label}":"[data-privacy-toggle] > [data-label]","{tooltip}":"[data-original-title]","{key}":"[data-privacy-hidden]"}},function(b,c){return{init:function(){c.mode=b.element.data("mode"),b.instanceId=a.uid(),b.addPlugin("custom")},getData:function(b){var c=a._.pick(b.data(),"uid","type","value","pid","streamid","pitemid","userid");
return c.icon=b.data("privacy-icon"),c.label=b.find("[data-label]").text(),c},toggle:function(){var a=b.element.hasClass("active");b[a?"deactivate":"activate"]()},activate:function(){b.element.addClass("active"),b.trigger("activate",[b]),a(window).trigger("activatePrivacy",[b]);var c="click.privacy."+b.instanceId;a(document).on(c,function(d){var e=a(d.target);e.parents().andSelf().filter(b.element).length>0||e.parents("[data-textboxlist-autocomplete]").length>0||e.parents("[data-textboxlist-item]").length>0||(a(document).off(c),b.deactivate())
})},deactivate:function(){b.element.removeClass("active"),b.trigger("deactivateAllPrivacy",[b]),a(window).trigger("deactivatePrivacy",[b])},save:function(a){b.key().val(a.value),b.icon().attr("class",a.icon),b.label().html(a.label),b.trigger("privacySave",[a]),"ajax"==c.mode&&EasySocial.ajax("site/controllers/privacy/update",{uid:a.uid,utype:a.type,value:a.value,pid:a.pid,custom:a.custom,streamid:a.streamid,userid:a.userid,pitemid:a.pitemid}).done(function(){})},"{self} click":function(c,d){var e=a(d.target),f=b.button();
e.parents().andSelf().filter(f).length>0&&b.toggle()},"{item} click":function(a){var c=b.getData(a);b.trigger("privacyChange",[c]),c.preventSave||(b.save(c),b.deactivate())},"{self} privacyChange":function(a,c,d){b.item().removeClass("active"),b.item("[data-value="+d.value+"]").addClass("active")},"{window} activatePrivacy":function(a,c,d){d!==b&&b.deactivate()}}}),EasySocial.Controller("Privacy.Form.Custom",{defaultOptions:{"{textField}":"[data-textfield]","{saveButton}":"[data-save-button]","{cancelButton}":"[data-cancel-button]","{customItem}":"[data-item][data-value=custom]","{customKey}":"[data-privacy-custom-hidden]","{notice}":"[data-privacy-custom-notice]"}},function(b){return{init:function(){b.textField().textboxlist({component:"es",unique:!0,plugin:{autocomplete:{exclusive:!0,minLength:1,cache:!1,query:function(a){var c=b.getIds(),d=EasySocial.ajax("site/views/privacy/getfriends",{q:a,exclude:c});
return d}}}}),b.textboxlist=b.textField().controller("TextboxList")},getIds:function(){var c=b.textField().textboxlist("controller").getAddedItems();return a.map(c,function(a){return a.id})},updateIds:function(){b.notice().hasClass("t-hidden")||b.notice().addClass("t-hidden");var a=b.getIds();b.customKey().val(a.join(","))},"{parent} privacyChange":function(a,c,d){var e="custom"==d.value;b.element.toggleClass("custom-privacy",e),e?d.preventSave=!0:b.textField().textboxlist("controller").clearItems()},"{parent} privacySave":function(){},"{parent} deactivateAllPrivacy":function(){b.textboxlist.autocomplete.hide()
},"{cancelButton} click":function(){b.element.removeClass("custom-privacy"),b.textboxlist.autocomplete.hide()},"{saveButton} click":function(){var a=b.parent,c=b.customItem(),d=a.getData(c),e=b.customKey().val().trim();return""==e?(b.notice().removeClass("t-hidden"),!1):(d.custom=e,b.parent.save(d),b.parent.deactivate(),void 0)},"{textField} addItem":function(){b.updateIds()},"{textField} removeItem":function(){b.updateIds()}}}),b.resolve()})}),EasySocial.module("shared/responsive",function(a){var b=this;a(document).on("click.es.sidebar.toggle","[data-es-sidebar-toggle]",function(){var b=a(this),c=b.siblings("[data-es-container]");
c.length<=0||c.toggleClass("sidebar-open")}),a(document).on("click.es.sidebar","[data-sidebar-toggle]",function(){var b=a(this),c="[data-sidebar]",d=b.siblings(c);d.length<1&&(d=b.closest(c)),d.length<1&&(d=a(c)),d.toggleClass("sidebar-open").trigger("sidebarToggle")}),a(document).on("onEasySocialFilterClick",function(){var b=a("[data-es-mobile-wrapper]");if(!(b.length>0)){var c=a("[data-es-sidebar-toggle]").siblings("[data-es-container]");c.length<=0||c.toggleClass("sidebar-open")}}),b.resolve()}),EasySocial.module("uploader/item",function(){var b=this;
EasySocial.require().view("site/uploader/preview").done(function(a){EasySocial.Controller("Uploader.Item",{defaults:{"{uploadItem}":".uploadItem","{uploadItemPreview}":".uploadItem.preview a.itemLink","{itemLink}":".itemLink","{itemDelete}":".itemDelete",view:{preview:"site/uploader/preview"}}},function(){return{init:function(){},"{itemDelete} click":function(b){var c=a(b).data("id");EasySocial.ajax("site:/controllers/uploader/delete",{id:c},function(){a(b).parents("li.uploadItem").remove()})},"{uploadItemPreview} click":function(b){var c=a(b).data("uri"),d=a(b).data("title");
a.dialog({title:d,content:a.Image.get(c)})}}})}),b.resolve()}),EasySocial.module("uploader/queue",function(){var b=this;EasySocial.require().done(function(a){EasySocial.Controller("Uploader.Queue",{defaults:{"{item}":"[data-uploaderQueue-item]"}},function(a){return{init:function(){a.item().implement(EasySocial.Controller.Uploader.Queue.Item)}}}),EasySocial.Controller("Uploader.Queue.Item",{defaultOptions:{"{delete}":"[data-uploaderQueue-remove]","{progress}":"[data-uploaderQueue-progress]","{progressBar}":"[data-uploaderQueue-progressBar]","{status}":"[data-uploaderQueue-status]","{id}":"[data-uploaderQueue-id]"}},function(b){return{init:function(){b.uploader.options.temporaryUpload&&(b.idTemplate=b.id().toHTML(),b.id().remove())
},"{delete} click":function(){b.uploader.removeItem(b.element.attr("id"))},"{self} FileUploaded":function(c,d,e,f){b.uploader.options.temporaryUpload&&a.buildHTML(b.idTemplate).val(f.id).appendTo(b.element),5==e.status&&(b.element.addClass("is-done"),b.status().html("Done"))},"{self} UploadProgress":function(a,c,d){b.status().html(d.percent+"%"),b.progressBar().css("width",d.percent+"%")},"{self} FileError":function(){b.element.removeClass("is-done is-queue").addClass("is-error"),b.progress().removeClass("progress-danger progress-success progress-info progress-warning").addClass("progress-danger"),b.status().html("Error")
}}}),b.resolve()})}),EasySocial.module("uploader/uploader",function(a){var b=this;EasySocial.require().library("plupload").script("uploader/queue").done(function(){EasySocial.Controller("Uploader",{defaults:{url:a.indexUrl+"?option=com_easysocial&controller=uploader&task=uploadTemporary&format=json&tmpl=component&"+EasySocial.token()+"=1",uploaded:[],query:"",plupload:"",dropArea:"uploaderDragDrop",extensionsAllowed:"jpg,jpeg,png,gif",temporaryUpload:!1,files:[],"{uploaderForm}":"[data-uploader-form]","{uploadButton}":"[data-uploader-browse]","{uploadArea}":".uploadArea","{queue}":"[data-uploaderQueue]","{queueItem}":"[data-uploaderQueue-item]","{emptyFiles}":"[data-uploader-empty]","{removeFile}":"[data-uploaderQueue-remove]","{uploadCounter}":".uploadCounter"}},function(b,c){return{init:function(){b.queue().implement(EasySocial.Controller.Uploader.Queue),c.temporaryUpload&&(c.url=a.indexUrl+"?option=com_easysocial&controller=uploader&task=uploadTemporary&format=json&tmpl=component&"+EasySocial.token()+"=1"),""!=c.query&&(c.url=c.url+"&"+c.query),b.uploaderForm().implement("plupload",{settings:{url:c.url,drop_element:c.dropArea,filters:[{title:"Allowed File Type",extensions:c.extensionsAllowed}]},"{uploader}":"[data-uploader-form]","{uploadButton}":"[data-uploader-browse]"},function(){c.plupload=this.plupload
})},createFileItem:function(d){a.each(d,function(d,e){e.size=b.formatSize(e.size);var f=a("[data-uploaderQueue-item-template]"),g=f.clone();g.removeClass("t-hidden"),g.removeAttr("data-uploaderQueue-item-template"),g.attr("id",e.id),g.find("[data-filename]").text(e.name),g.find("[data-filesize]").text(e.size),a(g).implement(EasySocial.Controller.Uploader.Queue.Item,{"{uploader}":b}),c.files.push(e),b.emptyFiles().hide(),b.queue().append(g)})},formatSize:function(a){var b=parseInt(a/1024);return b},reset:function(){a("[data-uploaderQueue-item].is-done").remove()
},removeItem:function(c){var d=a("#"+c),e=a(d).find("input[name=upload-id\\[\\]]").val();EasySocial.ajax("site/controllers/uploader/delete",{id:e}).done(function(){a("#"+c).remove(),b.options.plupload.removeFile(b.options.plupload.getFile(c))})},startUpload:function(){b.upload()},upload:function(){b.options.plupload.files.length>0&&(b.options.uploading=!0,b.options.plupload.start())},hasFiles:function(){return b.options.files.length>0},"{uploaderForm} FilesAdded":function(a,d,e,f){b.createFileItem(f),c.temporaryUpload&&b.startUpload()
},"{uploaderForm} UploadProgress":function(a,c,d,e){e&&b.queueItem("#"+e.id).trigger("UploadProgress",e)},"{uploaderForm} FileUploaded":function(a,c,d,e,f){b.queueItem("#"+e.id).trigger("FileUploaded",[e,f])},"{uploaderForm} UploadComplete":function(){b.options.uploading=!1},"{uploaderForm} Error":function(a,c,d,e){b.clearMessage();var f={message:e.message,type:"error"};b.setMessage(f)},"{uploaderForm} FileError":function(a,c,d,e,f){var g={message:f.message,type:"error"};b.setMessage(g),b.queueItem("#"+e.id).trigger("FileError",[e,f])
}}}),b.resolve()})}),EasySocial.require().script("admin/api/tabs","admin/vendors/uniform","admin/grid/grid","shared/responsive","shared/elements","shared/popdown","shared/privacy").library("dialog").done(function(a){a(".uniform, input:file[data-uniform], .usergroups :checkbox").uniform(),a("[data-sidebar-menu-toggle]").on("click",function(){var b=a(this).parent("li"),c=b.find("ul"),d=a(this).parent("li").hasClass("active");d?(b.removeClass("active"),c.removeClass("in")):(b.addClass("active"),c.addClass("in"))
}),EasySocial.compareVersion=function(a,b){for(var c=0,d=a.split("."),e=b.split("."),f=Math.max(d.length,e.length),g=0;f>g;g++){var h=g<d.length?parseInt(d[g],10):0,i=g<e.length?parseInt(e[g],10):0;if(isNaN(h)&&(h=0),isNaN(i)&&(i=0),h!=i){c=h>i?1:-1;break}}return c};var b=a("[data-table-grid]");b.length>0&&b.implement(EasySocial.Controller.Grid)}),EasySocial.module("admin/api/tabs",function(a){var b=this;a(document).on("click.tabs.active","[data-es-form-tabs] [data-item]",function(){var b=a("[data-tab-active]");
if(!(b.length<=0)){var c=a(this).data("item");b.val(c)}}),b.resolve()}),EasySocial.module("admin/apps/store",function(){var b=this;EasySocial.Controller("Apps.Store",{defaultOptions:{"{item}":"[data-app-item]","{install}":"[data-app-install]"}},function(a){return{init:function(){},getItem:function(b){return b.closest(a.item.selector)},"{install} click":function(b){{var d=a.getItem(b);1==b.data("payment"),"external"==b.data("app-install")}EasySocial.dialog({content:EasySocial.ajax("admin/views/store/confirmation",{id:d.data("id")})})
}}}),b.resolve()}),EasySocial.module("admin/clusters/suggest",function(){var b=this;EasySocial.require().library("textboxlist").done(function(a){EasySocial.Controller("Clusters.Suggest",{defaultOptions:{max:null,exclusive:!0,exclusion:[],minLength:1,highlight:!0,name:"uid[]",type:"",clusterType:""}},function(b,c){return{init:function(){b.element.textboxlist({component:"es",name:c.name,max:c.max,plugin:{autocomplete:{exclusive:c.exclusive,minLength:c.minLength,highlight:c.highlight,showLoadingHint:!1,showEmptyHint:!1,query:function(a){var b=EasySocial.ajax("site/controllers/"+c.clusterType+"/suggest",{search:a,exclusion:c.exclusion});
return b}}}}).textboxlist("enable")},"{self} filterItem":function(b,c,d){var e=a("<div/>").html(d.html),f=e.find("[data-suggest-title]").text(),g=e.find("[data-suggest-id]").val();d.id=g,d.title=f,d.menuHtml=d.html},"{self} filterMenu":function(b,d,e,f,g,h){var i=h.getAddedItems(),i=a.pluck(i,"id"),j=i.concat(c.exclusion);f.each(function(){var b=a(this),c=b.data("item"),d=a.inArray(c.id.toString(),j)>-1;b.toggleClass("hidden",d)})}}}),b.resolve()})}),EasySocial.module("admin/clusters/users",function(a){var b=this;
EasySocial.Controller("Clusters.Users",{defaultOptions:{clusterid:null,clustertype:"","{addMember}":"[data-cluster-add-member]","{removeMember}":"[data-cluster-remove-member]","{approveMember}":"[data-cluster-approve-member]","{promoteMember}":"[data-cluster-promote-member]","{demoteMember}":"[data-cluster-demote-member]"}},function(b,c){return{"{addMember} click":function(){var e={};window.addMembers=function(a){a.state?e[a.id]=a:delete e[a.id]},EasySocial.dialog({content:EasySocial.ajax("admin/views/"+c.clustertype+"/addMembers"),bindings:{"{submitButton} click":function(){var b=a("[data-form-add-members]"),c=b.find("[data-ids]"),d=[];
a.each(e,function(a,b){d.push(b.id)}),c.val(JSON.stringify(d)),a("[data-form-add-members]").submit()}}})},"{removeMember} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["removeMembers"])},"{approveMember} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["publishUser"])},"{promoteMember} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["promoteMembers"])
},"{demoteMember} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["demoteMembers"])}}}),b.resolve()}),EasySocial.module("admin/discovery/discovery",function(){var b=this;EasySocial.require().script("admin/progress/progress").done(function(a){EasySocial.Controller("Admin.Discovery",{defaultOptions:{files:[],namespace:"",progressController:null,"{progress}":"[data-progress]","{result}":"[data-discovery-result]"}},function(b,c){return{init:function(){c.progressController=b.progress().addController(EasySocial.Controller.Progress),a.Joomla("submitbutton",function(a){"discover"==a&&b.start()
})},start:function(){b.reset(),EasySocial.ajax(c.namespaces.discover,{}).done(function(a,d){c.files=a,c.files.length>0?(c.progressController.begin(c.files.length),b.log(d),b.startIterating()):(c.progressController.begin(1),c.progressController.completed("Discover Completed"),b.log(c.messages.completed))})},reset:function(){b.result().empty(),b.options.progressController.reset()},log:function(c){a("<tr>").append(a("<td>").html(c)).appendTo(b.result())},startIterating:function(){var a=c.files.shift();EasySocial.ajax(c.namespaces.install,{file:a}).done(function(a){c.progressController.touch("..."),b.log(a),c.files.length>0?b.startIterating():b.log(c.messages.completed)
})}}}),b.resolve()})}),EasySocial.module("admin/events/approveRecurring",function(a){var b=this;EasySocial.Controller("Events.ApproveRecurring",{defaultOptions:{postdatas:{},schedules:{},eventids:[],"{progress}":"[data-progress-bar]","{form}":"[data-form]"}},function(b){return{init:function(){var c=0;a.each(b.options.schedules,function(a,b){c+=b.length}),b.total=c,b.startCreate()},total:0,doneCounter:0,eventCounter:0,createCounter:0,updateProgressBar:function(){var a=Math.ceil(b.doneCounter/b.total*100);b.progress().css({width:a+"%"})
},startCreate:function(){return void 0===b.options.eventids[b.eventCounter]?b.completed():(b.create().done(function(){b.doneCounter++,b.createCounter++,void 0===b.options.schedules[b.options.eventids[b.eventCounter]][b.createCounter]&&(b.eventCounter++,b.createCounter=0),b.updateProgressBar(),b.startCreate()}).fail(function(a,b){console.log(a,b)}),void 0)},create:function(){var a=b.options.eventids[b.eventCounter],c=b.options.schedules[a][b.createCounter],d=b.options.postdatas[a];return EasySocial.ajax("admin/controllers/events/createRecurring",{eventId:a,datetime:c,postdata:d})
},completed:function(){b.progress().parent().removeClass("progress-info").addClass("progress-success"),b.form().submit()}}}),b.resolve()}),EasySocial.module("admin/events/events",function(){var b=this;EasySocial.require().library("expanding").done(function(){EasySocial.Controller("Events.Pending.Item",{defaultOptions:{"{approve}":"[data-pending-approve]","{reject}":"[data-pending-reject]"}},function(a){return{init:function(){a.options.id=a.element.data("id")},"{approve} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/events/approveEvent",{ids:a.options.id})})
},"{reject} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/events/rejectEvent",{ids:a.options.id})})}}}),b.resolve()})}),EasySocial.module("admin/events/store",function(a){var b=this;EasySocial.Controller("Events.Update",{defaultOptions:{postdata:{},updateids:[],schedule:[],eventId:null,"{progress}":"[data-progress-bar]","{form}":"[data-form]"}},function(b){return{init:function(){b.startUpdate()},updateCounter:0,createCounter:0,updateProgressBar:function(){var a=Math.ceil((b.updateCounter+b.createCounter)/(b.options.updateids.length+b.options.schedule.length)*100);
b.progress().css({width:a+"%"})},startUpdate:function(){return void 0===b.options.updateids[b.updateCounter]?b.startCreate():(b.update(b.options.updateids[b.updateCounter]).done(function(){b.updateCounter++,b.updateProgressBar(),b.startUpdate()}).fail(function(a,b){console.log(a,b)}),void 0)},update:function(c){var d=a.extend({},b.options.postdata,{id:c,applyRecurring:1});return EasySocial.ajax("admin/controllers/events/store",d)},startCreate:function(){return void 0===b.options.schedule[b.createCounter]?b.completed():(b.create(b.options.schedule[b.createCounter]).done(function(){b.createCounter++,b.updateProgressBar(),b.startCreate()
}).fail(function(a,b){console.log(a,b)}),void 0)},create:function(a){return EasySocial.ajax("admin/controllers/events/createRecurring",{eventId:b.options.eventId,datetime:a,postdata:b.options.postdata})},completed:function(){b.progress().parent().removeClass("progress-info").addClass("progress-success"),b.form().submit()}}}),b.resolve()}),EasySocial.module("admin/events/users",function(a){var b=this;EasySocial.Controller("Events.Users",{defaultOptions:{eventid:null,"{inviteGuest}":"[data-event-invite-guest]","{removeGuest}":"[data-event-remove-guest]","{approveGuest}":"[data-event-approve-guest]","{promoteGuest}":"[data-event-promote-guest]","{demoteGuest}":"[data-event-demote-guest]"}},function(b,c){return{"{inviteGuest} click":function(){var d={};
window.inviteGuests=function(a){a.state?d[a.id]=a:delete d[a.id]},EasySocial.dialog({content:EasySocial.ajax("admin/views/events/inviteGuests"),bindings:{"{submitButton} click":function(){var b=a("[data-form-add-members]"),c=b.find("[data-ids]"),e=[];a.each(d,function(a,b){e.push(b.id)}),c.val(JSON.stringify(e)),a("[data-form-add-members]").submit()}}})},"{removeGuest} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["removeGuests"])},"{approveGuest} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["approveGuests"])
},"{promoteGuest} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["promoteGuests"])},"{demoteGuest} click":function(){0==document.adminForm.boxchecked.value?alert(c.error.empty):a.Joomla("submitform",["demoteGuests"])}}}),b.resolve()}),EasySocial.module("admin/fields/browser",function(a){var b=this;EasySocial.Controller("Fields.Browser",{defaultOptions:{"{browser}":"[data-fields-browser]","{mandatory}":"[data-fields-browser-group-mandatory]","{unique}":"[data-fields-browser-group-unique]","{standard}":"[data-fields-browser-group-standard]","{list}":"[data-fields-browser-list]","{item}":"[data-fields-browser-item]",affixClass:"es-browser-affix"}},function(b){return{state:a.Deferred(),init:function(){b.registerApps(),b.ready(),b.affixHandler(),b.initAffix()
},ready:function(){b.state.resolve()},"{parent} controllersReady":function(){var a=e.getCurrentStep().data("id");b.initDraggable(a)},"{parent} pageChanged":function(a,c,d,e){b.item().draggable("destroy"),b.initDraggable(e)},"{parent} pageAdded":function(a,c,d,e){b.item().draggable("destroy"),b.initDraggable(e)},initDraggable:function(a){b.item().draggable({revert:"invalid",helper:"clone",connectToSortable:"[data-fields-editor-page-items-"+a+"]"})},affixHandler:function(){var c=a(window),d=b.parent.wrap(),e=d.offset().top,f=c.scrollTop();
f>e&&!b.browser().hasClass(b.options.affixClass)&&b.browser().addClass(b.options.affixClass),e>=f&&b.browser().hasClass(b.options.affixClass)&&b.browser().removeClass(b.options.affixClass)},initAffix:function(){a(window).scroll(b.affixHandler)},registerApps:function(){a.each(b.item(),function(b,c){c=a(c);var d=c.data("id");g[d]={id:d,element:c.data("element"),title:c.data("title"),params:c.data("params"),core:c.data("core"),unique:c.data("unique"),item:c},c.data("core")&&(h[d]=g[d])})},checkout:function(a){void 0!==j[a]&&delete j[a]
},"{item} click":function(a){var b=d.currentPage(),c=a.data("id");b.addNewField(c)},"{parent} fieldAdded":function(a,c,d){var e=g[d];if(e&&e.core){e.item.addClass("t-hidden"),e.item.removeClass("t-inline-block");var f=b.mandatory().find(b.item.selector).filter(":visible");b.mandatory().toggle(f.length>0)}if(e&&e.unique){e.item.hide();var f=b.unique().find(b.item.selector).filter(":visible");b.unique().toggle(f.length>0)}},"{parent} fieldDeleted":function(a,c,d){var f=g[d];return f&&f.core?(f.item.removeClass("t-hidden"),f.item.addClass("t-inline-block"),b.mandatory().show(),void 0):f&&f.unique?(f.item.show(),f.item.removeClass("t-hidden"),f.item.addClass("t-inline-block"),b.unique().show(),void 0):void 0
}}}),b.resolve()}),EasySocial.module("admin/fields/config",function(a){var c=this;EasySocial.Controller("Fields.Config",{defaultOptions:{"{config}":"[data-fields-config]","{header}":"[data-fields-config-header]","{close}":"[data-fields-config-close]","{form}":"[data-fields-config-form]","{param}":"[data-fields-config-param]","{tabnav}":"[data-fields-config-tab-nav]","{tabcontent}":"[data-fields-config-tab-content]","{done}":"[data-fields-config-done]"}},function(c){return{state:!1,load:function(){c.config().addClass("t-hidden"),c.element.removeClass("t-hidden"),c.state=!0,c.element.find("[data-fields-config-param-choices]").addController("EasySocial.Controller.Config.Choices",{controller:{item:c.item}}),c.item.options.newfield&&c.param("[data-fields-config-param-field-unique_key]").attr("disabled",!0),c.tabnav().length>0&&(c.tabnav().find("a:first").tab("show"),c.tabcontent().children(":first").addClass("active")),c.populateConfig();
var a=c.element.height();b.wrap().css("padding-bottom",a+"px"),c.close().show()},"{close} click":function(){c.closeConfig()},"{done} click":function(){c.closeConfig()},closeConfig:function(){var a=c.populateConfig(),d=c.checkConfig(a);d?(c.item.updateHtml(c.form().html()),c.item.content().trigger("onConfigSave",[a]),c.element.remove(),f=null,b.trigger("doneConfiguring")):EasySocial.dialog({content:EasySocial.ajax("site/views/fields/getSaveError",{message:"COM_EASYSOCIAL_PROFILES_FORM_FIELDS_INVALID_VALUES"})})
},"{parent} configLoaded":function(){c.close().show()},"{param} change":function(a){c.paramChanged(a)},"{param} keyup":function(a){c.paramChanged(a)},paramChanged:function(a){var d=a.data("name"),e=c.getConfigValue(d),f=c.item.appParams[d];"boolean"===f.type&&(e=a.is(":checked")?"1":"0"),c.item.fieldItem().trigger("onConfigChange",[d,e]),b.customFieldChanged()},getConfigValue:function(b){var d=c.item.appParams[b],e=c.param().filterBy("name",b);if(0===e.length)return void 0;var f="";switch(d.type){case"choices":f=[],a.each(e.find("li"),function(b,c){c=a(c);
var d=c.find("[data-fields-config-param-choice-title]"),e=c.find("[data-fields-config-param-choice-value]"),g=c.find("[data-fields-config-param-choice-default]");f.push({id:c.data("id"),title:d.val(),value:e.val(),"default":g.val()}),d.attr("value",d.val()),e.attr("value",e.val()),g.attr("value",g.val())});break;case"boolean":f=e.is(":checked")?1:0,e.attr("value",f);break;case"checkbox":f=[],a.each(d.option,function(a,b){var c=e.filter("[data-fields-config-param-option-"+b.value+"]");c.length>0&&c.is(":checked")?(f.push(b.value),c.attr("checked","checked")):c.removeAttr("checked")
});break;case"list":case"select":case"dropdown":f=e.length>0?e.val():d["default"]||"",e.find("option").prop("selected",!1),e.find('option[value="'+f+'"]').prop("selected",!0);break;case"input":case"text":default:f=e.length>0?e.val():d["default"]||"",e.attr("value",f)}return f},populateConfig:function(){var b={};return a.each(c.item.appParams,function(a){var e=c.getConfigValue(a);return void 0===e?!1:(b[a]=e,void 0)}),c.item.trigger("onPopulateConfig",[b]),b},checkConfig:function(b){void 0===b&&(b=c.populateConfig());
var d=!0;return a.each(b,function(b,e){var f=c.item.appParams[b];switch(f.type){case"choices":var g=[];a.each(e,function(b,c){return a.isEmpty(c.value)&&!a.isEmpty(c.title)&&(c.value=c.title.toLowerCase().replace(" ","")),!a.isEmpty(c.value)&&a.inArray(c.value,g)>-1?(d=!1,!1):(g.push(c.value),void 0)})}return d===!1?!1:void 0}),d},"{parent} fieldDeleted":function(){c.state&&b.trigger("doneConfiguring")},"{parent} pageDeleted":function(){c.state&&b.trigger("doneConfiguring")},"{parent} pageAdded":function(){c.state&&b.trigger("doneConfiguring")
},"{parent} pageChanged":function(){c.state&&b.trigger("doneConfiguring")}}}),EasySocial.Controller("Config.Choices",{defaultOptions:{"{choiceItems}":"[data-fields-config-param-choice]",unique:1}},function(c){return{init:function(){c.options.unique=void 0!==c.element.data("unique")?c.element.data("unique"):1,c.choiceItems().implement(EasySocial.Controller.Config.Choices.Choice,{controller:{item:c.item,choices:c}}),c.initSortable()},initSortable:function(){c.element.sortable({items:c.choiceItems.selector,placeholder:"ui-state-highlight",cursor:"move",forceHelperSize:!0,handle:"[data-fields-config-param-choice-drag]",stop:function(){a(".tooltip-es").remove(),b.customFieldChanged()
}})}}}),EasySocial.Controller("Config.Choices.Choice",{defaultOptions:{"{choiceValue}":"[data-fields-config-param-choice-value]","{choiceTitle}":"[data-fields-config-param-choice-title]","{choiceDefault}":"[data-fields-config-param-choice-default]","{addChoice}":"[data-fields-config-param-choice-add]","{removeChoice}":"[data-fields-config-param-choice-remove]","{setDefault}":"[data-fields-config-param-choice-setdefault]","{defaultIcon}":"[data-fields-config-param-choice-defaulticon]"}},function(c){return{init:function(){},"{choiceTitle} keyup":a._.debounce(function(a){var e=c.element.index();
c.item.fieldItem().trigger("onChoiceTitleChanged",[e,a.val()]),b.customFieldChanged()},500),"{choiceValue} keyup":a._.debounce(function(a){var e=c.element.index();c.item.fieldItem().trigger("onChoiceValueChanged",[e,a.val()]),b.customFieldChanged()},500),"{addChoice} click":function(){var a=c.element.clone(),d=a.find('input[type="text"]');d.attr("value",""),d.val("");var e=a.find('input[type="hidden"]');e.attr("value",0),e.val(0),a.attr("data-id",0),a.data("id",0),a.implement(EasySocial.Controller.Config.Choices.Choice,{controller:{item:c.item,choices:c.choices}}),c.element.after(a);
var f=a.index();c.item.fieldItem().trigger("onChoiceAdded",[f]),b.customFieldChanged()},"{removeChoice} click":function(){var d=c.choices.choiceItems().length-1;if(d>=1){var e=c.element.index();c.item.fieldItem().trigger("onChoiceRemoved",[e]),c.element.remove(),a(".tooltip-es").remove()}b.customFieldChanged()},"{setDefault} click":function(){{var a=c.element.index();c.choiceTitle().val(),c.choiceValue().val()}c.choices.choiceItems().trigger("toggleDefault",[a]),c.item.fieldItem().trigger("onChoiceToggleDefault",[a,parseInt(c.choiceDefault().val())]),b.customFieldChanged()
},"{self} toggleDefault":function(a,b,d){var e=c.element.index(),f=parseInt(c.choiceDefault().val());e===d?f?(c.defaultIcon().removeClass("es-state-featured").addClass("es-state-default"),c.choiceDefault().val(0)):(c.defaultIcon().removeClass("es-state-default").addClass("es-state-featured"),c.choiceDefault().val(1)):c.choices.options.unique&&(c.defaultIcon().removeClass("es-state-featured").addClass("es-state-default"),c.choiceDefault().val(0))}}}),c.resolve()});var b,c,d,e,f,g={},h={},j={},k={},l={},m={pages:[],fields:[]};
EasySocial.module("admin/fields/editor",function(){var i=this;EasySocial.require().library("ui/draggable","ui/sortable","ui/droppable","scrollTo").script("shared/fields/base","admin/fields/browser","admin/fields/steps","admin/fields/config").done(function(a){EasySocial.Controller("Fields",{defaultOptions:{id:0,group:null,"{wrap}":"[data-fields-wrap]","{browser}":"[data-fields-browser]","{editor}":"[data-fields-editor]","{steps}":"[data-fields-steps]","{config}":"[data-fields-config]","{saveForm}":"[data-fields-save]"}},function(g,i){return{init:function(){b=g,i.id=g.element.data("id"),c=g.addPlugin("browser"),d=g.addPlugin("editor"),e=g.addPlugin("steps");
var f=[c.state,d.state,e.state];a.when.apply(null,f).done(function(){b.trigger("controllersReady")}),a("[data-profiles-fields-form]").on("save",function(a,b,c){var d=g.save(b);c.push(d)})},changed:!1,customFieldChanged:function(){g.changed=!0},"{window} beforeunload":function(){return g.changed?!1:void 0},"{saveForm} click":function(){g.save()},save:function(c){var i=a.Deferred();if(g.element.find("input,select").not(g.saveForm()).prop("disabled",!0),g.saveForm().val(""),"savecopy"===c&&(g.changed=!0),"saveCategoryCopy"===c&&(g.changed=!0),!g.changed)return i.resolve(),i;
if(b.trigger("saving"),f&&f.state&&!f.checkConfig())return EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/getSaveError",{message:"COM_EASYSOCIAL_FIELDS_INVALID_VALUES"})}),i.reject(),i;j=a.extend(!0,{},h);var k=[];if(a.each(e.step(),function(b,c){c=a(c);var e=d.getPage(c.data("id"));k.push(e._export())}),a._.keys(j).length>0)return b.trigger("saved",[!1]),EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/getSaveError",{message:"COM_EASYSOCIAL_FIELDS_REQUIRE_MANDATORY_FIELDS"})}),i.reject(),i;
b.changed=!1;var l={data:k,deleted:m};return g.injectSaveData(l),i.resolve(),i},injectSaveData:function(a){a=JSON.stringify(a),g.saveForm().val(a)},updateResult:function(b){a.each(b,function(a,b){var c=e.step().eq(a),f=c.data("id"),g=d.getPage(f);e.updateResult(a,b.id),g.updateResult(f,b)})},"{self} doneConfiguring":function(){g.element.removeClass("editting")},loadConfiguration:function(a,b){g.element.addClass("editting");var c=g.config().clone();f=c.addController("EasySocial.Controller.Fields.Config",{controller:{item:a}}),"page"===b?a.pageHeader().append(c):a.element.append(c),g.element.trigger("loadingConfig",[b])
},getConfiguration:function(b,c,d){g.element.addClass("editting");var e={type:c};"page"!=c&&a.extend(e,{appId:b.field.appid||b.app.id,fieldId:b.field.id}),"page"==c&&a.extend(e,{pageid:b.options.pageid}),EasySocial.ajax("admin/views/fields/loadConfiguration",e).done(function(e,g,h){var i=a(e);b.field&&b.field.html&&(i.find("[data-fields-config-form]").html(b.field.html),g=b.field.params,h=b.app.params),f=i.addController("EasySocial.Controller.Fields.Config",{controller:{item:b}}),"field"==c&&b.element.append(i),"page"==c&&b.pageHeader().append(i),d.apply(b,[i,g,h])
})}}}),EasySocial.Controller("Fields.Editor",{defaultOptions:{"{editor}":"[data-fields-editor]","{page}":"[data-fields-editor-page]","{items}":"[data-fields-editor-page-items]","{item}":"[data-fields-editor-page-item]"}},function(c){return{state:a.Deferred(),init:function(){c.ready()},ready:function(){c.state.resolve()},"{parent} controllersReady":function(){c.page().addController("EasySocial.Controller.Fields.Editor.Page")},currentPage:function(){return c.page(".active").controller()},addPage:function(d,e){EasySocial.ajax("admin/views/fields/getPage",{uid:d}).done(function(f){var g=a(f);
g.addController("EasySocial.Controller.Fields.Editor.Page",{uid:d,newpage:!0}),c.editor().append(g),c.page().trigger("pageAdded",[g,d]),b.customFieldChanged(),e.apply()})},getPage:function(a){return c.page().filterBy("id",a).controller()},"{parent} saving":function(){c.element.addClass("saving")},"{parent} saved":function(){c.element.removeClass("saving")}}}),EasySocial.Controller("Fields.Editor.Page",{defaultOptions:{pageid:0,uid:0,newpage:!1,"{items}":"[data-fields-editor-page-items]","{item}":"[data-fields-editor-page-item]","{pageHeader}":"[data-fields-editor-page-header]","{content}":"[data-fields-editor-page-header]","{fieldItem}":"[data-fields-editor-page-header]","{pageTitle}":"[data-fields-editor-page-title]","{pageDescription}":"[data-fields-editor-page-description]","{inputTitle}":"[data-fields-editor-page-title-input]","{inputDescription}":"[data-fields-editor-page-description-input]","{pageDelete}":"[data-page-delete]","{pageEdit}":"[data-page-edit]","{pageVisibleRegistration}":"[data-fields-editor-page-visible-registration]","{pageVisibleEdit}":"[data-fields-editor-page-visible-edit]","{pageVisibleView}":"[data-fields-editor-page-visible-view]","{pageInfo}":"[data-fields-editor-page-info]","{pageInfoDone}":"[data-fields-editor-page-done]"}},function(h){return{init:function(){h.options.newpage||(h.options.uid=h.options.pageid=h.element.data("id")),h.registerPage(),h.item().addController("EasySocial.Controller.Fields.Editor.Item",{pageid:h.options.uid}),h.checkPageDeleteButton(),h.initSort()
},fields:{},getStep:function(){return e.getStep(h.options.uid)},registerPage:function(){l[h.options.uid]=h},initSort:function(){h.items().sortable({items:h.item.selector,handle:"[data-fields-editor-page-item-handle]",placeholder:"ui-state-highlight",cursor:"move",helper:"clone",forceHelperSize:!0,stop:function(d,e){if(e.item.is(c.item.selector)){var f=e.item.data("id");h.createPlaceholder().done(function(b){var b=a(b);e.item.replaceWith(b),h.createNewField(f,b)})}b.customFieldChanged()}})},addNewField:function(c){h.createPlaceholder().done(function(d){var e=a(d);
h.items().append(e),a.scrollTo(e,200),h.createNewField(c,e),b.customFieldChanged()})},createPlaceholder:function(){var b=a.uid("newfield");return EasySocial.ajax("admin/views/fields/getPlaceholder",{uid:b})},createNewField:function(c,d){b.trigger("fieldAdded",[c]),h.getFieldHtml(c).done(function(b){b=a.parseHTML(b,document,!0),b=a(b),d.replaceWith(b);var e=b.filter('[data-appid="'+c+'"]');e.addController("EasySocial.Controller.Fields.Editor.Item",{controller:{page:h},appid:c,pageid:h.options.uid,newfield:!0})
})},getFieldHtml:function(c){var d=a.Deferred();return void 0===g[c].html?EasySocial.ajax("admin/views/fields/renderSample",{appid:c,profileid:b.options.id,group:b.options.group}).done(function(a){g[c].html=a,d.resolve(a)}).fail(function(a){d.reject(a)}):d.resolve(g[c].html),d},"{pageHeader} click":function(b,c){var d=a(c.target);if(d.not("[data-fields-editor-page-delete]")&&!b.hasClass("editting")){if(f&&f.state){var e=f.checkConfig();if(!e)return EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/getSaveError",{message:"COM_EASYSOCIAL_PROFILES_FORM_FIELDS_INVALID_VALUES"})}),void 0;
f.closeConfig()}h.loadConfiguration()}},loadConfiguration:function(){h.pageHeader().addClass("editting"),b.getConfiguration(h,"page",function(b,c,d){h.params=d,h.values=c,h.html=b,h.appParams=d;var e=a(h.html);f.load(e)})},updateHtml:function(a){h.html=a},getConfigValues:function(){return h.values},"{fieldItem} onConfigChange":function(a,c,d,f){h.values[d]=f;var g=e.getStepLink(h.options.uid);"title"===d&&(g.text(f),h.pageTitle().html(f)),"description"===d&&(g.attr("data-original-title",f),h.pageDescription().html(f)),b.customFieldChanged()
},"{pageDelete} click":function(a,b){return b.preventDefault(),b.stopPropagation(),1==d.page().length?!1:(EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/confirmDeletePage"),bindings:{"{deleteButton} click":function(){h.deletePage(),EasySocial.dialog().close()}}}),void 0)},deletePage:function(){h.item().trigger("pageDeleted"),b.trigger("pageDeleted",[h.options.uid]),delete l[h.options.uid],h.options.newpage||m.pages.push(h.options.uid),h.element.remove(),a.each(d.page(),function(b,c){a(c).controller().checkPageDeleteButton()
}),b.customFieldChanged()},_export:function(){var b=[];a.each(h.item(),function(c,d){var d=a(d).controller();void 0!==d&&b.push(d._export())});var c={fields:b,newpage:h.options.newpage,id:h.options.uid};if(void 0!==h.values)var c=a.extend(c,h.values);return c},updateResult:function(b,c){h.options.newpage&&(h.element.attr("id","formStep_"+c.id),h.element.removeAttr("data-fields-editor-page-"+b),h.element.attr("data-fields-editor-page-"+c.id,!0),h.options.pageid=h.options.uid=c.id,l[c.id]=a.extend(!0,{},l[b]),delete l[b],h.options.newpage=!1),void 0!==c.fields&&a.each(c.fields,function(a,b){var c=h.item().eq(a).controller();
c.updateResult(b)})},"{self} pageAdded":function(){h.checkPageDeleteButton(),b.customFieldChanged()},checkPageDeleteButton:function(){d.page().length>1?h.pageDelete().show():h.pageDelete().hide()},"{parent} loadingConfig":function(){h.pageHeader().removeClass("editting"),h.item().removeClass("editting")},"{parent} doneConfiguring":function(){h.pageHeader().removeClass("editting"),h.item().removeClass("editting")}}}),EasySocial.Controller("Fields.Editor.Item",{defaultOptions:{appid:0,fieldid:0,pageid:0,newfield:!1,"{edit}":"[data-edit]","{deleteButton}":"[data-delete]","{moveButton}":"[data-move]","{content}":"[data-fields-editor-page-item-content]","{fieldItem}":"[data-field]","{config}":"[data-fields-config]","{closeConfig}":"[data-fields-config-close]"}},function(h,i){return{app:{},field:{id:0,appid:0,params:{}},state:a.Deferred(),appParams:{},init:function(){0==i.appid&&void 0!==h.element.data("appid")&&(i.appid=h.element.data("appid")),void 0!==g[i.appid]&&(h.app=g[i.appid]),0==i.fieldid&&void 0!==h.element.data("id")&&(i.fieldid=h.element.data("id")),h.registerFields(),h.uniqueid=a.uid(h.app.id+"_"),h.loadedInit()
},registerFields:function(){0!=h.options.fieldid&&(k[h.options.fieldid]={id:h.options.fieldid,appid:h.options.appid,params:h.field.params||{}},h.field=k[h.options.fieldid])},loadedInit:function(){h.element.addController("EasySocial.Controller.Field.Base",{mode:"sample",element:h.app.element}),h.content().addController("EasySocial.Controller.Fields.Editor.Item.Config")},_export:function(){c.checkout(i.appid);var b={fieldid:i.fieldid,appid:i.appid,newfield:i.newfield};return b=a.extend(b,h.expandConfig(h.field.params))
},"{self} click":function(b,c){var d=a(c.target);if(!(d.is(h.deleteButton.selector)||d.is(h.moveButton.selector)||d.is(h.config.selector)||d.is(h.closeConfig.selector)||b.hasClass("editting"))){if(f&&f.state){var e=f.checkConfig();if(!e)return EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/getSaveError",{message:"COM_EASYSOCIAL_PROFILES_FORM_FIELDS_INVALID_VALUES"})}),void 0;f.closeConfig()}h.loadConfiguration()}},loadConfiguration:function(){h.element.addClass("editting"),b.getConfiguration(h,"field",function(b,c,d){h.field.params=c,h.app.params=d,h.field.html=b,h.populateAppParams();
var e=a(h.field.html);f.load(e)})},updateHtml:function(a){h.field.html=a},populateAppParams:function(){a.each(h.app.params,function(b,c){a.each(c.fields,function(b,c){c.subfields?a.each(c.subfields,function(a,c){h.appParams[b+"_"+a]=c}):h.appParams[b]=c})})},getConfigValues:function(){return h.field.params},expandConfig:function(){var b={params:{},choices:{}};return a.each(h.field.params,function(a,c){var d=h.appParams[a];if(!d)return!1;var e="choices"==d.type?"choices":"params";b[e][a]=c}),h.options.newfield&&(b.params.unique_key=""),b
},"{moveButton} click":function(c,f){f.preventDefault(),f.stopPropagation();var g=b.options.id,i=b.options.group,j=e.toObject(),k=c.parents(d.page.selector).data("id"),l=[];a.each(j,function(a,b){b.uid!=k&&l.push(b)}),EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/confirmMoveField",{id:g,group:i}),bindings:{"{confirmButton} click":function(){var a=this.selection().val(),c=d.getPage(a);c.items().append(h.element),b.customFieldChanged(),EasySocial.dialog().close()}}})},"{deleteButton} click":function(a,b){b.preventDefault(),b.stopPropagation(),EasySocial.dialog({content:EasySocial.ajax("admin/views/fields/confirmDeleteField"),bindings:{"{deleteButton} click":function(){h.deleteField(),EasySocial.dialog().close()
}}})},deleteField:function(){b.trigger("fieldDeleted",[h.options.appid,h.options.fieldid]),h.options.newfield||(delete k[h.options.fieldid],m.fields.push(h.options.fieldid)),h.element.remove(),b.browser().removeClass("t-hidden"),b.customFieldChanged()},"{self} pageDeleted":function(){h.deleteField()},"{content} onConfigChange":function(a,b,c,d){h.field.params[c]=d},"{self} onPopulateConfig":function(a,b,c){h.field.params=c},updateResult:function(b){h.field.params.unique_key=b.unique_key,h.itemParam("[data-fields-config-param-field-unique_key]").val(b.unique_key),h.options.newfield&&(h.options.newfield=!1,h.options.fieldid=b.fieldid,h.element.data("id",b.fieldid),h.itemParam("[data-fields-editor-page-item-param-field-unique_key]").removeAttr("disabled"),h.registerFields()),void 0!==b.choices&&a.each(b.choices,function(b,c){var d=h.itemParam("[data-fields-config-param-field-"+b+"]");
a.each(c,function(a,b){var c=d.find("li").eq(a);c.data("id")||(c.attr("data-id",b.id),c.data("id",b.id))})})}}}),EasySocial.Controller("Fields.Editor.Item.Config",{defaultOptions:{"{required}":"[data-required]","{title}":"[data-title]","{description}":"[data-description]","{displayTitle}":"[data-display-title]","{displayDescription}":"[data-display-description]"}},function(a){return{"{self} onConfigChange":function(b,c,d,e){"display_title"==d&&a.displayTitle().toggle(e),"display_description"==d&&a.displayDescription().toggle(e),"title"==d&&a.title().text(e),"description"==d&&a.description().text(e),"required"==d&&a.required().toggle(e)
}}}),i.resolve()})}),EasySocial.module("admin/fields/steps",function(a){var c=this;EasySocial.Controller("Fields.Steps",{defaultOptions:{"{steps}":"[data-fields-step]","{step}":"[data-fields-step-item]","{stepLink}":"[data-fields-step-item-link]","{add}":"[data-fields-step-add]"}},function(c){return{state:a.Deferred(),init:function(){c.ready()},ready:function(){c.state.resolve()},"{parent} controllersReady":function(){c.initSort()},initSort:function(){c.steps().sortable({items:c.step.selector,placeholder:"ui-state-highlight",cursor:"move",helper:"clone",forceHelperSize:!0,stop:function(){a(".tooltip-es").remove(),b.customFieldChanged()
}})},"{parent} pageDeleted":function(a,b,d){c.deleteStep(d),e.step().length>0&&e.stepLink(":first").tab("show")},"{step} click":function(a){if(!a.hasClass("active")){var e=a.data("id");b.trigger("pageChanged",[d.getPage(e),e])}},"{add} click":function(){var b=a.uid("step");EasySocial.ajax("admin/views/fields/getPageMenu",{uid:b}).done(function(a){c.add().before(a),d.addPage(b,function(){c.stepLink(":last").tab("show")})})},getStep:function(a){return c.step().filterBy("id",a)},getStepLink:function(a){return c.stepLink().filterBy("id",a)
},deleteStep:function(a){c.getStep(a).remove()},getCurrentStep:function(){return c.step(".active")},currentStepIndex:function(){return c.step().index(c.step(".active"))+1},updateResult:function(a,b){var d=c.step(":eq("+a+")");if(d.data("id")!=b){var e=d.data("id");d.removeAttr("data-fields-step-item-"+e),d.attr("data-fields-step-item-"+b,!0),d.data("id",b),d.attr("data-id",b);var f=c.stepLink().eq(a);f.removeAttr("data-fields-step-item-link-"+e),f.attr("data-fields-step-item-link-"+b,!0),f.attr("href","#formStep_"+b)
}},toObject:function(){var b=[];return a.each(c.stepLink(),function(c,d){d=a(d),b.push({uid:d.data("id"),title:d.text(),description:d.attr("data-original-title")})}),b}}}),c.resolve()}),EasySocial.module("admin/grid/grid",function(){var b=this;EasySocial.require().script("admin/grid/sort","admin/grid/publishing").done(function(a){EasySocial.Controller("Grid",{defaultOptions:{"{sortColumns}":"[data-table-grid-sort]","{ordering}":"[data-table-grid-ordering]","{saveorder}":"[data-table-grid-saveorder]","{direction}":"[data-table-grid-direction]","{task}":"[data-table-grid-task]","{searchInput}":"[data-table-grid-search-input]","{search}":"[data-table-grid-search]","{resetSearch}":"[data-table-grid-search-reset]","{checkAll}":"[data-table-grid-checkall]","{checkboxes}":"input[type=checkbox][data-table-grid-id]","{publishItems}":"[data-table-grid-publishing]","{itemRow}":"tr","{boxChecked}":"[data-table-grid-box-checked]","{filters}":"[data-table-grid-filter]"}},function(b){return{init:function(){b.implementSortable(),b.implementPublishing()
},"{filters} change":function(){b.setTask(""),b.submitForm()},"{search} click":function(){b.submitForm()},"{saveorder} click":function(){b.setTask("saveorder"),b.checkAll().click(),b.submitForm()},"{resetSearch} click":function(){b.searchInput().val(""),b.submitForm()},submitForm:function(){b.element.submit()},setTask:function(a){b.task().val(a)},setOrdering:function(a){b.ordering().val(a)},setDirection:function(a){b.direction().val(a)},updateBoxChecked:function(){var a=b.checkboxes(":checked").length;b.boxChecked().val(a)
},toggleSelectRow:function(b){var c=b.find("input[name=cid\\[\\]]");1==a(c).prop("checked")?a(c).prop("checked",!1):a(c).prop("checked",!0)},selectRow:function(b){var c=b.find("input[name=cid\\[\\]]");a(c).prop("checked",!0)},implementSortable:function(){b.sortColumns().implement(EasySocial.Controller.Grid.Sort,{"{parent}":b})},implementPublishing:function(){b.publishItems().implement(EasySocial.Controller.Grid.Publishing,{"{parent}":b})},"{checkboxes} click":function(a,b){b.stopPropagation()},"{itemRow} click":function(a){var d=a.find(b.checkboxes.selector);
d.prop("checked",!d.is(":checked")).trigger("change")},"{checkboxes} change":function(a){{var d=a.is(":checked"),e=a.closest(b.itemRow.selector);b.checkboxes().is(":checked").length}b.updateBoxChecked(),e.toggleClass("is-checked",d)},"{checkAll} change":function(a){b.checkboxes().prop("checked",a.is(":checked")).trigger("change");a.is(":checked")?b.checkboxes().length:0;b.updateBoxChecked()}}}),b.resolve()})}),EasySocial.module("admin/grid/ordering",function(a){var b=this;EasySocial.Controller("Grid.Ordering",{defaultOptions:{"{moveUp}":"[data-grid-order-up]","{moveDown}":"[data-grid-order-down]",row:null}},function(b){return{init:function(){b.options.row=b.element.parents("tr")
},selectRow:function(){var c=b.options.row.find("input[name=cid\\[\\]]");a(c).prop("checked",!0)},"{moveUp} click":function(){b.selectRow(),a.Joomla("submitform",["moveUp"])},"{moveDown} click":function(){b.selectRow(),a.Joomla("submitform",["moveDown"])}}}),b.resolve()}),EasySocial.module("admin/grid/publishing",function(){var b=this;EasySocial.Controller("Grid.Publishing",{defaultOptions:{}},function(a){return{init:function(){},"{self} click":function(){var c=a.element.parents("tr"),d=a.element.data("task");
a.parent.selectRow(c),a.parent.setTask(d),a.parent.submitForm()}}}),b.resolve()}),EasySocial.module("admin/grid/sort",function(){var b=this;EasySocial.Controller("Grid.Sort",{defaultOptions:{items:"[data-grid-sort-item]"}},function(a){return{init:function(){},"{self} click":function(){var b=a.element.data("direction"),c=a.element.data("sort");a.parent.setOrdering(c),a.parent.setDirection(b),a.parent.setTask(""),a.parent.submitForm()}}}),b.resolve()}),EasySocial.module("admin/groups/groups",function(){var b=this;
EasySocial.require().library("expanding").done(function(){EasySocial.Controller("Groups.Pending.Item",{defaultOptions:{"{approve}":"[data-pending-approve]","{reject}":"[data-pending-reject]"}},function(a){return{init:function(){a.options.id=a.element.data("id")},"{approve} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/groups/approveGroup",{ids:a.options.id})})},"{reject} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/groups/rejectGroup",{ids:a.options.id})})
}}}),b.resolve()})}),EasySocial.module("admin/maintenance/database",function(a){var b=this;EasySocial.Controller("Maintenance.Database",{defaultOptions:{"{start}":"[data-start]","{progress}":"[data-progress]","{progressBox}":"[data-progress-box]","{progressBar}":"[data-progress-bar]","{progressPercentage}":"[data-progress-percentage]"}},function(a){return{init:function(){},"{start} click":function(b){b.hide(),a.progress().show(),a.process()},counter:0,versions:[],process:function(){a.getStats().done(function(b){a.versions=b,a.execute()
})},getStats:function(){return EasySocial.ajax("admin/controllers/maintenance/getDatabaseStats")},execute:function(){return void 0===a.versions[a.counter]?a.completed():(EasySocial.ajax("admin/controllers/maintenance/synchronizeDatabase",{version:a.versions[a.counter]}).done(function(){a.counter++;var b=Math.floor(a.counter/a.versions.length*100)+"%";a.progressBar().css("width",b),a.progressPercentage().text(b),a.execute()}),void 0)},completed:function(){a.progressBar().css("width","100%"),a.progressPercentage().text("100%"),a.progressBox().removeClass("progress-info").addClass("progress-success")
}}}),a("[data-base]").addController("EasySocial.Controller.Maintenance.Database"),b.resolve()}),EasySocial.module("admin/maintenance/maintenance",function(){var b=this;EasySocial.Controller("Maintenance.Execute",{defaultOptions:{"{row}":"[data-row]"}},function(a){return{init:function(){a.runscript()},counter:0,success:0,fail:0,runscript:function(){var b=a.row().eq(a.counter);if(0===b.length)return a.completed();var c=b.data("key");EasySocial.ajax("admin/controllers/maintenance/runscript",{key:c}).done(function(){a.setStatus(b,1),a.success++
}).fail(function(){a.setStatus(b,0),a.fail++}).always(function(){a.counter++,a.runscript()})},completed:function(){a.fail<1&&(window.location="index.php?option=com_easysocial&view=maintenance&success="+a.success)},setStatus:function(a,b){var c=a.find("[data-status]"),d=a.find("[data-icon]"),e=["label-danger","label-success","label-warning"],f=["fa-exclamation-triangle","fa-check","fa-wrench"];for(i=0;3>i;i++)c.toggleClass(e[i],b==i),d.toggleClass(f[i],b==i)}}}),b.resolve()}),EasySocial.module("admin/migrators/migrator",function(){var b=this;
EasySocial.require().script("admin/progress/progress").done(function(a){EasySocial.Controller("Migrators.Migrator",{defaultOptions:{component:null,processState:0,progressController:null,mapping:null,updateconfig:0,"{initiateButton}":"[data-initiate-migration]","{progressBar}":".discoverProgress","{results}":".scannedResult","{viewLog}":".viewLog","{customFieldsMap}":"[data-custom-fields-map]","{resultForm}":"[data-migration-result]","{startWidget}":"[data-start-widget]","{fieldItem}":"[data-field-item]","{startMigrationButton}":"[data-start-migration]","{rows}":"[data-row-item]","{selection}":"[data-field-item]","{jomsocialBackButton}":"[data-jomsocial-back-button]"}},function(b){return{init:function(){b.initProgressBar(),b.initLogging()
},showCustomFields:function(){b.startWidget().slideUp(),b.customFieldsMap().slideDown()},showResultForm:function(){b.customFieldsMap().slideUp(),"com_community"!=b.options.component&&b.startWidget().slideUp(),b.resultForm().slideDown()},startMigration:function(){b.showResultForm(),1!=b.options.processState&&(b.options.processState=1,b.reset(),EasySocial.ajax("admin/controllers/migrators/check",{component:b.options.component}).done(function(a){a.isvalid?(b.options.progressController.begin(a.count),b.startIterating("")):(b.results().show(),b.addLog("Error: "+a.message),b.options.processState=0)
}))},reset:function(){b.results().empty(),b.initLogging(),b.options.progressController.reset()},initLogging:function(){b.viewLog().hide()},initProgressBar:function(){b.progressBar().implement(EasySocial.Controller.Progress),b.options.progressController=b.progressBar().controller()},addLog:function(c){a("<li>").html(c).appendTo(b.results())},startIterating:function(c){null==b.options.mapping&&b.selection().length>0&&(b.options.mapping=a("#adminForm").serializeArray()),EasySocial.ajax("admin/controllers/migrators/process",{component:b.options.component,item:c,mapping:b.options.mapping,updateconfig:b.options.updateconfig}).always(function(a,c){b.options.updateconfig=c,a["continue"]?(b.options.progressController.touch("Discovering..."),b.addLog(a.message),b.startIterating(a.item)):(b.options.progressController.touch("Discover Completed"),b.addLog(a.message),b.addLog("migration process completed."),b.viewLog().show(),b.jomsocialBackButton().show(),b.options.processState=0)
})},"{fieldItem} change":function(b){var c=a(b).val();""==c?a(b).parents("[data-row-item]").removeClass("success").addClass("error"):a(b).parents("[data-row-item]").removeClass("error").addClass("success")},"{startMigrationButton} click":function(){b.selection().length>0&&b.selection().each(function(b,c){""==a(c).val()?a(c).parents("[data-row-item]").removeClass("success").addClass("error"):a(c).parents("[data-row-item]").removeClass("error").addClass("success")});var c=b.rows().hasClass("error");c?EasySocial.dialog({content:EasySocial.ajax("admin/views/migrators/confirmMigration"),bindings:{"{submitButton} click":function(){b.startMigration(),EasySocial.dialog().close()
}}}):b.startMigration()},"{initiateButton} click":function(){b.showCustomFields()},"{viewLog} click":function(){b.results().toggle()}}}),b.resolve()})}),EasySocial.module("admin/pages/pages",function(){var b=this;EasySocial.require().library("expanding").done(function(){EasySocial.Controller("Pages.Pending.Item",{defaultOptions:{"{approve}":"[data-pending-approve]","{reject}":"[data-pending-reject]"}},function(a){return{init:function(){a.options.id=a.element.data("id")},"{approve} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/pages/approvePage",{ids:a.options.id})})
},"{reject} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/pages/rejectPage",{ids:a.options.id})})}}}),b.resolve()})}),EasySocial.module("admin/profiles/avatar",function(a){var b=this;EasySocial.require().script("uploader/uploader").done(function(){EasySocial.Controller("Profiles.Avatar",{defaultOptions:{token:null,"{fileUploader}":"[data-profile-avatars-uploader]","{startUploadButton}":"[data-profile-avatars-startupload]","{avatarList}":"[data-profile-avatars-list]","{avatarEmpty}":"[data-profile-avatars-empty]","{avatarItem}":"[data-profile-avatars-item]","{messagePlaceholder}":"[data-profile-avatars-message]","{removeFile}":".removeFile","{clearUploadedItems}":"[data-uploader-clear]"}},function(b){return{init:function(){b.options.id=b.element.data("id"),b.initUploader(),b.initAvatar()
},initUploader:function(){b.fileUploader().implement(EasySocial.Controller.Uploader,{url:window.es.rootUrl+"/administrator/index.php?option=com_easysocial&namespace=admin/controllers/profiles/uploadDefaultAvatars&"+b.options.token+"=1&tmpl=component&format=ajax&uid="+b.options.id})},initAvatar:function(){b.avatarItem().implement("EasySocial.Controller.Profiles.Avatar.Item",{"{parent}":b,items:b.avatarItem})},addMessage:function(a){b.clearMessage(),b.setMessage(a)},"{removeFile} click":function(c){var e=a(c).parents("li").attr("id");
b.fileUploader().controller().removeItem(e)},"{startUploadButton} click":function(){var a=b.fileUploader().controller();a.startUpload()},"{fileUploader} UploadProgress":function(b,c,d){var e=d.percent,f="#"+d.id,g=a(f).find(".progressBar");g.show(),g.find(".bar").css("width",e+"%")},"{fileUploader} FileUploaded":function(a,c,d,e){if(void 0!=e[0]){var f=e[0].data[0];b.avatarEmpty().hide(),b.avatarList().prepend(f),b.clearUploadedItems().show(),b.initAvatar()}},"{clearUploadedItems} click":function(){var a=b.fileUploader().controller();
a.reset(),b.clearUploadedItems().hide()}}}),EasySocial.Controller("Profiles.Avatar.Item",{defaultOptions:{id:null,"{deleteLink}":"[data-avatar-delete]","{setDefaultAvatar}":"[data-avatar-default]"}},function(b){return{init:function(){b.options.id=b.element.data("id")},"{setDefaultAvatar} click":function(){EasySocial.ajax("admin/controllers/avatars/setDefault",{id:b.options.id}).done(function(a){b.parent.avatarItem().removeClass("default"),b.element.addClass("default"),b.parent.addMessage(a)})},"{deleteLink} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/profiles/confirmDeleteAvatar"),bindings:{"{deleteButton} click":function(c){a(c).addClass("btn-loading"),EasySocial.ajax("admin/controllers/avatars/delete",{id:b.options.id}).done(function(a){b.element.remove(),0==b.parent.avatarList().children().length&&b.parent.avatarEmpty().show(),b.parent.addMessage(a),EasySocial.dialog().close()
})}}})}}}),b.resolve()})}),EasySocial.module("admin/profiles/form",function(){var b=this;EasySocial.require().script("admin/utilities/alias").done(function(a){EasySocial.Controller("Profiles.Profile",{defaultOptions:{id:null,hasAvatar:!1,defaultAvatar:null,"{profileAvatar}":"[data-profile-avatar]","{profileAvatarImage}":"[data-profile-avatar-image]","{profileAvatarRemoveWrap}":"[data-profile-avatar-remove-wrap]","{profileAvatarRemoveButton}":"[data-profile-avatar-remove-button]","{profileAvatarUpload}":"[data-profile-avatar-upload]"}},function(b){return{init:function(){b.element.addController("EasySocial.Controller.Utilities.Alias",{"{source}":"#title","{target}":"#alias"}),b.options.hasAvatar=b.profileAvatar().data("hasavatar"),b.options.defaultAvatar=b.profileAvatar().data("defaultavatar")
},"{profileAvatarUpload} change":function(c){var d=c.val();a.isEmpty(d)?b.options.hasAvatar||b.profileAvatarRemoveWrap().hide():b.profileAvatarRemoveWrap().show()},"{profileAvatarRemoveButton} click":function(){return b.options.hasAvatar?(EasySocial.dialog({content:EasySocial.ajax("admin/views/profiles/confirmRemoveProfileAvatar"),bindings:{"{deleteButton} click":function(){EasySocial.ajax("admin/controllers/profiles/deleteProfileAvatar",{id:b.options.id}).done(function(){b.profileAvatarImage().attr("src",b.options.defaultAvatar),b.profileAvatarRemoveWrap().hide(),b.options.hasAvatar=!1,EasySocial.dialog().close()
})}}}),void 0):(b.profileAvatarUpload().val("").trigger("change"),void 0)}}}),b.resolve()})}),EasySocial.module("admin/progress/progress",function(){var b=this;EasySocial.Controller("Progress",{defaultOptions:{current:0,eachWidth:null,total:null,progressClass:"progress progress-info progress-striped","{progressBar}":".bar","{progressResult}":".progress-result"}},function(a){return{reset:function(){a.options.current=0,a.eachWidth=null,a.total=null,a.progressBar().css("width","0%").html("")},begin:function(b){a.options.total=b,a.options.eachWidth=100/b,b>0&&a.element.addClass(a.options.progressClass).show()
},touch:function(){a.options.current+=a.options.eachWidth,a.options.current>100&&(a.options.current=100),a.progressBar().css("width",a.options.current+"%"),a.progressResult().html(Math.round(a.options.current)+"%")},completed:function(){a.options.current=100,a.progressBar().css("width",a.options.current+"%"),a.progressResult().html(Math.round(a.options.current)+"%")}}}),b.resolve()}),EasySocial.module("admin/regions/form",function(a){var b=this;EasySocial.Controller("Regions.Form",{defaultOptions:{"{type}":"[data-type]","{parentBase}":"[data-parent-base]","{parentContent}":"[data-parent-content]","{parentUid}":"[data-parent-uid]","{parentType}":"[data-parent-type]"}},function(b){return{init:function(){b.element.find('input[type="text"]').prop("disabled",!b.type().val()),b.element.find('[data-bs-toggle="radio-buttons"]').toggleClass("disabled",!b.type().val())
},"{type} change":function(c){var d=c.find(":selected").data("parent");b.parentType().val(d),b.element.find('input[type="text"]').prop("disabled",!c.val()),b.element.find('[data-bs-toggle="radio-buttons"]').toggleClass("disabled",!c.val()),d?(b.parentBase().show(),!b.parentContent().data("loaded")&&b.getParents(d).done(function(c){var d=a(b.view.parentsSelect());a.each(c,function(a,c){b.view.parentsOption({uid:c.uid,name:c.name}).appendTo(d)}),b.parentContent().html(d)})):b.parentBase().hide()},getParents:a.memoize(function(a){return EasySocial.ajax("admin/controllers/regions/getParents",{type:a})
}),validate:function(){return b.type().val()&&b.element.find('input[name="name"]').val()&&b.element.find('input[name="code"]').val()}}}),b.resolve()}),EasySocial.module("admin/regions/init",function(a){var b=this;EasySocial.Controller("Region.Init",{defaultOptions:{callback:function(){},"{startButton}":"[data-start]","{table}":"[data-table]","{tableBody}":"[data-table-body]","{row}":"[data-table-row]"}},function(b){return{init:function(){b.row().addController("EasySocial.Controller.Region.Init.Row")},"{startButton} click":function(c){c.hide(),b.table().show(),b.counter=0,b.progress=a.Deferred().done(function(){b.options.callback()
}),b.process()},process:function(){var a=b.row().eq(b.counter);return 0===a.length?b.progress.resolve():(a.show(),EasySocial.ajax("admin/controllers/regions/initialise",{key:a.data("key")}).done(function(){a.trigger("updateStatus",[1]),b.counter++,b.process()}),void 0)}}}),EasySocial.Controller("Region.Init.Row",{defaultOptions:{"{title}":"[data-row-title]","{status}":"[data-row-status]","{icon}":"[data-row-icon]"}},function(a){return{init:function(){},statuses:["label-danger","label-success","label-warning"],icons:["fa-exclamation-triangle","fa-check","fa-wrench"],"{self} updateStatus":function(b,c,d){var e=a.status(),f=a.icon();
for(i=0;3>i;i++)e.toggleClass(a.statuses[i],d==i),f.toggleClass(a.icons[i],d==i)}}}),b.resolve()}),EasySocial.module("admin/users/form",function(){var b=this;EasySocial.require().script("shared/fields/base").done(function(a){EasySocial.Controller("Users.Form",{defaultOptions:{userid:null,mode:"adminedit","{selectProfile}":"[data-user-select-profile]","{content}":"[data-user-new-content]","{profileTitle}":"[data-profile-title]","{fieldItem}":"[data-profile-adminedit-fields-item]","{tabnav}":"[data-tabnav]","{tabcontent}":"[data-tabcontent]","{stepnav}":"[data-stepnav]","{stepcontent}":"[data-stepcontent]",view:{loading:"site/loading/large"}}},function(b){return{init:function(){window.selectedProfile=b.selectedProfile,b.fieldItem().addController("EasySocial.Controller.Field.Base",{userid:b.options.userid,mode:b.options.mode})
},selectedProfile:function(a){EasySocial.dialog().close(),window.location.href="index.php?option=com_easysocial&view=users&layout=form&profileId="+a},"{selectProfile} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/profiles/browse")})},errorFields:[],"{fieldItem} error":function(c){var e=c.data("id");a.inArray(e,b.errorFields)<0&&b.errorFields.push(e);var f=c.parents(b.stepcontent.selector).data("for");b.stepnav().filterBy("for",f).trigger("error");var g=c.parents(b.tabcontent.selector).data("for");
b.tabnav().filterBy("for",g).trigger("error")},"{fieldItem} clear":function(c){var e=c.data("id");b.errorFields=a.without(b.errorFields,e);var f=c.parents(b.stepcontent.selector).data("for");b.stepnav().filterBy("for",f).trigger("clear");var g=c.parents(b.tabcontent.selector).data("for");b.tabnav().filterBy("for",g).trigger("clear")},"{stepnav} error":function(a){a.addClass("error")},"{tabnav} error":function(a){a.addClass("error")},"{stepnav} clear":function(a){b.errorFields.length<1&&a.removeClass("error")
},"{tabnav} clear":function(a){b.errorFields.length<1&&a.removeClass("error")},"{stepnav} click":function(a){var c=a.data("for");b.stepcontent().filterBy("for",c).find(b.fieldItem.selector).trigger("show")}}}),b.resolve()})}),EasySocial.module("admin/users/privacy",function(){var b=this;EasySocial.require().library("textboxlist").done(function(a){EasySocial.Controller("Profile.Privacy",{defaultOptions:{userId:"","{privacyItem}":"[data-privacy-item]","{privacyForm}":"[data-profile-privacy-form]"}},function(a){return{init:function(){a.privacyItem().implement(EasySocial.Controller.Profile.Privacy.Item,{"{parent}":a})
}}}),EasySocial.Controller("Profile.Privacy.Item",{defaultOptions:{"{selection}":"[data-privacy-select]","{hiddenCustom}":"[data-hidden-custom]","{customForm}":"[data-privacy-custom-form]","{customTextInput}":"[data-textfield]","{customItems}":"input[]","{customHideBtn}":"[data-privacy-custom-hide-button]","{customInputItem}":"[data-textboxlist-item]","{customEditBtn}":"[data-privacy-custom-edit-button]"}},function(b){return{init:function(){b.customTextInput().textboxlist({component:"es",unique:!0,plugin:{autocomplete:{exclusive:!0,minLength:2,cache:!1,query:function(a){var c=b.getTaggedUsers(),d=EasySocial.ajax("site/views/privacy/getfriends",{q:a,userid:b.parent.options.userId,exclude:c});
return d}}}}),b.textboxlistLib=b.customTextInput().textboxlist("controller")},getTaggedUsers:function(){var c=[],d=b.customInputItem();return d.length>0&&a.each(d,function(b,d){c.push(a(d).data("id"))}),c},"{customTextInput} addItem":function(a,c,d){var e=b.hiddenCustom().val(),f="";if(""==e)f=d.id;else{var g=e.split(",");g.push(d.id),f=g.join(",")}b.hiddenCustom().val(f)},"{customTextInput} removeItem":function(a,c,d){for(var e=b.hiddenCustom().val(),f="",g=[],h=e.split(","),i=0;i<h.length;i++)h[i]!=d.id&&g.push(h[i]);
f=g.length<=0?"":g.join(","),b.hiddenCustom().val(f)},"{customEditBtn} click":function(){b.customForm().toggle()},"{selection} change":function(a){var c=a.val();"custom"==c?(b.customForm().show(),b.customEditBtn().show()):(b.customForm().hide(),b.customEditBtn().hide())},"{customHideBtn} click":function(){b.customForm().hide(),b.customEditBtn().show(),b.textboxlistLib.autocomplete.hide()}}}),b.resolve()})}),EasySocial.module("admin/users/users",function(){var b=this;EasySocial.require().library("expanding").done(function(a){EasySocial.Controller("Users",{defaultOptions:{"{item}":"[data-user-item]"}},function(a){return{init:function(){a.item().implement(EasySocial.Controller.Users.Item)
}}}),EasySocial.Controller("Users.Item",{defaultOptions:{"{insertLink}":"[data-user-item-insertLink]"}},function(a){return{init:function(){a.options.name=a.element.data("name"),a.options.avatar=a.element.data("avatar"),a.options.email=a.element.data("email"),a.options.id=a.element.data("id")},"{insertLink} click":function(){a.trigger("userSelected",[a.options.id,a.options.name,a.options.avatar,a.options.email])}}}),EasySocial.Controller("Users.Pending",{defaultOptions:{"{item}":"[data-pending-item]"}},function(a){return{init:function(){a.item().implement(EasySocial.Controller.Users.Pending.Item)
}}}),EasySocial.Controller("Users.Pending.Item",{defaultOptions:{"{approve}":"[data-pending-approve]","{reject}":"[data-pending-reject]"}},function(b){return{init:function(){b.options.id=b.element.data("id")},"{approve} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/users/confirmApprove",{id:b.options.id}),bindings:{"{approveButton} click":function(){a("[data-users-approve-form]").submit()}}})},"{reject} click":function(){EasySocial.dialog({content:EasySocial.ajax("admin/views/users/confirmReject",{id:b.options.id})})
}}}),b.resolve()})}),EasySocial.module("admin/utilities/alias",function(){var b=this;EasySocial.Controller("Utilities.Alias",{defaultOptions:{"{target}":"","{source}":""}},function(a){return{init:function(){},convertToPermalink:function(a){return a.replace(/\s/g,"-").replace(/[^\w/-]/g,"").toLowerCase()},"{source} keyup":function(){var d=a.convertToPermalink(a.source().val());a.target().val(d)},"{target} keyup":function(){var d=a.convertToPermalink(a.target().val());a.target().val(d)}}}),b.resolve()}),EasySocial.module("admin/vendors/drag",function(a){var b=this,c=a;
!function(a){a.fn.drag=function(b,c,d){var e="string"==typeof b?b:"",f=a.isFunction(b)?b:a.isFunction(c)?c:null;return 0!==e.indexOf("drag")&&(e="drag"+e),d=(b==f?c:d)||{},f?this.bind(e,d,f):this.trigger(e)};var b=a.event,c=b.special,d=c.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(b){var c=a.data(this,d.datakey),e=b.data||{};c.related+=1,a.each(d.defaults,function(a){void 0!==e[a]&&(c[a]=e[a])})},remove:function(){a.data(this,d.datakey).related-=1
},setup:function(){if(!a.data(this,d.datakey)){var c=a.extend({related:0},d.defaults);a.data(this,d.datakey,c),b.add(this,"touchstart mousedown",d.init,c),this.attachEvent&&this.attachEvent("ondragstart",d.dontstart)}},teardown:function(){var c=a.data(this,d.datakey)||{};c.related||(a.removeData(this,d.datakey),b.remove(this,"touchstart mousedown",d.init),d.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",d.dontstart))},init:function(e){if(!d.touched){var g,f=e.data;if(!(0!=e.which&&f.which>0&&e.which!=f.which||a(e.target).is(f.not)||f.handle&&!a(e.target).closest(f.handle,e.currentTarget).length||(d.touched="touchstart"==e.type?this:null,f.propagates=1,f.mousedown=this,f.interactions=[d.interaction(this,f)],f.target=e.target,f.pageX=e.pageX,f.pageY=e.pageY,f.dragging=null,g=d.hijack(e,"draginit",f),!f.propagates)))return g=d.flatten(g),g&&g.length&&(f.interactions=[],a.each(g,function(){f.interactions.push(d.interaction(this,f))
})),f.propagates=f.interactions.length,f.drop!==!1&&c.drop&&c.drop.handler(e,f),d.textselect(!1),d.touched?b.add(d.touched,"touchmove touchend",d.handler,f):b.add(document,"mousemove mouseup",d.handler,f),!d.touched||f.live?!1:void 0}},interaction:function(b,c){var e=a(b)[c.relative?"position":"offset"]()||{top:0,left:0};return{drag:b,callback:new d.callback,droppable:[],offset:e}},handler:function(e){var f=e.data;switch(e.type){case!f.dragging&&"touchmove":e.preventDefault();case!f.dragging&&"mousemove":if(Math.pow(e.pageX-f.pageX,2)+Math.pow(e.pageY-f.pageY,2)<Math.pow(f.distance,2))break;
e.target=f.target,d.hijack(e,"dragstart",f),f.propagates&&(f.dragging=!0);case"touchmove":e.preventDefault();case"mousemove":if(f.dragging){if(d.hijack(e,"drag",f),f.propagates){f.drop!==!1&&c.drop&&c.drop.handler(e,f);break}e.type="mouseup"}case"touchend":case"mouseup":default:d.touched?b.remove(d.touched,"touchmove touchend",d.handler):b.remove(document,"mousemove mouseup",d.handler),f.dragging&&(f.drop!==!1&&c.drop&&c.drop.handler(e,f),d.hijack(e,"dragend",f)),d.textselect(!0),f.click===!1&&f.dragging&&a.data(f.mousedown,"suppress.click",(new Date).getTime()+5),f.dragging=d.touched=!1
}},hijack:function(c,e,f,g,h){if(f){var k,m,o,i={event:c.originalEvent,type:c.type},j=e.indexOf("drop")?"drag":"drop",l=g||0,p=isNaN(g)?f.interactions.length:g;c.type=e,c.originalEvent=null,f.results=[];do if(m=f.interactions[l]){if("dragend"!==e&&m.cancelled)continue;o=d.properties(c,f,m),m.results=[],a(h||m[j]||f.droppable).each(function(g,h){return o.target=h,c.isPropagationStopped=function(){return!1},k=h?b.dispatch.call(h,c,o):null,k===!1?("drag"==j&&(m.cancelled=!0,f.propagates-=1),"drop"==e&&(m[j][g]=null)):"dropinit"==e&&m.droppable.push(d.element(k)||h),"dragstart"==e&&(m.proxy=a(d.element(k)||m.drag)[0]),m.results.push(k),delete c.result,"dropinit"!==e?k:void 0
}),f.results[l]=d.flatten(m.results),"dropinit"==e&&(m.droppable=d.flatten(m.droppable)),"dragstart"!=e||m.cancelled||o.update()}while(++l<p);return c.type=i.type,c.originalEvent=i.event,d.flatten(f.results)}},properties:function(a,b,c){var e=c.callback;return e.drag=c.drag,e.proxy=c.proxy||c.drag,e.startX=b.pageX,e.startY=b.pageY,e.deltaX=a.pageX-b.pageX,e.deltaY=a.pageY-b.pageY,e.originalX=c.offset.left,e.originalY=c.offset.top,e.offsetX=e.originalX+e.deltaX,e.offsetY=e.originalY+e.deltaY,e.drop=d.flatten((c.drop||[]).slice()),e.available=d.flatten((c.droppable||[]).slice()),e
},element:function(a){return a&&(a.jquery||1==a.nodeType)?a:void 0},flatten:function(b){return a.map(b,function(b){return b&&b.jquery?a.makeArray(b):b&&b.length?d.flatten(b):b})},textselect:function(b){a(document)[b?"unbind":"bind"]("selectstart",d.dontstart).css("MozUserSelect",b?"":"none"),document.unselectable=b?"off":"on"},dontstart:function(){return!1},callback:function(){}};d.callback.prototype={update:function(){c.drop&&this.available.length&&a.each(this.available,function(a){c.drop.locate(this,a)})}};
var e=b.dispatch;b.dispatch=function(b){return a.data(this,"suppress."+b.type)-(new Date).getTime()>0?(a.removeData(this,"suppress."+b.type),void 0):e.apply(this,arguments)};var f=b.fixHooks.touchstart=b.fixHooks.touchmove=b.fixHooks.touchend=b.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(b,c){if(c){var d=c.touches&&c.touches[0]||c.changedTouches&&c.changedTouches[0]||null;d&&a.each(f.props,function(a,c){b[c]=d[c]})}return b}};c.draginit=c.dragstart=c.dragend=d
}(c),b.resolve()}),EasySocial.module("admin/vendors/mousewheel",function(a){function j(b){var c=b||window.event,d=e.call(arguments,1),h=0,j=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(c),b.type="mousewheel","detail"in c&&(m=-1*c.detail),"wheelDelta"in c&&(m=c.wheelDelta),"wheelDeltaY"in c&&(m=c.wheelDeltaY),"wheelDeltaX"in c&&(j=-1*c.wheelDeltaX),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(j=-1*m,m=0),h=0===m?j:m,"deltaY"in c&&(m=-1*c.deltaY,h=m),"deltaX"in c&&(j=c.deltaX,0===m&&(h=-1*j)),0!==m||0!==j){if(1===c.deltaMode){var q=a.data(this,"mousewheel-line-height");
h*=q,m*=q,j*=q}else if(2===c.deltaMode){var r=a.data(this,"mousewheel-page-height");h*=r,m*=r,j*=r}if(n=Math.max(Math.abs(m),Math.abs(j)),(!g||g>n)&&(g=n,l(c,n)&&(g/=40)),l(c,n)&&(h/=40,j/=40,m/=40),h=Math[h>=1?"floor":"ceil"](h/g),j=Math[j>=1?"floor":"ceil"](j/g),m=Math[m>=1?"floor":"ceil"](m/g),i.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=j,b.deltaY=m,b.deltaFactor=g,b.offsetX=o,b.offsetY=p,b.deltaMode=0,d.unshift(b,h,j,m),f&&clearTimeout(f),f=setTimeout(k,200),(a.event.dispatch||a.event.handle).apply(this,d)
}}function k(){g=null}function l(a,b){return i.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var f,g,b=this,c=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],d="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],e=Array.prototype.slice;if(a.event.fixHooks)for(var h=c.length;h;)a.event.fixHooks[c[--h]]=a.event.mouseHooks;var i=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=d.length;b;)this.addEventListener(d[--b],j,!1);
else this.onmousewheel=j;a.data(this,"mousewheel-line-height",i.getLineHeight(this)),a.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=d.length;b;)this.removeEventListener(d[--b],j,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16
},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}}),b.resolve()}),EasySocial.module("admin/vendors/raty",function(a){var b=a,c=this;!function(a){var b={init:function(c){return this.each(function(){b.destroy.call(this),this.opt=a.extend(!0,{},a.fn.raty.defaults,c);var d=a(this),e=["number","readOnly","score","scoreName"];
b._callback.call(this,e),this.opt.precision&&b._adjustPrecision.call(this),this.opt.number=b._between(this.opt.number,0,this.opt.numberMax),this.stars=b._createStars.call(this),this.score=b._createScore.call(this),b._apply.call(this,this.opt.score),this.opt.cancel&&(this.cancel=b._createCancel.call(this)),this.opt.width&&d.css("width",this.opt.width),this.opt.readOnly?b._lock.call(this):(d.css("cursor","pointer"),b._binds.call(this)),b._target.call(this,this.opt.score),d.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0
},_apply:function(a){a&&a>0&&(a=b._between(a,0,this.opt.number),this.score.val(a)),b._fill.call(this,a),a&&b._roundStars.call(this,a)},_between:function(a,b,c){return Math.min(Math.max(parseFloat(a),b),c)},_binds:function(){this.cancel&&b._bindCancel.call(this),b._bindClick.call(this),b._bindOut.call(this),b._bindOver.call(this)},_bindCancel:function(){b._bindClickCancel.call(this),b._bindOutCancel.call(this),b._bindOverCancel.call(this)},_bindClick:function(){var b=this,c=a(b);b.stars.on("click.raty",function(d){b.score.val(b.opt.half||b.opt.precision?c.data("score"):a(this).data("score")),b.opt.click&&b.opt.click.call(b,parseFloat(b.score.val()),d)
})},_bindClickCancel:function(){var a=this;a.cancel.on("click.raty",function(b){a.score.removeAttr("value"),a.opt.click&&a.opt.click.call(a,null,b)})},_bindOut:function(){var c=this;a(this).on("mouseleave.raty",function(a){var d=parseFloat(c.score.val())||void 0;b._apply.call(c,d),b._target.call(c,d,a),c.opt.mouseout&&c.opt.mouseout.call(c,d,a)})},_bindOutCancel:function(){var b=this;b.cancel.on("mouseleave.raty",function(c){a(this).attr("class",b.opt.cancelOff),b.opt.mouseout&&b.opt.mouseout.call(b,b.score.val()||null,c)
})},_bindOverCancel:function(){var c=this;c.cancel.on("mouseover.raty",function(d){a(this).attr("class",c.opt.cancelOn),c.stars.attr("class",c.opt.starOff),b._target.call(c,null,d),c.opt.mouseover&&c.opt.mouseover.call(c,null)})},_bindOver:function(){var c=this,d=a(c),e=c.opt.half?"mousemove.raty":"mouseover.raty";c.stars.on(e,function(e){var f=parseInt(a(this).data("score"),10);if(c.opt.half){var g=parseFloat((e.pageX-a(this).offset().left)/(c.opt.size?c.opt.size:parseInt(d.css("font-size")))),h=g>.5?1:.5;f=f-1+h,b._fill.call(c,f),c.opt.precision&&(f=f-h+g),b._roundStars.call(c,f),d.data("score",f)
}else b._fill.call(c,f);b._target.call(c,f,e),c.opt.mouseover&&c.opt.mouseover.call(c,f,e)})},_callback:function(a){for(var b in a)"function"==typeof this.opt[a[b]]&&(this.opt[a[b]]=this.opt[a[b]].call(this))},_createCancel:function(){var b=a(this),c=this.opt.cancelOff,d=a("<i />",{"class":c,title:this.opt.cancelHint});return"left"==this.opt.cancelPlace?b.prepend("&#160;").prepend(d):b.append("&#160;").append(d),d},_createScore:function(){return a("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)
},_createStars:function(){for(var c=a(this),d=1;d<=this.opt.number;d++){var e=b._getHint.call(this,d),f=this.opt.score&&this.opt.score>=d?"starOn":"starOff";f=this.opt[f],a("<i />",{"class":f,title:e,"data-score":d}).appendTo(this),this.opt.space&&c.append(d<this.opt.number?"&#160;":"")}return c.children("i")},_error:function(b){a(this).html(b),a.error(b)},_fill:function(a){for(var b=this,c=0,d=1;d<=b.stars.length;d++){var e=b.stars.eq(d-1),f=b.opt.single?d==a:a>=d;if(b.opt.iconRange&&b.opt.iconRange.length>c){var g=b.opt.iconRange[c],h=g.on||b.opt.starOn,i=g.off||b.opt.starOff,j=f?h:i;
d<=g.range&&e.attr("class",j),d==g.range&&c++}else{var j=f?"starOn":"starOff";e.attr("class",this.opt[j])}}},_getHint:function(a){var b=this.opt.hints[a-1];return""===b?"":b||a},_lock:function(){var c=parseInt(this.score.val(),10),d=c?b._getHint.call(this,c):this.opt.noRatedMsg;a(this).data("readonly",!0).css("cursor","").attr("title",d),this.score.attr("readonly","readonly"),this.stars.attr("title",d),this.cancel&&this.cancel.hide()},_roundStars:function(a){var b=(a-Math.floor(a)).toFixed(2);if(b>this.opt.round.down){var c="starOn";
this.opt.halfShow&&b<this.opt.round.up?c="starHalf":b<this.opt.round.full&&(c="starOff"),this.stars.eq(Math.ceil(a)-1).attr("class",this.opt[c])}},_target:function(c,d){if(this.opt.target){var e=a(this.opt.target);0===e.length&&b._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&b._error.call(this,'Template "{score}" missing!');var f=d&&"mouseover"==d.type;void 0===c?c=this.opt.targetText:null===c?c=f?this.opt.cancelHint:this.opt.targetText:("hint"==this.opt.targetType?c=b._getHint.call(this,Math.ceil(c)):this.opt.precision&&(c=parseFloat(c).toFixed(1)),f||this.opt.targetKeep||(c=this.opt.targetText)),c&&(c=this.opt.targetFormat.toString().replace("{score}",c)),e.is(":input")?e.val(c):e.html(c)
}},_unlock:function(){a(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var c=0;c<this.opt.number;c++)this.stars.eq(c).attr("title",b._getHint.call(this,c+1));this.cancel&&this.cancel.css("display","")},cancel:function(c){return this.each(function(){a(this).data("readonly")!==!0&&(b[c?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(c){return a(this).each(function(){a(this).data("readonly")!==!0&&(b._apply.call(this,c),this.opt.click||b._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,c,a.Event("click")),b._target.call(this,c))
})},destroy:function(){return a(this).each(function(){var b=a(this),c=b.data("raw");c?b.off(".raty").empty().css({cursor:c.style.cursor,width:c.style.width}).removeData("readonly"):b.data("raw",b.clone()[0])})},getScore:function(){var c,b=[];return a(this).each(function(){c=this.score.val(),b.push(c?parseFloat(c):void 0)}),b.length>1?b:b[0]},readOnly:function(c){return this.each(function(){var d=a(this);d.data("readonly")!==c&&(c?(d.off(".raty").children("i").off(".raty"),b._lock.call(this)):(b._binds.call(this),b._unlock.call(this)),d.data("readonly",c))
})},reload:function(){return b.set.call(this,{})},score:function(){return arguments.length?b.setScore.apply(this,arguments):b.getScore.call(this)},set:function(b){return this.each(function(){var c=a(this),d=c.data("settings"),e=a.extend({},d,b);c.raty(e)})},setScore:function(c){return a(this).each(function(){a(this).data("readonly")!==!0&&(b._apply.call(this,c),b._target.call(this,c))})}};a.fn.raty=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist!"),void 0):b.init.apply(this,arguments)
},a.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"fa fa-fw fa-minus-square",cancelOn:"fa fa-fw fa-check-square",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:null,space:!0,starHalf:"fa fa-fw fa-star-half-o",starOff:"fa fa-fw fa-star-o",starOn:"fa fa-fw fa-star",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:!1}
}(b),c.resolve()}),EasySocial.module("admin/vendors/resize",function(a){function k(){e=window[f](function(){c.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,h);(c!==e.w||d!==e.h)&&b.trigger(g,[e.w=c,e.h=d])}),k()},d[i])}var e,b=this,c=a([]),d=a.resize=a.extend(a.resize,{}),f="setTimeout",g="resize",h=g+"-special-event",i="delay",j="throttleWindow";d[i]=250,d[j]=!0,a.event.special[g]={setup:function(){if(!d[j]&&this[f])return!1;var b=a(this);c=c.add(b),a.data(this,h,{w:b.width(),h:b.height()}),1===c.length&&k()
},teardown:function(){if(!d[j]&&this[f])return!1;var b=a(this);c=c.not(b),b.removeData(h),c.length||clearTimeout(e)},add:function(b){function e(b,d,e){var f=a(this),g=a.data(this,h);null==g&&(g={w:null,h:null}),g.w=void 0!==d?d:f.width(),g.h=void 0!==e?e:f.height(),c.apply(this,arguments)}if(!d[j]&&this[f])return!1;var c;return a.isFunction(b)?(c=b,e):(c=b.handler,b.handler=e,void 0)}},b.resolve()}),EasySocial.module("admin/vendors/uniform",function(a){var b=this;!function(a){a.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},a.support.selectOpacity=a.browser.msie&&a.browser.version<7?!1:!0,a.fn.uniform=function(b){function d(b){$el=a(b),$el.addClass($el.attr("type")),k(b)
}function e(b){a(b).addClass("uniform"),k(b)}function f(c){var d=a(c),e=a("<div>"),f=a("<span>");e.addClass(b.buttonClass),b.useID&&""!=d.attr("id")&&e.attr("id",b.idPrefix+"-"+d.attr("id"));var g;d.is("a")||d.is("button")?g=d.text():(d.is(":submit")||d.is(":reset")||d.is("input[type=button]"))&&(g=d.attr("value")),g=""==g?d.is(":reset")?"Reset":"Submit":g,f.html(g),d.css("opacity",0),d.wrap(e),d.wrap(f),e=d.closest("div"),f=d.closest("span"),d.is(":disabled")&&e.addClass(b.disabledClass),e.bind({"mouseenter.uniform":function(){e.addClass(b.hoverClass)
},"mouseleave.uniform":function(){e.removeClass(b.hoverClass),e.removeClass(b.activeClass)},"mousedown.uniform touchbegin.uniform":function(){e.addClass(b.activeClass)},"mouseup.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"click.uniform touchend.uniform":function(b){if(a(b.target).is("span")||a(b.target).is("div"))if(c[0].dispatchEvent){var d=document.createEvent("MouseEvents");d.initEvent("click",!0,!0),c[0].dispatchEvent(d)}else c[0].click()}}),c.bind({"focus.uniform":function(){e.addClass(b.focusClass)
},"blur.uniform":function(){e.removeClass(b.focusClass)}}),a.uniform.noSelect(e),k(c)}function g(c){var d=a(c),e=a("<div />"),f=a("<span />");"none"==!d.css("display")&&b.autoHide&&e.hide(),e.addClass(b.selectClass),b.useID&&""!=c.attr("id")&&e.attr("id",b.idPrefix+"-"+c.attr("id"));var g=c.find(":selected:first");0==g.length&&(g=c.find("option:first")),f.html(g.html()),c.css("opacity",0),c.wrap(e),c.before(f),e=c.parent("div"),f=c.siblings("span"),c.bind({"change.uniform":function(){f.text(c.find(":selected").html()),e.removeClass(b.activeClass)
},"focus.uniform":function(){e.addClass(b.focusClass)},"blur.uniform":function(){e.removeClass(b.focusClass),e.removeClass(b.activeClass)},"mousedown.uniform touchbegin.uniform":function(){e.addClass(b.activeClass)},"mouseup.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"click.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass),e.removeClass(b.activeClass)},"keyup.uniform":function(){f.text(c.find(":selected").html())
}}),a(c).prop("disabled")&&e.addClass(b.disabledClass),a.uniform.noSelect(f),k(c)}function h(c){var d=a(c),e=a("<div />"),f=a("<span />");"none"==!d.css("display")&&b.autoHide&&e.hide(),e.addClass(b.checkboxClass),b.useID&&""!=c.attr("id")&&e.attr("id",b.idPrefix+"-"+c.attr("id")),a(c).wrap(e),a(c).wrap(f),f=c.parent(),e=f.parent(),a(c).css("opacity",0).bind({"focus.uniform":function(){e.addClass(b.focusClass)},"blur.uniform":function(){e.removeClass(b.focusClass)},"click.uniform touchend.uniform":function(){a(c).prop("checked")?f.addClass(b.checkedClass):f.removeClass(b.checkedClass)
},"mousedown.uniform touchbegin.uniform":function(){e.addClass(b.activeClass)},"mouseup.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass),e.removeClass(b.activeClass)}}),a(c).prop("checked")&&f.addClass(b.checkedClass),a(c).prop("disabled")&&e.addClass(b.disabledClass),k(c)}function i(c){var d=a(c),e=a("<div />"),f=a("<span />");"none"==!d.css("display")&&b.autoHide&&e.hide(),e.addClass(b.radioClass),b.useID&&""!=c.attr("id")&&e.attr("id",b.idPrefix+"-"+c.attr("id")),a(c).wrap(e),a(c).wrap(f),f=c.parent(),e=f.parent(),a(c).css("opacity",0).bind({"focus.uniform":function(){e.addClass(b.focusClass)
},"blur.uniform":function(){e.removeClass(b.focusClass)},"click.uniform touchend.uniform":function(){if(a(c).prop("checked")){var d=b.radioClass.split(" ")[0];a("."+d+" span."+b.checkedClass+":has([name='"+a(c).attr("name")+"'])").removeClass(b.checkedClass),f.addClass(b.checkedClass)}else f.removeClass(b.checkedClass)},"mousedown.uniform touchend.uniform":function(){a(c).is(":disabled")||e.addClass(b.activeClass)},"mouseup.uniform touchbegin.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform touchend.uniform":function(){e.addClass(b.hoverClass)
},"mouseleave.uniform":function(){e.removeClass(b.hoverClass),e.removeClass(b.activeClass)}}),a(c).prop("checked")&&f.addClass(b.checkedClass),a(c).prop("disabled")&&e.addClass(b.disabledClass),k(c)}function j(c){var d=a(c),e=a("<div />"),f=a("<span>"+b.fileDefaultText+"</span>"),g=a("<span>"+b.fileBtnText+"</span>");if("none"==!d.css("display")&&b.autoHide&&e.hide(),e.addClass(b.fileClass),f.addClass(b.filenameClass),g.addClass(b.fileBtnClass),b.useID&&""!=d.attr("id")&&e.attr("id",b.idPrefix+"-"+d.attr("id")),d.wrap(e),d.after(g),d.after(f),e=d.closest("div"),f=d.siblings("."+b.filenameClass),g=d.siblings("."+b.fileBtnClass),!d.attr("size")){var h=e.width();
d.attr("size",h/10)}var i=function(){var a=d.val();""===a?a=b.fileDefaultText:(a=a.split(/[\/\\]+/),a=a[a.length-1]),f.text(a)};i(),d.css("opacity",0).bind({"focus.uniform":function(){e.addClass(b.focusClass)},"blur.uniform":function(){e.removeClass(b.focusClass)},"mousedown.uniform":function(){a(c).is(":disabled")||e.addClass(b.activeClass)},"mouseup.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass),e.removeClass(b.activeClass)
}}),a.browser.msie?d.bind("click.uniform.ie7",function(){setTimeout(i,0)}):d.bind("change.uniform",i),d.prop("disabled")&&e.addClass(b.disabledClass),a.uniform.noSelect(f),a.uniform.noSelect(g),k(c)}function k(b){b=a(b).get(),b.length>1?a.each(b,function(b,c){a.uniform.elements.push(c)}):a.uniform.elements.push(b)}b=a.extend(a.uniform.options,b);var c=this;return 0!=b.resetSelector&&a(b.resetSelector).mouseup(function(){function b(){a.uniform.update(c)}setTimeout(b,10)}),a.uniform.restore=function(b){void 0==b&&(b=a(a.uniform.elements)),a(b).each(function(){a(this).is(":checkbox")?a(this).unwrap().unwrap():a(this).is("select")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is(":radio")?a(this).unwrap().unwrap():a(this).is(":file")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is("button, :submit, :reset, a, input[type='button']")&&a(this).unwrap().unwrap(),a(this).unbind(".uniform"),a(this).css("opacity","1");
var c=a.inArray(a(b),a.uniform.elements);a.uniform.elements.splice(c,1)})},a.uniform.noSelect=function(b){function c(){return!1}a(b).each(function(){this.onselectstart=this.ondragstart=c,a(this).mousedown(c).css({MozUserSelect:"none"})})},a.uniform.update=function(c){void 0==c&&(c=a(a.uniform.elements)),c=a(c),c.each(function(){var d=a(this);if(d.is("select")){var e=d.siblings("span"),f=d.parent("div");f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),e.html(d.find(":selected").html()),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)
}else if(d.is(":checkbox")){var e=d.closest("span"),f=d.closest("div");f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),e.removeClass(b.checkedClass),d.is(":checked")&&e.addClass(b.checkedClass),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)}else if(d.is(":radio")){var e=d.closest("span"),f=d.closest("div");f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),e.removeClass(b.checkedClass),d.is(":checked")&&e.addClass(b.checkedClass),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)
}else if(d.is(":file")){var f=d.parent("div"),g=d.siblings(b.filenameClass);btnTag=d.siblings(b.fileBtnClass),f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),g.text(d.val()),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)}else if(d.is(":submit")||d.is(":reset")||d.is("button")||d.is("a")||c.is("input[type=button]")){var f=d.closest("div");f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)
}})},this.each(function(){if(a.support.selectOpacity){var b=a(this);b.is("select")?1!=b.attr("multiple")&&(void 0==b.attr("size")||b.attr("size")<=1)&&g(b):b.is(":checkbox")?h(b):b.is(":radio")?i(b):b.is(":file")?j(b):b.is(":text, :password, input[type='email']")?d(b):b.is("textarea")?e(b):(b.is("a")||b.is(":submit")||b.is(":reset")||b.is("button")||b.is("input[type=button]"))&&f(b)}})}}(a),b.resolve()})});