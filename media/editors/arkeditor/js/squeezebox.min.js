if(typeof jQuery != 'undefined') {"undefined"==typeof ARK&&(ARK={}),jQuery(function($){"use strict";function getElement(a){return"string"===$.type(a)?$("#"+a):a.jquery&&a||$(a)}function getCompatElement(a){var b=a.ownerDocument||a.document||a;return b.compatMode&&"CSS1Compat"!=b.compatMode?b.body:b.documentElement}function getSize(a){var b=getCompatElement(a);return{x:b.clientWidth,y:b.clientHeight}}function getScroll(a){var b=$(a).is("window")?a:a.parentWindow||a.defaultView,c=getCompatElement(a);return{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop}}function getScrollSize(a){var b=getCompatElement(a),c=getSize(a),d=(a.ownerDocument||a.document||a).body;return{x:Math.max(b.scrollWidth,d.scrollWidth,c.x),y:Math.max(b.scrollHeight,d.scrollHeight,c.y)}}function parseJson(str,secure){return secure?$.parseJSON(str):eval("("+str+")")}"object"!=typeof SqueezeBox&&(ARK.squeezeBox={presets:{onOpen:function(){},onClose:function(){},onUpdate:function(){},onResize:function(){},onMove:function(){},onShow:function(){},onHide:function(){},size:{x:600,y:450},sizeLoading:{x:200,y:150},marginInner:{x:20,y:20},marginImage:{x:50,y:75},handler:!1,target:null,closable:!0,closeBtn:!0,zIndex:65555,overlayOpacity:.7,classWindow:"",classOverlay:"",overlayFx:{},resizeFx:{},contentFx:{},parse:!1,parseSecure:!1,shadow:!0,overlay:!0,document:null,ajaxOptions:{},animate:{overlay:250,win:75,content:450},iframePreload:!1},initialize:function(a){if(this.options)return this;var b=$.extend({},this.presets,a);return this.doc=this.presets.document||document,this.options={},this.setOptions(b),this.build(),this.bound={window:$.proxy(this.reposition,this,[null]),scroll:$.proxy(this.checkTarget,this),close:$.proxy(this.close,this),key:$.proxy(this.onKey.bind,this)},this.isOpen=this.isLoading=!1,this},addEvents:function(){var a=this;$.each(this,function(b,c){$.isFunction(c)&&/^on/.test(b)&&($(a).on(b,$.proxy(a.prop)),delete a.options[b])})},setOptions:function(a){$.extend(this.options,this.presets,a||{}),this.addEvents()},build:function(){if(this.overlay=$("<div></div>").attr({id:"sbox-overlay","aria-hidden":"true",tabindex:-1}).css("z-index",this.options.zIndex),this.win=$("<div></div>").attr({id:"sbox-window",role:"dialog","aria-hidden":"true"}).css("z-index",this.options.zIndex+2),this.options.shadow){window.attachEvent&&!window.addEventListener||this.win.addClass("shadow");var a=$("<div></div>").attr({"class":"sbox-bg-wrap"}).appendTo(this.win),b=$.proxy(function(a){this.overlay.trigger("click",[a])},this);$.each(["n","ne","e","se","s","sw","w","nw"],function(c,d){$("<div></div>").attr({"class":"sbox-bg sbox-bg-"+d}).appendTo(a).click(b)})}this.content=$("<div></div>").attr({id:"sbox-content"}).appendTo(this.win),this.closeBtn=$("<a></a>").attr({id:"sbox-btn-close",href:"#",role:"button"}).appendTo(this.win),$(this.closeBtn).attr("aria-controls","sbox-window"),$(this.doc.body).append(this.overlay,this.win)},assign:function(a,b){var c=getElement(a);return(c.length&&c||"string"===$.type(a)&&$("."+a)||$(null)).click(function(a){return a.preventDefault(),a.stopPropagation(),!ARK.squeezeBox.fromElement(this,b)})},open:function(a,b){if(this.initialize(),null!=this.element&&this.trash(),this.element=getElement(a)||!1,this.setOptions($.extend({},this.presets,b||{})),this.element&&this.options.parse){var c=$(this.element).attr(this.options.parse);c&&(c=parseJson(c,this.options.parseSecure))&&this.setOptions(c)}this.url=(this.element?this.element.attr("href"):a)||this.options.url||"",this.assignOptions();var d=d||this.options.handler;if(d)return this.setContent(d,this.parsers[d].call(this,!0));var e=!1,f=this;return $.each(this.parsers,function(a,b){var c=b.call(f);return c?(e=f.setContent(a,c),!0):!1})},fromElement:function(a,b){return this.open(a,b)},assignOptions:function(){$(this.overlay).addClass(this.options.classOverlay),$(this.win).addClass(this.options.classWindow)},close:function(a){var b="domevent"==typeof a;return b&&(a.stopPropagation(),a.preventDefault()),!this.isOpen||b&&!($.isFunction(this.options.closable)?this.options.closable.call(this,a):function(){this.options.closable}.call(this,a))?this:($(this.overlay).fadeOut(this.options.animate.overlay,$.proxy(this.toggleOverlay,this)),$(this.win).attr("aria-hidden","true"),$(this).trigger("onClose",[this.content]),this.trash(),this.toggleListeners(),this.isOpen=!1,this)},trash:function(){return this.element=this.asset=null,$(this.content).empty(),this.options={},$(this).unbind()[0].setOptions(this.presets),$(this.closeBtn),this},onError:function(){this.asset=null,this.setContent("string",this.options.errorMsg||"An error occurred")},setContent:function(a,b){return this.handlers[a]?(this.content[0].className="sbox-content-"+a,this.hideContent(),this.applyTimer=setTimeout($.proxy(function(){var c=this.handlers[a].call(this,b);c=$.isArray(c)?c:[c],this.applyContent.apply(this,c)},this),this.options.animate.overlay),$(this.overlay).data("opacity")?this:(this.toggleOverlay(!0),$(this.overlay).fadeTo(this.options.animate.overlay,this.options.overlayOpacity),this.reposition())):!1},applyContent:function(a,b){if(this.isOpen||this.applyTimer){if(this.applyTimer=clearTimeout(this.applyTimer),a){this.isLoading&&this.toggleLoading(!1);var c=this;setTimeout(function(){$(c).trigger("onUpdate",[c.content])},20)}else this.toggleLoading(!0);a&&$(this.content).append(a),this.isOpen?this.resize(b):(this.toggleListeners(!0),this.resize(b,!0),this.isOpen=!0,$(this.win).attr("aria-hidden","false"),$(this).trigger("onOpen",[this.content]))}},resize:function(a,b){this.showTimer=clearTimeout(this.showTimer||null);var c=getSize(this.doc),d=getScroll(this.doc);this.size=$.extend(this.isLoading?this.options.sizeLoading:this.options.size,a);var e=getSize(self);if(this.size.x==e.x&&(this.size.y=this.size.y-50,this.size.x=this.size.x-20),c.x>979)var f={width:this.size.x,height:this.size.y,left:parseInt(d.x+(c.x-this.size.x-this.options.marginInner.x)/2),top:parseInt(d.y+(c.y-this.size.y-this.options.marginInner.y)/2)};else var f={width:c.x-40,height:c.y,left:parseInt(d.x+10),top:parseInt(d.y+20)};return this.hideContent(),b?($(this.win).css(f),this.showTimer=setTimeout($.proxy(this.showContent,this),50)):$(this.win).animate(f,this.options.animate.win,$.proxy(this.showContent,this)),this.reposition()},toggleListeners:function(a){var b=a?"on":"off";$(this.closeBtn)[b]("click",this.bound.close),$(this.overlay)[b]("click",this.bound.close),$(this.doc)[b]("keydown",this.bound.key)[b]("mousewheel",this.bound.scroll),$(this.doc.parentWindow||this.doc.defaultView)[b]("resize",this.bound.window)[b]("scroll",this.bound.window)},toggleLoading:function(a){this.isLoading=a,$(this.win)[a?"addClass":"removeClass"]("sbox-loading"),a&&($(this.win).attr("aria-busy",a),$(this).trigger("onLoading",[this.win]))},toggleOverlay:function(a){if(this.options.overlay){var b=getSize(this.doc).x;$(this.overlay).attr("aria-hidden",a?"false":"true"),$(this.doc.body)[a?"addClass":"removeClass"]("body-overlayed"),a?this.scrollOffset=getSize(this.doc.parentWindow||this.doc.defaultView).x-b:$(this.doc.body).css("margin-right","")}},showContent:function(){$(this.content).attr("opacity")&&$(this).trigger("onShow",[this.win]),$(this.content).fadeIn(this.options.animate.content,"easeOutExpo")},hideContent:function(){$(this.content).attr("opacity")||$(this).trigger("onHide",[this.win]),$(this.content).fadeOut(this.options.animate.content)},onKey:function(a){switch(a.key){case"esc":this.close(a);case"up":case"down":return!1}},checkTarget:function(a){return a.target!==this.content&&$(this.content).find(a.target)},reposition:function(){var a=getSize(this.doc),b=getScroll(this.doc),c=getScrollSize(this.doc),d=$(this.overlay).css("height"),e=parseInt(d);return c.y>e&&a.y>=e&&($(this.overlay).css({width:c.x+"px",height:c.y+"px"}),$(this.win).css({left:parseInt(b.x+(a.x-this.win.offsetWidth)/2-this.scrollOffset)+"px",top:parseInt(b.y+(a.y-this.win.offsetHeight)/2)+"px"})),$(this).trigger("onMove",[this.overlay,this.win])},handlers:{},parsers:{}},$.extend(ARK.squeezeBox.parsers,{image:function(a){return a||/\.(?:jpg|png|gif)$/i.test(this.url)?this.url:!1},clone:function(a){if(getElement(this.options.target))return getElement(this.options.target);if(this.element&&!this.element.parentNode)return this.element;var b=this.url.match(/#([\w-]+)$/);return b?getElement(b[1]):a?this.element:!1},ajax:function(a){return a||this.url&&!/^(?:javascript|#)/i.test(this.url)?this.url:!1},iframe:function(a){return a||this.url?this.url:!1},string:function(a){return!0}}),$.extend(ARK.squeezeBox.handlers,{image:function(a){var b,c=new Image;return this.asset=null,c.onload=c.onabort=c.onerror=$.proxy(function(){if(c.onload=c.onabort=c.onerror=null,!c.width)return void setTimeout($.proxy(this.onError,this),10);var a=getSize(this.doc);a.x-=this.options.marginImage.x,a.y-=this.options.marginImage.y,b={x:c.width,y:c.height};for(var d=2;d--;)b.x>a.x?(b.y*=a.x/b.x,b.x=a.x):b.y>a.y&&(b.x*=a.y/b.y,b.y=a.y);b.x=parseInt(b.x),b.y=parseInt(b.y),this.asset=$(c),c=null,this.asset.attr("width",b.x),this.asset.attr("height",b.y),this.applyContent(this.asset,b)},this),c.src=a,c&&c.onload&&c.complete&&c.onload(),this.asset?[this.asset,b]:null},clone:function(a){return a?$(a).clone():this.onError()},adopt:function(a){return a?a:this.onError()},ajax:function(a){function d(a){c.applyContent(a),$(c).trigger("onAjax",[a,c.asset]),c.asset=null}var b=this.options.ajaxOptions||{},c=this;this.asset=$.ajax($.extend({url:a,method:"GET",datatype:"html",cache:!1,async:!0,complete:function(a){200!=a.status?setTimeout(function(){c.onError.call(c)},10):setTimeout(function(){d(a.responseText)},setTimeout)}},b))},iframe:function(a){var b=getSize(this.doc);if(b.x>979)var c=this.options.size.x,d=this.options.size.y;else var c=b.x,d=b.y-50;return this.asset=$("<iframe></iframe>").attr($.extend({src:a,frameBorder:0,width:c,height:d},this.options.iframeOptions||{})),this.options.iframePreload?(this.asset.on("load",$.proxy(function(){this.applyContent($(this.asset).css("display","")),this.asset.off("load")},this)),$(this.asset).css("display","none").appendTo(this.content),!1):this.asset},string:function(a){return a}}),ARK.squeezeBox.handlers.url=ARK.squeezeBox.handlers.ajax,ARK.squeezeBox.parsers.url=ARK.squeezeBox.parsers.ajax,ARK.squeezeBox.parsers.adopt=ARK.squeezeBox.parsers.clone,$.fn.squeezeBox=function(a,b){return b?ARK.squeezeBox.open(this,a):ARK.squeezeBox.assign(this,a)})}),"undefined"==typeof ARK&&(ARK={}),jQuery(function($){"use strict";function getElement(a){return"string"===$.type(a)?$("#"+a):a.jquery&&a||$(a)}function getCompatElement(a){var b=a.ownerDocument||a.document||a;return b.compatMode&&"CSS1Compat"!=b.compatMode?b.body:b.documentElement}function getSize(a){var b=getCompatElement(a);return{x:b.clientWidth,y:b.clientHeight}}function getScroll(a){var b=$(a).is("window")?a:a.parentWindow||a.defaultView,c=getCompatElement(a);return{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop}}function getScrollSize(a){var b=getCompatElement(a),c=getSize(a),d=(a.ownerDocument||a.document||a).body;return{x:Math.max(b.scrollWidth,d.scrollWidth,c.x),y:Math.max(b.scrollHeight,d.scrollHeight,c.y)}}function parseJson(str,secure){return secure?$.parseJSON(str):eval("("+str+")")}"object"!=typeof SqueezeBox&&(ARK.squeezeBox={presets:{onOpen:function(){},onClose:function(){},onUpdate:function(){},onResize:function(){},onMove:function(){},onShow:function(){},onHide:function(){},size:{x:600,y:450},sizeLoading:{x:200,y:150},marginInner:{x:20,y:20},marginImage:{x:50,y:75},handler:!1,target:null,closable:!0,closeBtn:!0,zIndex:65555,overlayOpacity:.7,classWindow:"",classOverlay:"",overlayFx:{},resizeFx:{},contentFx:{},parse:!1,parseSecure:!1,shadow:!0,overlay:!0,document:null,ajaxOptions:{},animate:{overlay:250,win:75,content:450},iframePreload:!1},initialize:function(a){if(this.options)return this;var b=$.extend({},this.presets,a);return this.doc=this.presets.document||document,this.options={},this.setOptions(b),this.build(),this.bound={window:$.proxy(this.reposition,this,[null]),scroll:$.proxy(this.checkTarget,this),close:$.proxy(this.close,this),key:$.proxy(this.onKey.bind,this)},this.isOpen=this.isLoading=!1,this},addEvents:function(){var a=this;$.each(this,function(b,c){$.isFunction(c)&&/^on/.test(b)&&($(a).on(b,$.proxy(a.prop)),delete a.options[b])})},setOptions:function(a){$.extend(this.options,this.presets,a||{}),this.addEvents()},build:function(){if(this.overlay=$("<div></div>").attr({id:"sbox-overlay","aria-hidden":"true",tabindex:-1}).css("z-index",this.options.zIndex),this.win=$("<div></div>").attr({id:"sbox-window",role:"dialog","aria-hidden":"true"}).css("z-index",this.options.zIndex+2),this.options.shadow){window.attachEvent&&!window.addEventListener||this.win.addClass("shadow");var a=$("<div></div>").attr({"class":"sbox-bg-wrap"}).appendTo(this.win),b=$.proxy(function(a){this.overlay.trigger("click",[a])},this);$.each(["n","ne","e","se","s","sw","w","nw"],function(c,d){$("<div></div>").attr({"class":"sbox-bg sbox-bg-"+d}).appendTo(a).click(b)})}this.content=$("<div></div>").attr({id:"sbox-content"}).appendTo(this.win),this.closeBtn=$("<a></a>").attr({id:"sbox-btn-close",href:"#",role:"button"}).appendTo(this.win),$(this.closeBtn).attr("aria-controls","sbox-window"),$(this.doc.body).append(this.overlay,this.win)},assign:function(a,b){var c=getElement(a);return(c.length&&c||"string"===$.type(a)&&$("."+a)||$(null)).click(function(a){return a.preventDefault(),a.stopPropagation(),!ARK.squeezeBox.fromElement(this,b)})},open:function(a,b){if(this.initialize(),null!=this.element&&this.trash(),this.element=getElement(a)||!1,this.setOptions($.extend({},this.presets,b||{})),this.element&&this.options.parse){var c=$(this.element).attr(this.options.parse);c&&(c=parseJson(c,this.options.parseSecure))&&this.setOptions(c)}this.url=(this.element?this.element.attr("href"):a)||this.options.url||"",this.assignOptions();var d=d||this.options.handler;if(d)return this.setContent(d,this.parsers[d].call(this,!0));var e=!1,f=this;return $.each(this.parsers,function(a,b){var c=b.call(f);return c?(e=f.setContent(a,c),!0):!1})},fromElement:function(a,b){return this.open(a,b)},assignOptions:function(){$(this.overlay).addClass(this.options.classOverlay),$(this.win).addClass(this.options.classWindow)},close:function(a){var b="domevent"==typeof a;return b&&(a.stopPropagation(),a.preventDefault()),!this.isOpen||b&&!($.isFunction(this.options.closable)?this.options.closable.call(this,a):function(){this.options.closable}.call(this,a))?this:($(this.overlay).fadeOut(this.options.animate.overlay,$.proxy(this.toggleOverlay,this)),$(this.win).attr("aria-hidden","true"),$(this).trigger("onClose",[this.content]),this.trash(),this.toggleListeners(),this.isOpen=!1,this)},trash:function(){return this.element=this.asset=null,$(this.content).empty(),this.options={},$(this).unbind()[0].setOptions(this.presets),$(this.closeBtn),this},onError:function(){this.asset=null,this.setContent("string",this.options.errorMsg||"An error occurred")},setContent:function(a,b){return this.handlers[a]?(this.content[0].className="sbox-content-"+a,this.hideContent(),this.applyTimer=setTimeout($.proxy(function(){var c=this.handlers[a].call(this,b);c=$.isArray(c)?c:[c],this.applyContent.apply(this,c)},this),this.options.animate.overlay),$(this.overlay).data("opacity")?this:(this.toggleOverlay(!0),$(this.overlay).fadeTo(this.options.animate.overlay,this.options.overlayOpacity),this.reposition())):!1},applyContent:function(a,b){if(this.isOpen||this.applyTimer){if(this.applyTimer=clearTimeout(this.applyTimer),a){this.isLoading&&this.toggleLoading(!1);var c=this;setTimeout(function(){$(c).trigger("onUpdate",[c.content])},20)}else this.toggleLoading(!0);a&&$(this.content).append(a),this.isOpen?this.resize(b):(this.toggleListeners(!0),this.resize(b,!0),this.isOpen=!0,$(this.win).attr("aria-hidden","false"),$(this).trigger("onOpen",[this.content]))}},resize:function(a,b){this.showTimer=clearTimeout(this.showTimer||null);var c=getSize(this.doc),d=getScroll(this.doc);this.size=$.extend(this.isLoading?this.options.sizeLoading:this.options.size,a);var e=getSize(self);if(this.size.x==e.x&&(this.size.y=this.size.y-50,this.size.x=this.size.x-20),c.x>979)var f={width:this.size.x,height:this.size.y,left:parseInt(d.x+(c.x-this.size.x-this.options.marginInner.x)/2),top:parseInt(d.y+(c.y-this.size.y-this.options.marginInner.y)/2)};else var f={width:c.x-40,height:c.y,left:parseInt(d.x+10),top:parseInt(d.y+20)};return this.hideContent(),b?($(this.win).css(f),this.showTimer=setTimeout($.proxy(this.showContent,this),50)):$(this.win).animate(f,this.options.animate.win,$.proxy(this.showContent,this)),this.reposition()},toggleListeners:function(a){var b=a?"on":"off";$(this.closeBtn)[b]("click",this.bound.close),$(this.overlay)[b]("click",this.bound.close),$(this.doc)[b]("keydown",this.bound.key)[b]("mousewheel",this.bound.scroll),$(this.doc.parentWindow||this.doc.defaultView)[b]("resize",this.bound.window)[b]("scroll",this.bound.window)},toggleLoading:function(a){this.isLoading=a,$(this.win)[a?"addClass":"removeClass"]("sbox-loading"),a&&($(this.win).attr("aria-busy",a),$(this).trigger("onLoading",[this.win]))},toggleOverlay:function(a){if(this.options.overlay){var b=getSize(this.doc).x;$(this.overlay).attr("aria-hidden",a?"false":"true"),$(this.doc.body)[a?"addClass":"removeClass"]("body-overlayed"),a?this.scrollOffset=getSize(this.doc.parentWindow||this.doc.defaultView).x-b:$(this.doc.body).css("margin-right","")}},showContent:function(){$(this.content).attr("opacity")&&$(this).trigger("onShow",[this.win]),$(this.content).fadeIn(this.options.animate.content,"easeOutExpo")},hideContent:function(){$(this.content).attr("opacity")||$(this).trigger("onHide",[this.win]),$(this.content).fadeOut(this.options.animate.content)},onKey:function(a){switch(a.key){case"esc":this.close(a);case"up":case"down":return!1}},checkTarget:function(a){return a.target!==this.content&&$(this.content).find(a.target)},reposition:function(){var a=getSize(this.doc),b=getScroll(this.doc),c=getScrollSize(this.doc),d=$(this.overlay).css("height"),e=parseInt(d);return c.y>e&&a.y>=e&&($(this.overlay).css({width:c.x+"px",height:c.y+"px"}),$(this.win).css({left:parseInt(b.x+(a.x-this.win.offsetWidth)/2-this.scrollOffset)+"px",top:parseInt(b.y+(a.y-this.win.offsetHeight)/2)+"px"})),$(this).trigger("onMove",[this.overlay,this.win])},handlers:{},parsers:{}},$.extend(ARK.squeezeBox.parsers,{image:function(a){return a||/\.(?:jpg|png|gif)$/i.test(this.url)?this.url:!1},clone:function(a){if(getElement(this.options.target))return getElement(this.options.target);if(this.element&&!this.element.parentNode)return this.element;var b=this.url.match(/#([\w-]+)$/);return b?getElement(b[1]):a?this.element:!1},ajax:function(a){return a||this.url&&!/^(?:javascript|#)/i.test(this.url)?this.url:!1},iframe:function(a){return a||this.url?this.url:!1},string:function(a){return!0}}),$.extend(ARK.squeezeBox.handlers,{image:function(a){var b,c=new Image;return this.asset=null,c.onload=c.onabort=c.onerror=$.proxy(function(){if(c.onload=c.onabort=c.onerror=null,!c.width)return void setTimeout($.proxy(this.onError,this),10);var a=getSize(this.doc);a.x-=this.options.marginImage.x,a.y-=this.options.marginImage.y,b={x:c.width,y:c.height};for(var d=2;d--;)b.x>a.x?(b.y*=a.x/b.x,b.x=a.x):b.y>a.y&&(b.x*=a.y/b.y,b.y=a.y);b.x=parseInt(b.x),b.y=parseInt(b.y),this.asset=$(c),c=null,this.asset.attr("width",b.x),this.asset.attr("height",b.y),this.applyContent(this.asset,b)},this),c.src=a,c&&c.onload&&c.complete&&c.onload(),this.asset?[this.asset,b]:null},clone:function(a){return a?$(a).clone():this.onError()},adopt:function(a){return a?a:this.onError()},ajax:function(a){function d(a){c.applyContent(a),$(c).trigger("onAjax",[a,c.asset]),c.asset=null}var b=this.options.ajaxOptions||{},c=this;this.asset=$.ajax($.extend({url:a,method:"GET",datatype:"html",cache:!1,async:!0,complete:function(a){200!=a.status?setTimeout(function(){c.onError.call(c)},10):setTimeout(function(){d(a.responseText)},setTimeout)}},b))},iframe:function(a){var b=getSize(this.doc);if(b.x>979)var c=this.options.size.x,d=this.options.size.y;else var c=b.x,d=b.y-50;return this.asset=$("<iframe></iframe>").attr($.extend({src:a,frameBorder:0,width:c,height:d},this.options.iframeOptions||{})),this.options.iframePreload?(this.asset.on("load",$.proxy(function(){this.applyContent($(this.asset).css("display","")),this.asset.off("load")},this)),$(this.asset).css("display","none").appendTo(this.content),!1):this.asset},string:function(a){return a}}),ARK.squeezeBox.handlers.url=ARK.squeezeBox.handlers.ajax,ARK.squeezeBox.parsers.url=ARK.squeezeBox.parsers.ajax,ARK.squeezeBox.parsers.adopt=ARK.squeezeBox.parsers.clone,$.fn.squeezeBox=function(a,b){return b?ARK.squeezeBox.open(this,a):ARK.squeezeBox.assign(this,a)})});"undefined"==typeof ARK&&(ARK={}),jQuery(function($){"use strict";function getElement(a){return"string"===$.type(a)?$("#"+a):a.jquery&&a||$(a)}function getCompatElement(a){var b=a.ownerDocument||a.document||a;return b.compatMode&&"CSS1Compat"!=b.compatMode?b.body:b.documentElement}function getSize(a){var b=getCompatElement(a);return{x:b.clientWidth,y:b.clientHeight}}function getScroll(a){var b=$(a).is("window")?a:a.parentWindow||a.defaultView,c=getCompatElement(a);return{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop}}function getScrollSize(a){var b=getCompatElement(a),c=getSize(a),d=(a.ownerDocument||a.document||a).body;return{x:Math.max(b.scrollWidth,d.scrollWidth,c.x),y:Math.max(b.scrollHeight,d.scrollHeight,c.y)}}function parseJson(str,secure){return secure?$.parseJSON(str):eval("("+str+")")}"object"!=typeof SqueezeBox&&(ARK.squeezeBox={presets:{onOpen:function(){},onClose:function(){},onUpdate:function(){},onResize:function(){},onMove:function(){},onShow:function(){},onHide:function(){},size:{x:600,y:450},sizeLoading:{x:200,y:150},marginInner:{x:20,y:20},marginImage:{x:50,y:75},handler:!1,target:null,closable:!0,closeBtn:!0,zIndex:65555,overlayOpacity:.7,classWindow:"",classOverlay:"",overlayFx:{},resizeFx:{},contentFx:{},parse:!1,parseSecure:!1,shadow:!0,overlay:!0,document:null,ajaxOptions:{},animate:{overlay:250,win:75,content:450},iframePreload:!1},initialize:function(a){if(this.options)return this;var b=$.extend({},this.presets,a);return this.doc=this.presets.document||document,this.options={},this.setOptions(b),this.build(),this.bound={window:$.proxy(this.reposition,this,[null]),scroll:$.proxy(this.checkTarget,this),close:$.proxy(this.close,this),key:$.proxy(this.onKey.bind,this)},this.isOpen=this.isLoading=!1,this},addEvents:function(){var a=this;$.each(this,function(b,c){$.isFunction(c)&&/^on/.test(b)&&($(a).on(b,$.proxy(a.prop)),delete a.options[b])})},setOptions:function(a){$.extend(this.options,this.presets,a||{}),this.addEvents()},build:function(){if(this.overlay=$("<div></div>").attr({id:"sbox-overlay","aria-hidden":"true",tabindex:-1}).css("z-index",this.options.zIndex),this.win=$("<div></div>").attr({id:"sbox-window",role:"dialog","aria-hidden":"true"}).css("z-index",this.options.zIndex+2),this.options.shadow){window.attachEvent&&!window.addEventListener||this.win.addClass("shadow");var a=$("<div></div>").attr({"class":"sbox-bg-wrap"}).appendTo(this.win),b=$.proxy(function(a){this.overlay.trigger("click",[a])},this);$.each(["n","ne","e","se","s","sw","w","nw"],function(c,d){$("<div></div>").attr({"class":"sbox-bg sbox-bg-"+d}).appendTo(a).click(b)})}this.content=$("<div></div>").attr({id:"sbox-content"}).appendTo(this.win),this.closeBtn=$("<a></a>").attr({id:"sbox-btn-close",href:"#",role:"button"}).appendTo(this.win),$(this.closeBtn).attr("aria-controls","sbox-window"),$(this.doc.body).append(this.overlay,this.win)},assign:function(a,b){var c=getElement(a);return(c.length&&c||"string"===$.type(a)&&$("."+a)||$(null)).click(function(a){return a.preventDefault(),a.stopPropagation(),!ARK.squeezeBox.fromElement(this,b)})},open:function(a,b){if(this.initialize(),null!=this.element&&this.trash(),this.element=getElement(a)||!1,this.setOptions($.extend({},this.presets,b||{})),this.element&&this.options.parse){var c=$(this.element).attr(this.options.parse);c&&(c=parseJson(c,this.options.parseSecure))&&this.setOptions(c)}this.url=(this.element?this.element.attr("href"):a)||this.options.url||"",this.assignOptions();var d=d||this.options.handler;if(d)return this.setContent(d,this.parsers[d].call(this,!0));var e=!1,f=this;return $.each(this.parsers,function(a,b){var c=b.call(f);return c?(e=f.setContent(a,c),!0):!1})},fromElement:function(a,b){return this.open(a,b)},assignOptions:function(){$(this.overlay).addClass(this.options.classOverlay),$(this.win).addClass(this.options.classWindow)},close:function(a){var b="domevent"==typeof a;return b&&(a.stopPropagation(),a.preventDefault()),!this.isOpen||b&&!($.isFunction(this.options.closable)?this.options.closable.call(this,a):function(){this.options.closable}.call(this,a))?this:($(this.overlay).fadeOut(this.options.animate.overlay,$.proxy(this.toggleOverlay,this)),$(this.win).attr("aria-hidden","true"),$(this).trigger("onClose",[this.content]),this.trash(),this.toggleListeners(),this.isOpen=!1,this)},trash:function(){return this.element=this.asset=null,$(this.content).empty(),this.options={},$(this).unbind()[0].setOptions(this.presets),$(this.closeBtn),this},onError:function(){this.asset=null,this.setContent("string",this.options.errorMsg||"An error occurred")},setContent:function(a,b){return this.handlers[a]?(this.content[0].className="sbox-content-"+a,this.hideContent(),this.applyTimer=setTimeout($.proxy(function(){var c=this.handlers[a].call(this,b);c=$.isArray(c)?c:[c],this.applyContent.apply(this,c)},this),this.options.animate.overlay),$(this.overlay).data("opacity")?this:(this.toggleOverlay(!0),$(this.overlay).fadeTo(this.options.animate.overlay,this.options.overlayOpacity),this.reposition())):!1},applyContent:function(a,b){if(this.isOpen||this.applyTimer){if(this.applyTimer=clearTimeout(this.applyTimer),a){this.isLoading&&this.toggleLoading(!1);var c=this;setTimeout(function(){$(c).trigger("onUpdate",[c.content])},20)}else this.toggleLoading(!0);a&&$(this.content).append(a),this.isOpen?this.resize(b):(this.toggleListeners(!0),this.resize(b,!0),this.isOpen=!0,$(this.win).attr("aria-hidden","false"),$(this).trigger("onOpen",[this.content]))}},resize:function(a,b){this.showTimer=clearTimeout(this.showTimer||null);var c=getSize(this.doc),d=getScroll(this.doc);this.size=$.extend(this.isLoading?this.options.sizeLoading:this.options.size,a);var e=getSize(self);if(this.size.x==e.x&&(this.size.y=this.size.y-50,this.size.x=this.size.x-20),c.x>979)var f={width:this.size.x,height:this.size.y,left:parseInt(d.x+(c.x-this.size.x-this.options.marginInner.x)/2),top:parseInt(d.y+(c.y-this.size.y-this.options.marginInner.y)/2)};else var f={width:c.x-40,height:c.y,left:parseInt(d.x+10),top:parseInt(d.y+20)};return this.hideContent(),b?($(this.win).css(f),this.showTimer=setTimeout($.proxy(this.showContent,this),50)):$(this.win).animate(f,this.options.animate.win,$.proxy(this.showContent,this)),this.reposition()},toggleListeners:function(a){var b=a?"on":"off";$(this.closeBtn)[b]("click",this.bound.close),$(this.overlay)[b]("click",this.bound.close),$(this.doc)[b]("keydown",this.bound.key)[b]("mousewheel",this.bound.scroll),$(this.doc.parentWindow||this.doc.defaultView)[b]("resize",this.bound.window)[b]("scroll",this.bound.window)},toggleLoading:function(a){this.isLoading=a,$(this.win)[a?"addClass":"removeClass"]("sbox-loading"),a&&($(this.win).attr("aria-busy",a),$(this).trigger("onLoading",[this.win]))},toggleOverlay:function(a){if(this.options.overlay){var b=getSize(this.doc).x;$(this.overlay).attr("aria-hidden",a?"false":"true"),$(this.doc.body)[a?"addClass":"removeClass"]("body-overlayed"),a?this.scrollOffset=getSize(this.doc.parentWindow||this.doc.defaultView).x-b:$(this.doc.body).css("margin-right","")}},showContent:function(){$(this.content).attr("opacity")&&$(this).trigger("onShow",[this.win]),$(this.content).fadeIn(this.options.animate.content,"easeOutExpo")},hideContent:function(){$(this.content).attr("opacity")||$(this).trigger("onHide",[this.win]),$(this.content).fadeOut(this.options.animate.content)},onKey:function(a){switch(a.key){case"esc":this.close(a);case"up":case"down":return!1}},checkTarget:function(a){return a.target!==this.content&&$(this.content).find(a.target)},reposition:function(){var a=getSize(this.doc),b=getScroll(this.doc),c=getScrollSize(this.doc),d=$(this.overlay).css("height"),e=parseInt(d);return c.y>e&&a.y>=e&&($(this.overlay).css({width:c.x+"px",height:c.y+"px"}),$(this.win).css({left:parseInt(b.x+(a.x-this.win.offsetWidth)/2-this.scrollOffset)+"px",top:parseInt(b.y+(a.y-this.win.offsetHeight)/2)+"px"})),$(this).trigger("onMove",[this.overlay,this.win])},handlers:{},parsers:{}},$.extend(ARK.squeezeBox.parsers,{image:function(a){return a||/\.(?:jpg|png|gif)$/i.test(this.url)?this.url:!1},clone:function(a){if(getElement(this.options.target))return getElement(this.options.target);if(this.element&&!this.element.parentNode)return this.element;var b=this.url.match(/#([\w-]+)$/);return b?getElement(b[1]):a?this.element:!1},ajax:function(a){return a||this.url&&!/^(?:javascript|#)/i.test(this.url)?this.url:!1},iframe:function(a){return a||this.url?this.url:!1},string:function(a){return!0}}),$.extend(ARK.squeezeBox.handlers,{image:function(a){var b,c=new Image;return this.asset=null,c.onload=c.onabort=c.onerror=$.proxy(function(){if(c.onload=c.onabort=c.onerror=null,!c.width)return void setTimeout($.proxy(this.onError,this),10);var a=getSize(this.doc);a.x-=this.options.marginImage.x,a.y-=this.options.marginImage.y,b={x:c.width,y:c.height};for(var d=2;d--;)b.x>a.x?(b.y*=a.x/b.x,b.x=a.x):b.y>a.y&&(b.x*=a.y/b.y,b.y=a.y);b.x=parseInt(b.x),b.y=parseInt(b.y),this.asset=$(c),c=null,this.asset.attr("width",b.x),this.asset.attr("height",b.y),this.applyContent(this.asset,b)},this),c.src=a,c&&c.onload&&c.complete&&c.onload(),this.asset?[this.asset,b]:null},clone:function(a){return a?$(a).clone():this.onError()},adopt:function(a){return a?a:this.onError()},ajax:function(a){function d(a){c.applyContent(a),$(c).trigger("onAjax",[a,c.asset]),c.asset=null}var b=this.options.ajaxOptions||{},c=this;this.asset=$.ajax($.extend({url:a,method:"GET",datatype:"html",cache:!1,async:!0,complete:function(a){200!=a.status?setTimeout(function(){c.onError.call(c)},10):setTimeout(function(){d(a.responseText)},setTimeout)}},b))},iframe:function(a){var b=getSize(this.doc);if(b.x>979)var c=this.options.size.x,d=this.options.size.y;else var c=b.x,d=b.y-50;return this.asset=$("<iframe></iframe>").attr($.extend({src:a,frameBorder:0,width:c,height:d},this.options.iframeOptions||{})),this.options.iframePreload?(this.asset.on("load",$.proxy(function(){this.applyContent($(this.asset).css("display","")),this.asset.off("load")},this)),$(this.asset).css("display","none").appendTo(this.content),!1):this.asset},string:function(a){return a}}),ARK.squeezeBox.handlers.url=ARK.squeezeBox.handlers.ajax,ARK.squeezeBox.parsers.url=ARK.squeezeBox.parsers.ajax,ARK.squeezeBox.parsers.adopt=ARK.squeezeBox.parsers.clone,$.fn.squeezeBox=function(a,b){return b?ARK.squeezeBox.open(this,a):ARK.squeezeBox.assign(this,a)})}),"undefined"==typeof ARK&&(ARK={}),jQuery(function($){"use strict";function getElement(a){return"string"===$.type(a)?$("#"+a):a.jquery&&a||$(a)}function getCompatElement(a){var b=a.ownerDocument||a.document||a;return b.compatMode&&"CSS1Compat"!=b.compatMode?b.body:b.documentElement}function getSize(a){var b=getCompatElement(a);return{x:b.clientWidth,y:b.clientHeight}}function getScroll(a){var b=$(a).is("window")?a:a.parentWindow||a.defaultView,c=getCompatElement(a);return{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop}}function getScrollSize(a){var b=getCompatElement(a),c=getSize(a),d=(a.ownerDocument||a.document||a).body;return{x:Math.max(b.scrollWidth,d.scrollWidth,c.x),y:Math.max(b.scrollHeight,d.scrollHeight,c.y)}}function parseJson(str,secure){return secure?$.parseJSON(str):eval("("+str+")")}"object"!=typeof SqueezeBox&&(ARK.squeezeBox={presets:{onOpen:function(){},onClose:function(){},onUpdate:function(){},onResize:function(){},onMove:function(){},onShow:function(){},onHide:function(){},size:{x:600,y:450},sizeLoading:{x:200,y:150},marginInner:{x:20,y:20},marginImage:{x:50,y:75},handler:!1,target:null,closable:!0,closeBtn:!0,zIndex:65555,overlayOpacity:.7,classWindow:"",classOverlay:"",overlayFx:{},resizeFx:{},contentFx:{},parse:!1,parseSecure:!1,shadow:!0,overlay:!0,document:null,ajaxOptions:{},animate:{overlay:250,win:75,content:450},iframePreload:!1},initialize:function(a){if(this.options)return this;var b=$.extend({},this.presets,a);return this.doc=this.presets.document||document,this.options={},this.setOptions(b),this.build(),this.bound={window:$.proxy(this.reposition,this,[null]),scroll:$.proxy(this.checkTarget,this),close:$.proxy(this.close,this),key:$.proxy(this.onKey.bind,this)},this.isOpen=this.isLoading=!1,this},addEvents:function(){var a=this;$.each(this,function(b,c){$.isFunction(c)&&/^on/.test(b)&&($(a).on(b,$.proxy(a.prop)),delete a.options[b])})},setOptions:function(a){$.extend(this.options,this.presets,a||{}),this.addEvents()},build:function(){if(this.overlay=$("<div></div>").attr({id:"sbox-overlay","aria-hidden":"true",tabindex:-1}).css("z-index",this.options.zIndex),this.win=$("<div></div>").attr({id:"sbox-window",role:"dialog","aria-hidden":"true"}).css("z-index",this.options.zIndex+2),this.options.shadow){window.attachEvent&&!window.addEventListener||this.win.addClass("shadow");var a=$("<div></div>").attr({"class":"sbox-bg-wrap"}).appendTo(this.win),b=$.proxy(function(a){this.overlay.trigger("click",[a])},this);$.each(["n","ne","e","se","s","sw","w","nw"],function(c,d){$("<div></div>").attr({"class":"sbox-bg sbox-bg-"+d}).appendTo(a).click(b)})}this.content=$("<div></div>").attr({id:"sbox-content"}).appendTo(this.win),this.closeBtn=$("<a></a>").attr({id:"sbox-btn-close",href:"#",role:"button"}).appendTo(this.win),$(this.closeBtn).attr("aria-controls","sbox-window"),$(this.doc.body).append(this.overlay,this.win)},assign:function(a,b){var c=getElement(a);return(c.length&&c||"string"===$.type(a)&&$("."+a)||$(null)).click(function(a){return a.preventDefault(),a.stopPropagation(),!ARK.squeezeBox.fromElement(this,b)})},open:function(a,b){if(this.initialize(),null!=this.element&&this.trash(),this.element=getElement(a)||!1,this.setOptions($.extend({},this.presets,b||{})),this.element&&this.options.parse){var c=$(this.element).attr(this.options.parse);c&&(c=parseJson(c,this.options.parseSecure))&&this.setOptions(c)}this.url=(this.element?this.element.attr("href"):a)||this.options.url||"",this.assignOptions();var d=d||this.options.handler;if(d)return this.setContent(d,this.parsers[d].call(this,!0));var e=!1,f=this;return $.each(this.parsers,function(a,b){var c=b.call(f);return c?(e=f.setContent(a,c),!0):!1})},fromElement:function(a,b){return this.open(a,b)},assignOptions:function(){$(this.overlay).addClass(this.options.classOverlay),$(this.win).addClass(this.options.classWindow)},close:function(a){var b="domevent"==typeof a;return b&&(a.stopPropagation(),a.preventDefault()),!this.isOpen||b&&!($.isFunction(this.options.closable)?this.options.closable.call(this,a):function(){this.options.closable}.call(this,a))?this:($(this.overlay).fadeOut(this.options.animate.overlay,$.proxy(this.toggleOverlay,this)),$(this.win).attr("aria-hidden","true"),$(this).trigger("onClose",[this.content]),this.trash(),this.toggleListeners(),this.isOpen=!1,this)},trash:function(){return this.element=this.asset=null,$(this.content).empty(),this.options={},$(this).unbind()[0].setOptions(this.presets),$(this.closeBtn),this},onError:function(){this.asset=null,this.setContent("string",this.options.errorMsg||"An error occurred")},setContent:function(a,b){return this.handlers[a]?(this.content[0].className="sbox-content-"+a,this.hideContent(),this.applyTimer=setTimeout($.proxy(function(){var c=this.handlers[a].call(this,b);c=$.isArray(c)?c:[c],this.applyContent.apply(this,c)},this),this.options.animate.overlay),$(this.overlay).data("opacity")?this:(this.toggleOverlay(!0),$(this.overlay).fadeTo(this.options.animate.overlay,this.options.overlayOpacity),this.reposition())):!1},applyContent:function(a,b){if(this.isOpen||this.applyTimer){if(this.applyTimer=clearTimeout(this.applyTimer),a){this.isLoading&&this.toggleLoading(!1);var c=this;setTimeout(function(){$(c).trigger("onUpdate",[c.content])},20)}else this.toggleLoading(!0);a&&$(this.content).append(a),this.isOpen?this.resize(b):(this.toggleListeners(!0),this.resize(b,!0),this.isOpen=!0,$(this.win).attr("aria-hidden","false"),$(this).trigger("onOpen",[this.content]))}},resize:function(a,b){this.showTimer=clearTimeout(this.showTimer||null);var c=getSize(this.doc),d=getScroll(this.doc);this.size=$.extend(this.isLoading?this.options.sizeLoading:this.options.size,a);var e=getSize(self);if(this.size.x==e.x&&(this.size.y=this.size.y-50,this.size.x=this.size.x-20),c.x>979)var f={width:this.size.x,height:this.size.y,left:parseInt(d.x+(c.x-this.size.x-this.options.marginInner.x)/2),top:parseInt(d.y+(c.y-this.size.y-this.options.marginInner.y)/2)};else var f={width:c.x-40,height:c.y,left:parseInt(d.x+10),top:parseInt(d.y+20)};return this.hideContent(),b?($(this.win).css(f),this.showTimer=setTimeout($.proxy(this.showContent,this),50)):$(this.win).animate(f,this.options.animate.win,$.proxy(this.showContent,this)),this.reposition()},toggleListeners:function(a){var b=a?"on":"off";$(this.closeBtn)[b]("click",this.bound.close),$(this.overlay)[b]("click",this.bound.close),$(this.doc)[b]("keydown",this.bound.key)[b]("mousewheel",this.bound.scroll),$(this.doc.parentWindow||this.doc.defaultView)[b]("resize",this.bound.window)[b]("scroll",this.bound.window)},toggleLoading:function(a){this.isLoading=a,$(this.win)[a?"addClass":"removeClass"]("sbox-loading"),a&&($(this.win).attr("aria-busy",a),$(this).trigger("onLoading",[this.win]))},toggleOverlay:function(a){if(this.options.overlay){var b=getSize(this.doc).x;$(this.overlay).attr("aria-hidden",a?"false":"true"),$(this.doc.body)[a?"addClass":"removeClass"]("body-overlayed"),a?this.scrollOffset=getSize(this.doc.parentWindow||this.doc.defaultView).x-b:$(this.doc.body).css("margin-right","")}},showContent:function(){$(this.content).attr("opacity")&&$(this).trigger("onShow",[this.win]),$(this.content).fadeIn(this.options.animate.content,"easeOutExpo")},hideContent:function(){$(this.content).attr("opacity")||$(this).trigger("onHide",[this.win]),$(this.content).fadeOut(this.options.animate.content)},onKey:function(a){switch(a.key){case"esc":this.close(a);case"up":case"down":return!1}},checkTarget:function(a){return a.target!==this.content&&$(this.content).find(a.target)},reposition:function(){var a=getSize(this.doc),b=getScroll(this.doc),c=getScrollSize(this.doc),d=$(this.overlay).css("height"),e=parseInt(d);return c.y>e&&a.y>=e&&($(this.overlay).css({width:c.x+"px",height:c.y+"px"}),$(this.win).css({left:parseInt(b.x+(a.x-this.win.offsetWidth)/2-this.scrollOffset)+"px",top:parseInt(b.y+(a.y-this.win.offsetHeight)/2)+"px"})),$(this).trigger("onMove",[this.overlay,this.win])},handlers:{},parsers:{}},$.extend(ARK.squeezeBox.parsers,{image:function(a){return a||/\.(?:jpg|png|gif)$/i.test(this.url)?this.url:!1},clone:function(a){if(getElement(this.options.target))return getElement(this.options.target);if(this.element&&!this.element.parentNode)return this.element;var b=this.url.match(/#([\w-]+)$/);return b?getElement(b[1]):a?this.element:!1},ajax:function(a){return a||this.url&&!/^(?:javascript|#)/i.test(this.url)?this.url:!1},iframe:function(a){return a||this.url?this.url:!1},string:function(a){return!0}}),$.extend(ARK.squeezeBox.handlers,{image:function(a){var b,c=new Image;return this.asset=null,c.onload=c.onabort=c.onerror=$.proxy(function(){if(c.onload=c.onabort=c.onerror=null,!c.width)return void setTimeout($.proxy(this.onError,this),10);var a=getSize(this.doc);a.x-=this.options.marginImage.x,a.y-=this.options.marginImage.y,b={x:c.width,y:c.height};for(var d=2;d--;)b.x>a.x?(b.y*=a.x/b.x,b.x=a.x):b.y>a.y&&(b.x*=a.y/b.y,b.y=a.y);b.x=parseInt(b.x),b.y=parseInt(b.y),this.asset=$(c),c=null,this.asset.attr("width",b.x),this.asset.attr("height",b.y),this.applyContent(this.asset,b)},this),c.src=a,c&&c.onload&&c.complete&&c.onload(),this.asset?[this.asset,b]:null},clone:function(a){return a?$(a).clone():this.onError()},adopt:function(a){return a?a:this.onError()},ajax:function(a){function d(a){c.applyContent(a),$(c).trigger("onAjax",[a,c.asset]),c.asset=null}var b=this.options.ajaxOptions||{},c=this;this.asset=$.ajax($.extend({url:a,method:"GET",datatype:"html",cache:!1,async:!0,complete:function(a){200!=a.status?setTimeout(function(){c.onError.call(c)},10):setTimeout(function(){d(a.responseText)},setTimeout)}},b))},iframe:function(a){var b=getSize(this.doc);if(b.x>979)var c=this.options.size.x,d=this.options.size.y;else var c=b.x,d=b.y-50;return this.asset=$("<iframe></iframe>").attr($.extend({src:a,frameBorder:0,width:c,height:d},this.options.iframeOptions||{})),this.options.iframePreload?(this.asset.on("load",$.proxy(function(){this.applyContent($(this.asset).css("display","")),this.asset.off("load")},this)),$(this.asset).css("display","none").appendTo(this.content),!1):this.asset},string:function(a){return a}}),ARK.squeezeBox.handlers.url=ARK.squeezeBox.handlers.ajax,ARK.squeezeBox.parsers.url=ARK.squeezeBox.parsers.ajax,ARK.squeezeBox.parsers.adopt=ARK.squeezeBox.parsers.clone,$.fn.squeezeBox=function(a,b){return b?ARK.squeezeBox.open(this,a):ARK.squeezeBox.assign(this,a)})});}
