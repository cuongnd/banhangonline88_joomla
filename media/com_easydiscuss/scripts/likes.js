EasyDiscuss.module("likes",function(e){var t=this;EasyDiscuss.require().language("COM_EASYDISCUSS_UNLIKE_THIS_POST","COM_EASYDISCUSS_LIKE_THIS_POST","COM_EASYDISCUSS_UNLIKE","COM_EASYDISCUSS_LIKES").done(function(e){EasyDiscuss.Controller("Likes",{defaultOptions:{postId:null,registeredUser:null,"{likeButton}":".btnLike","{unlikeButton}":".btnUnlike","{likeText}":".likeText","{likeCount}":".likeCount","{likeStatus}":".likeStatus"}},function(t){return{init:function(){t.options.postId=t.element.data("postid"),t.element.data("like",!0)},getLikesData:function(){EasyDiscuss.ajax("site.views.likes.getData",{id:t.options.postId}).done(function(e){t.likeText().html(e)})},likeItem:function(){if(!t.options.registeredUser)return!1;EasyDiscuss.ajax("site.views.likes.like",{postid:t.options.postId}).done(function(e,n){t.likeText().html(e),t.likeCount().html(n)})},"{likeButton} click":function(n){var r=t.likeButton();r.addClass("btnUnlike"),r.attr("data-original-title",e.language("COM_EASYDISCUSS_UNLIKE_THIS_POST")),r.find("i").removeClass("icon-ed-love").addClass("icon-ed-remove"),t.likeStatus().html(e.language("COM_EASYDISCUSS_UNLIKE")),r.removeClass("btnLike"),t.likeItem(n)},"{unlikeButton} click":function(n){var r=t.unlikeButton();r.addClass("btnLike"),r.attr("data-original-title",e.language("COM_EASYDISCUSS_LIKE_THIS_POST")),r.find("i").removeClass("icon-ed-remove").addClass("icon-ed-love"),t.likeStatus().html(e.language("COM_EASYDISCUSS_LIKES")),r.removeClass("btnUnlike"),t.likeItem()},"{unlikeButton} mouseover":function(e){},"{unlikeButton} mouseout":function(e){}}})}),e(document).on("mouseover.discussLikes",".discussLikes",function(){var t=e(this);if(t.data("like")==undefined){var n=t.attr("data-registered-user")==="true";t.implement(EasyDiscuss.Controller.Likes,{registeredUser:n})}}),t.resolve()});