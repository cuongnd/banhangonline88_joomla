(function(){var e=function(e){var t=this,n=function(){"$:nomunge";function l(e){return e=e||window[r][s],e.replace(/^[^#]*#?(.*)$/,"$1")}var t,n=e.event.special,r="location",i="hashchange",s="href",o=e.browser,u=document.documentMode,a=o.msie&&(u===undefined||u<8),f="on"+i in window&&!a;e[i+"Delay"]=100,n[i]=e.extend(n[i],{setup:function(){if(f)return!1;e(t.start)},teardown:function(){if(f)return!1;e(t.stop)}}),t=function(){function c(){u=f=function(e){return e},a&&(o=e('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,f=function(){return l(o.document[r][s])},u=function(e,t){if(e!==t){var n=o.document;n.open().close(),n[r].hash="#"+e}},u(l()))}var t={},n,o,u,f;return t.start=function(){if(n)return;var t=l();u||c(),navigator.userAgent.match(/Rhino/)||function o(){var a=l(),c=f(t);a!==t?(u(t=a,c),e(window).trigger(i)):c!==t&&(window[r][s]=window[r][s].replace(/#.*/,"")+"#"+c),n=setTimeout(o,e[i+"Delay"])}()},t.stop=function(){o||(n&&clearTimeout(n),n=0)},t}()};n(),t.resolveWith(n)};dispatch("mvc/event.hashchange").containing(e).to("Foundry/2.1 Modules")})();