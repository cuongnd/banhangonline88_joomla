!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});
if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}function E(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))
}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;
for(;e--;)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;
if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);
return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);
b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");
return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?(delete this.get,void 0):(this.get=b).apply(this,arguments)}}}function Vb(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;e--;)if(b=Ub[e]+c,b in a)return b;
return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b
}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e))return e;
d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");
c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]
}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function kc(a,b){var c,d,e,f,g;
for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)
},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;
return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);
return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===Jc;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];
else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));
break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1
}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.1pre",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b
},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;
for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)
},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)
},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;
return a},trim:k&&!k.call("\ufeff\xa0")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];
return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0
},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function eb(a,b,d,e){var f,g,i,j,k,n,q,r,v,w;if((b?b.ownerDocument||b:u)!==m&&l(b),b=b||m,d=d||[],!a||"string"!=typeof a)return d;if(1!==(j=b.nodeType)&&9!==j)return[];if(o&&!e){if(f=$.exec(a))if(i=f[1]){if(9===j){if(g=b.getElementById(i),!g||!g.parentNode)return d;if(g.id===i)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(i))&&s(b,g)&&g.id===i)return d.push(g),d
}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((i=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(i)),d}if(c.qsa&&(!p||!p.test(a))){if(r=q=t,v=b,w=9===j&&a,1===j&&"object"!==b.nodeName.toLowerCase()){for(n=pb(a),(q=b.getAttribute("id"))?r=q.replace(ab,"\\$&"):b.setAttribute("id",r),r="[id='"+r+"'] ",k=n.length;k--;)n[k]=r+qb(n[k]);v=_.test(a)&&nb(b.parentNode)||b,w=n.join(",")}if(w)try{return H.apply(d,v.querySelectorAll(w)),d}catch(x){}finally{q||b.removeAttribute("id")
}}}return h(a.replace(Q,"$1"),b,d,e)}function fb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function gb(a){return a[t]=!0,a}function hb(a){var b=m.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ib(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function jb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function mb(a){return gb(function(b){return b=+b,gb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function nb(a){return a&&typeof a.getElementsByTagName!==B&&a}function ob(){}function pb(a,b){var c,e,f,g,h,i,j,k=y[a+" "];
if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?eb.error(a):y(a,i).slice(0)}function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=w++;
return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[v,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[t]||(b[t]={}),(h=i[d])&&h[0]===v&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)eb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));
return g}function vb(a,b,c,d,e,f){return d&&!d[t]&&(d=vb(d)),e&&!e[t]&&(e=vb(e,f)),gb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ub(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)
})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],j=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return J.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==i)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[t]){for(e=++j;f>e&&!d.relative[a[e].type];e++);return vb(j>1&&sb(m),j>1&&qb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(Q,"$1"),c,e>j&&wb(a.slice(j,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))
}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,j,k){var l,n,o,p=0,q="0",r=f&&[],s=[],t=i,u=f||e&&d.find.TAG("*",k),w=v+=null==t?1:Math.random()||.1,x=u.length;for(k&&(i=g!==m&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(n=0;o=a[n++];)if(o(l,g,h)){j.push(l);break}k&&(v=w)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(n=0;o=b[n++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(j));s=ub(s)}H.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&eb.uniqueSort(j)
}return k&&(v=w,i=t),r};return c?gb(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t="sizzle"+-new Date,u=a.document,v=0,w=0,x=fb(),y=fb(),z=fb(),A=function(a,b){return a===b&&(k=!0),0},B="undefined",C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=E.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")"+L+"*(?:([*^$|!~]?=)"+L+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)"+L+"*\\]",P=":("+M+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+O.replace(3,8)+")*)|.*)\\)|)",Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(P),V=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,ab=/'|\\/g,bb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),cb=function(a,b,c){var d="0x"+b-65536;
return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{H.apply(E=I.call(u.childNodes),u.childNodes),E[u.childNodes.length].nodeType}catch(db){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=eb.support={},f=eb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},l=eb.setDocument=function(a){var b,e=a?a.ownerDocument||a:u,g=e.defaultView;return e!==m&&9===e.nodeType&&e.documentElement?(m=e,n=e.documentElement,o=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){l()
},!1):g.attachEvent&&g.attachEvent("onunload",function(){l()})),c.attributes=hb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=hb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(e.getElementsByClassName)&&hb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=hb(function(a){return n.appendChild(a).id=t,!e.getElementsByName||!e.getElementsByName(t).length
}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==B&&o){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(bb,cb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(bb,cb);return function(a){var c=typeof a.getAttributeNode!==B&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==B?b.getElementsByTagName(a):void 0
}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==B&&o?b.getElementsByClassName(a):void 0},q=[],p=[],(c.qsa=Z.test(e.querySelectorAll))&&(hb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&p.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll(":checked").length||p.push(":checked")
}),hb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&p.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||p.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),p.push(",.*:")})),(c.matchesSelector=Z.test(r=n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&hb(function(a){c.disconnectedMatch=r.call(a,"div"),r.call(a,"[s!='']:x"),q.push("!=",P)
}),p=p.length&&new RegExp(p.join("|")),q=q.length&&new RegExp(q.join("|")),b=Z.test(n.compareDocumentPosition),s=b||Z.test(n.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},A=b?function(a,b){if(a===b)return k=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===u&&s(u,a)?-1:b===e||b.ownerDocument===u&&s(u,b)?1:j?J.call(j,a)-J.call(j,b):0:4&d?-1:1)
}:function(a,b){if(a===b)return k=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:j?J.call(j,a)-J.call(j,b):0;if(f===g)return jb(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?jb(h[d],i[d]):h[d]===u?-1:i[d]===u?1:0},e):m},eb.matches=function(a,b){return eb(a,null,null,b)},eb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==m&&l(a),b=b.replace(T,"='$1']"),!(!c.matchesSelector||!o||q&&q.test(b)||p&&p.test(b)))try{var d=r.call(a,b);
if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return eb(b,m,null,[a]).length>0},eb.contains=function(a,b){return(a.ownerDocument||a)!==m&&l(a),s(a,b)},eb.attr=function(a,b){(a.ownerDocument||a)!==m&&l(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!o):void 0;return void 0!==f?f:c.attributes||!o?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},eb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)
},eb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(k=!c.detectDuplicates,j=!c.sortStable&&a.slice(0),a.sort(A),k){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return j=null,a},e=eb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=eb.selectors={cacheLength:50,createPseudo:gb,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(bb,cb),a[3]=(a[4]||a[5]||"").replace(bb,cb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)
},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||eb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&eb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return W.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&U.test(c)&&(b=pb(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(bb,cb).toLowerCase();return"*"===a?function(){return!0
}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=x[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&x(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==B&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=eb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0
}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[t]||(q[t]={}),j=k[a]||[],n=j[0]===v&&j[1],m=j[0]===v&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[v,n,m];
break}}else if(s&&(j=(b[t]||(b[t]={}))[a])&&j[0]===v)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[t]||(l[t]={}))[a]=[v,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||eb.error("unsupported pseudo: "+a);return e[t]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?gb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J.call(a,f[g]),a[d]=!(c[d]=f[g])
}):function(a){return e(a,0,c)}):e}},pseudos:{not:gb(function(a){var b=[],c=[],d=g(a.replace(Q,"$1"));return d[t]?gb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:gb(function(a){return function(b){return eb(a,b).length>0}}),contains:gb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:gb(function(a){return V.test(a||"")||eb.error("unsupported lang: "+a),a=a.replace(bb,cb).toLowerCase(),function(b){var c;
do if(c=o?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===n},focus:function(a){return a===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())
},first:mb(function(){return[0]}),last:mb(function(a,b){return[b-1]}),eq:mb(function(a,b,c){return[0>c?c+b:c]}),even:mb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:mb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:mb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:mb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=kb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=lb(b);
return ob.prototype=d.filters=d.pseudos,d.setFilters=new ob,g=eb.compile=function(a,b){var c,d=[],e=[],f=z[a+" "];if(!f){for(b||(b=pb(a)),c=b.length;c--;)f=wb(b[c]),f[t]?d.push(f):e.push(f);f=z(a,xb(e,d)),f.selector=a}return f},h=eb.select=function(a,b,e,f){var h,i,j,k,l,m="function"==typeof a&&a,n=!f&&pb(a=m.selector||a);if(e=e||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&o&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(bb,cb),b)||[])[0],!b)return e;
m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}for(h=W.needsContext.test(a)?0:i.length;h--&&(j=i[h],!d.relative[k=j.type]);)if((l=d.find[k])&&(f=l(j.matches[0].replace(bb,cb),_.test(i[0].type)&&nb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&qb(i),!a)return H.apply(e,f),e;break}}return(m||g(a,n))(f,b,!o,e,_.test(a)&&nb(b.parentNode)||b),e},c.sortStable=t.split("").sort(A).join("")===t,c.detectDuplicates=!!k,l(),c.sortDetached=hb(function(a){return 1&a.compareDocumentPosition(m.createElement("div"))
}),hb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ib("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&hb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ib("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),hb(function(a){return null==a.getAttribute("disabled")})||ib(K,function(a,b,c){var d;
return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),eb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;
if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;
if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d
}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d
},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)
},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)
},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)
}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())
},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){for(var d;(d=n.inArray(c,h,d))>-1;)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h
},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c
},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];
d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;
return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}}),n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);
else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var M,L="undefined";for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)
}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)
},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)
}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()
},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])
},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;
for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1
}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);
if(r){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;h--;)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);
a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){for(b=(b||"").match(F)||[""],j=b.length;j--;)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));
i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;
l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}for(m=0;(h=o[m++])&&!b.isPropagationStopped();)b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)
}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));
return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g
},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a
}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)
}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),this[n.expando]=!0,void 0):new n.Event(a,b)
},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;
return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:(n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))}),void 0)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))
},teardown:function(){return n.nodeName(this,"form")?!1:(n.event.remove(this,"._submit"),void 0)}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):(n.event.add(this,"beforeactivate._change",function(a){var b=a.target;
Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)
};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=cb;
else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)
})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));
sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td,n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);
else Bb(a,f);return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if(f=a[q],f||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody)for(f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);
for(n.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;f=p[q++];)if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c))for(e=0;f=h[e++];)pb.test(f.type||"")&&c.push(f);return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);
j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);
b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&n.cleanData(vb(a,!1));a.firstChild;)a.removeChild(a.firstChild);
a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);
b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);
q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));
i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;
if(null==b){if(a=z.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Jb,Kb,Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)
},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"
}),function(){function j(){var b,c,g=z.getElementsByTagName("body")[0];g&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=h,g.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),g.removeChild(b),c=g=null)
}var b,c,d,e,f,g=z.createElement("div"),h="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=g.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,b=g=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;
var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=h,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c
},boxSizing:function(){return null==d&&j(),d},boxSizingReliable:function(){return null==e&&j(),e},pixelPosition:function(){return null==f&&j(),f},reliableMarginRight:function(){var b,c,d,e,f=!0;if(a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b)return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=h,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=i,e.style.marginRight=e.style.width="0",d.style.width="1px",f=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)
}return f}})}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c
}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c
}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);
return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)
}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);
return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];
return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]
},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;
if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};
return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);
(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));
(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)
}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))
},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null
}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)
}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0
}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)
})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):(n.removeAttr(a,b),void 0))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)
},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e
}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?(a.defaultValue=b,void 0):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);
return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)
},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1
}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;
n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;
if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)
}):this.each(function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(F)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)
}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");
var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};
var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)
},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))
}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j)for(j={};b=Dc.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this
},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;
h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);
for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")
}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))
});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)
})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)
};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))
}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;
return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();
else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a
}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))
},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]
},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);
var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;return n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};
"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;
if(f)return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}
}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dd;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e,void 0)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0
})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)
}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,function(){var a,b;n.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=n.uaMatch(navigator.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),n.browser=b
}(),n.version="3.1",n.long_version="3.1.17",n.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".","")+(b?b:"")},n.globalNamespace=n.uid("Foundry"),a[n.globalNamespace]=n,n.run=function(a){return n.isFunction(a)?a(n):null},n.initialize=function(b){n.initialized||(n.extend(n,b),"development"==n.environment&&(a.F=n),n.initialized=!0,FD31.module.execute())},FD31.jquery(n),"function"==typeof define&&define.amd&&define("jquery",[],function(){return n}),n}),FD31.plugin("lodash",function(a){function N(a,b,c){for(var d=(c||0)-1,e=a.length;++d<e;)if(a[d]===b)return d;
return-1}function O(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var d="number"==c?b:g+b;return a=a[c]||(a[c]={}),"object"==c?a[d]&&N(a[d],b)>-1?0:-1:a[d]?0:-1}function P(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:g+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a)==this.array.length&&(b[c]=!1):e[d]=!0}}function Q(a){return a.charCodeAt(0)}function R(a,b){var c=a.index,d=b.index;
if(a=a.criteria,b=b.criteria,a!==b){if(a>b||"undefined"==typeof a)return 1;if(b>a||"undefined"==typeof b)return-1}return d>c?-1:1}function S(a){var b=-1,c=a.length,d=V();d["false"]=d["null"]=d["true"]=d.undefined=!1;var e=V();for(e.array=a,e.cache=d,e.push=P;++b<c;)e.push(a[b]);return d.object===!1?(Y(e),null):e}function T(a){return"\\"+J[a]}function U(){return c.pop()||[]}function V(){return d.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}
}function X(a){a.length=0,c.length<i&&c.push(a)}function Y(a){var b=a.cache;b&&Y(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,d.length<i&&d.push(a)}function Z(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function $(a){function Fb(a){return a&&"object"==typeof a&&!Qb(a)&&mb.call(a,"__wrapped__")?a:new Gb(a)}function Gb(a){this.__wrapped__=a}function Ib(a,b,c,d){function i(){var d=arguments,j=f?this:b;if(e||(a=b[g]),c.length&&(d=d.length?(d=Bb.call(d),h?d.concat(c):c.concat(d)):c),this instanceof i){j=Jb(a.prototype);
var k=a.apply(j,d);return kc(k)?k:j}return a.apply(j,d)}var e=jc(a),f=!c,g=b;if(f){var h=d;c=b}else if(!e){if(!d)throw new bb;b=a}return i}function Jb(a){return kc(a)?sb(a):{}}function Kb(a){return Tb[a]}function Lb(){var d=(d=Fb.indexOf)===Zc?N:d;return d}function Mb(a){return function(c,d,e,f){return"boolean"!=typeof d&&null!=d&&(f=e,e=f&&f[d]===c?b:d,d=!1),null!=e&&(e=Fb.createCallback(e,f)),a(c,d,e,f)}}function Nb(a){var c,d;return a&&qb.call(a)==E&&(c=a.constructor,!jc(c)||c instanceof c)?($b(a,function(a,b){d=b
}),d===b||mb.call(a,d)):!1}function Ob(a){return Ub[a]}function Pb(a){return qb.call(a)==y}function Wb(a,c,d,e,f,g){var h=a;if("boolean"!=typeof c&&null!=c&&(e=d,d=c,c=!1),"function"==typeof d){if(d="undefined"==typeof e?d:Fb.createCallback(d,e,1),h=d(h),"undefined"!=typeof h)return h;h=a}var i=kc(h);if(i){var j=qb.call(h);if(!H[j])return h;var k=Qb(h)}if(!i||!c)return i?k?Z(h):Vb({},h):h;var l=Eb[j];switch(j){case A:case B:return new l(+h);case D:case G:return new l(h);case F:return l(h.source,o.exec(h))}var m=!f;
f||(f=U()),g||(g=U());for(var n=f.length;n--;)if(f[n]==a)return g[n];return h=k?l(h.length):{},k&&(mb.call(a,"index")&&(h.index=a.index),mb.call(a,"input")&&(h.input=a.input)),f.push(a),g.push(h),(k?Ec:_b)(a,function(a,e){h[e]=Wb(a,c,d,b,f,g)}),m&&(X(f),X(g)),h}function Xb(a,b,c){return Wb(a,!0,b,c)}function Zb(a,b,c){var d;return b=Fb.createCallback(b,c),_b(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function ac(a){var b=[];return $b(a,function(a,c){jc(a)&&b.push(c)}),b.sort()}function bc(a,b){return a?mb.call(a,b):!1
}function cc(a){for(var b=-1,c=Sb(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function dc(a){return a===!0||a===!1||qb.call(a)==A}function ec(a){return a?"object"==typeof a&&qb.call(a)==B:!1}function fc(a){return a?1===a.nodeType:!1}function gc(a){var b=!0;if(!a)return b;var c=qb.call(a),d=a.length;return c==z||c==G||c==y||c==E&&"number"==typeof d&&jc(a.splice)?!d:(_b(a,function(){return b=!1}),b)}function hc(a,b,c,d,e,g){var h=c===f;if("function"==typeof c&&!h){c=Fb.createCallback(c,d,2);var i=c(a,b);
if("undefined"!=typeof i)return!!i}if(a===b)return 0!==a||1/a==1/b;var j=typeof a,k=typeof b;if(a===a&&(!a||"function"!=j&&"object"!=j)&&(!b||"function"!=k&&"object"!=k))return!1;if(null==a||null==b)return a===b;var l=qb.call(a),m=qb.call(b);if(l==y&&(l=E),m==y&&(m=E),l!=m)return!1;switch(l){case A:case B:return+a==+b;case D:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case F:case G:return a==ab(b)}var n=l==z;if(!n){if(mb.call(a,"__wrapped__ ")||mb.call(b,"__wrapped__"))return hc(a.__wrapped__||a,b.__wrapped__||b,c,d,e,g);
if(l!=E)return!1;var o=a.constructor,p=b.constructor;if(o!=p&&!(jc(o)&&o instanceof o&&jc(p)&&p instanceof p))return!1}var q=!e;e||(e=U()),g||(g=U());for(var r=e.length;r--;)if(e[r]==a)return g[r]==b;var s=0;if(i=!0,e.push(a),g.push(b),n){if(r=a.length,s=b.length,i=s==a.length,!i&&!h)return i;for(;s--;){var t=r,u=b[s];if(h)for(;t--&&!(i=hc(a[t],u,c,d,e,g)););else if(!(i=hc(a[s],u,c,d,e,g)))break}return i}return $b(b,function(b,f,h){return mb.call(h,f)?(s++,i=mb.call(a,f)&&hc(a[f],b,c,d,e,g)):void 0}),i&&!h&&$b(a,function(a,b,c){return mb.call(c,b)?i=--s>-1:void 0
}),q&&(X(e),X(g)),i}function ic(a){return ub(a)&&!vb(parseFloat(a))}function jc(a){return"function"==typeof a}function kc(a){return!(!a||!I[typeof a])}function lc(a){return nc(a)&&a!=+a}function mc(a){return null===a}function nc(a){return"number"==typeof a||qb.call(a)==D}function pc(a){return a?"object"==typeof a&&qb.call(a)==F:!1}function qc(a){return"string"==typeof a||qb.call(a)==G}function rc(a){return"undefined"==typeof a}function sc(a,b,c){var d=arguments,e=0,g=2;if(!kc(a))return a;if(c===f)var h=d[3],i=d[4],j=d[5];
else{var k=!0;i=U(),j=U(),"number"!=typeof c&&(g=d.length),g>3&&"function"==typeof d[g-2]?h=Fb.createCallback(d[--g-1],d[g--],2):g>2&&"function"==typeof d[g-1]&&(h=d[--g])}for(;++e<g;)(Qb(d[e])?Ec:_b)(d[e],function(b,c){var d,e,g=b,k=a[c];if(b&&((e=Qb(b))||oc(b))){for(var l=i.length;l--;)if(d=i[l]==b){k=j[l];break}if(!d){var m;h&&(g=h(k,b),(m="undefined"!=typeof g)&&(k=g)),m||(k=e?Qb(k)?k:[]:oc(k)?k:{}),i.push(b),j.push(k),m||(k=sc(k,b,f,h,i,j))}}else h&&(g=h(k,b),"undefined"==typeof g&&(g=b)),"undefined"!=typeof g&&(k=g);
a[c]=k});return k&&(X(i),X(j)),a}function tc(a,b,c){var d=Lb(),e="function"==typeof b,f={};if(e)b=Fb.createCallback(b,c);else var g=ib.apply(cb,Bb.call(arguments,1));return $b(a,function(a,c,h){(e?!b(a,c,h):d(g,c)<0)&&(f[c]=a)}),f}function uc(a){for(var b=-1,d=Sb(a),e=d.length,f=c(e);++b<e;){var g=d[b];f[b]=[g,a[g]]}return f}function vc(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=ib.apply(cb,Bb.call(arguments,1)),g=kc(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=Fb.createCallback(b,c),$b(a,function(a,c,e){b(a,c,e)&&(d[c]=a)
});return d}function wc(a,b,c,d){var e=Qb(a);if(b=Fb.createCallback(b,d,4),null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=Jb(g)}return(e?Ec:_b)(a,function(a,d,e){return b(c,a,d,e)}),c}function xc(a){for(var b=-1,d=Sb(a),e=d.length,f=c(e);++b<e;)f[b]=a[d[b]];return f}function yc(a){for(var b=-1,d=ib.apply(cb,Bb.call(arguments,1)),e=d.length,f=c(e);++b<e;)f[b]=a[d[b]];return f}function zc(a,b,c){var d=-1,e=Lb(),f=a?a.length:0,g=!1;return c=(0>c?xb(0,f+c):c)||0,f&&"number"==typeof f?g=(qc(a)?a.indexOf(b,c):e(a,b,c))>-1:_b(a,function(a){return++d>=c?!(g=a===b):void 0
}),g}function Ac(a,b,c){var d={};return b=Fb.createCallback(b,c),Ec(a,function(a,c,e){c=ab(b(a,c,e)),mb.call(d,c)?d[c]++:d[c]=1}),d}function Bc(a,b,c){var d=!0;b=Fb.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else _b(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Cc(a,b,c){var d=[];b=Fb.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else _b(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d
}function Dc(a,b,c){b=Fb.createCallback(b,c);var d=-1,e=a?a.length:0;if("number"!=typeof e){var g;return _b(a,function(a,c,d){return b(a,c,d)?(g=a,!1):void 0}),g}for(;++d<e;){var f=a[d];if(b(f,d,a))return f}}function Ec(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Fb.createCallback(b,c),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else _b(a,b);return a}function Fc(a,b,c){var d={};return b=Fb.createCallback(b,c),Ec(a,function(a,c,e){c=ab(b(a,c,e)),(mb.call(d,c)?d[c]:d[c]=[]).push(a)}),d
}function Gc(a,b){var d=Bb.call(arguments,2),e=-1,f="function"==typeof b,g=a?a.length:0,h=c("number"==typeof g?g:0);return Ec(a,function(a){h[++e]=(f?b:a[b]).apply(a,d)}),h}function Hc(a,b,d){var e=-1,f=a?a.length:0;if(b=Fb.createCallback(b,d),"number"==typeof f)for(var g=c(f);++e<f;)g[e]=b(a[e],e,a);else g=[],_b(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function Ic(a,b,c){var d=-1/0,e=d;if(!b&&Qb(a))for(var f=-1,g=a.length;++f<g;){var h=a[f];h>e&&(e=h)}else b=!b&&qc(a)?Q:Fb.createCallback(b,c),Ec(a,function(a,c,f){var g=b(a,c,f);
g>d&&(d=g,e=a)});return e}function Jc(a,b,c){var d=1/0,e=d;if(!b&&Qb(a))for(var f=-1,g=a.length;++f<g;){var h=a[f];e>h&&(e=h)}else b=!b&&qc(a)?Q:Fb.createCallback(b,c),Ec(a,function(a,c,f){var g=b(a,c,f);d>g&&(d=g,e=a)});return e}function Kc(a,b){var d=-1,e=a?a.length:0;if("number"==typeof e)for(var f=c(e);++d<e;)f[d]=a[d][b];return f||Hc(a,b)}function Lc(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=Fb.createCallback(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);
else _b(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Mc(a,b,c,d){var e=a,f=a?a.length:0,g=arguments.length<3;if("number"!=typeof f){var h=Sb(a);f=h.length}return b=Fb.createCallback(b,d,4),Ec(a,function(a,d,i){d=h?h[--f]:--f,c=g?(g=!1,e[d]):b(c,e[d],d,i)}),c}function Nc(a,b,c){return b=Fb.createCallback(b,c),Cc(a,function(a,c,d){return!b(a,c,d)})}function Oc(a){var b=-1,d=a?a.length:0,e=c("number"==typeof d?d:0);return Ec(a,function(a){var c=jb(Ab()*(++b+1));e[b]=e[c],e[c]=a}),e}function Pc(a){var b=a?a.length:0;
return"number"==typeof b?b:Sb(a).length}function Qc(a,b,c){var d;b=Fb.createCallback(b,c);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else _b(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Rc(a,b,d){var e=-1,f=a?a.length:0,g=c("number"==typeof f?f:0);for(b=Fb.createCallback(b,d),Ec(a,function(a,c,d){var f=g[++e]=V();f.criteria=b(a,c,d),f.index=e,f.value=a}),f=g.length,g.sort(R);f--;){var h=g[f];g[f]=h.value,Y(h)}return g}function Sc(a){return a&&"number"==typeof a.length?Z(a):xc(a)
}function Uc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function Vc(a){var b=-1,c=Lb(),d=a?a.length:0,e=ib.apply(cb,Bb.call(arguments,1)),f=[],g=d>=h&&c===N;if(g){var i=S(e);i?(c=O,e=i):g=!1}for(;++b<d;){var j=a[b];c(e,j)<0&&f.push(j)}return g&&Y(e),f}function Wc(a,b,c){var d=-1,e=a?a.length:0;for(b=Fb.createCallback(b,c);++d<e;)if(b(a[d],d,a))return d;return-1}function Xc(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=-1;for(b=Fb.createCallback(b,c);++f<e&&b(a[f],f,a);)d++
}else if(d=b,null==d||c)return a[0];return Z(a,0,yb(xb(0,d),e))}}function Zc(a,b,c){if("number"==typeof c){var d=a?a.length:0;c=0>c?xb(0,d+c):c||0}else if(c){var e=ed(a,b);return a[e]===b?e:-1}return a?N(a,b,c):-1}function $c(a,b,c){if(!a)return[];var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=Fb.createCallback(b,c);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return Z(a,0,yb(xb(0,e-d),e))}function _c(a){for(var b=arguments,c=b.length,d=-1,e=U(),f=-1,g=Lb(),i=a?a.length:0,j=[],k=U();++d<c;){var l=b[d];
e[d]=g===N&&(l?l.length:0)>=h&&S(d?b[d]:k)}a:for(;++f<i;){var m=e[0];if(l=a[f],(m?O(m,l):g(k,l))<0){for(d=c,(m||k).push(l);--d;)if(m=e[d],(m?O(m,l):g(b[d],l))<0)continue a;j.push(l)}}for(;c--;)m=e[c],m&&Y(m);return X(e),X(k),j}function ad(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=Fb.createCallback(b,c);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[e-1];return Z(a,xb(0,e-d))}}function bd(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?xb(0,d+c):yb(c,d-1))+1);d--;)if(a[d]===b)return d;
return-1}function cd(a,b,d){a=+a||0,d=+d||1,null==b&&(b=a,a=0);for(var e=-1,f=xb(0,gb((b-a)/d)),g=c(f);++e<f;)g[e]=a,a+=d;return g}function dd(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=Fb.createCallback(b,c);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:xb(0,b);return Z(a,d)}function ed(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?Fb.createCallback(c,d,1):Bd,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function fd(a){return Qb(a)||(arguments[0]=a?Bb.call(a):cb),gd(ib.apply(cb,arguments))
}function hd(a){for(var b=-1,d=a?Ic(Kc(a,"length")):0,e=c(0>d?0:d);++b<d;)e[b]=Kc(a,b);return e}function id(a){return Vc(a,Bb.call(arguments,1))}function jd(a){return a?hd(arguments):[]}function kd(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function ld(a,b){return 1>a?b():function(){return--a<1?b.apply(this,arguments):void 0}}function md(a,b){return Hb.fastBind||rb&&arguments.length>2?rb.call.apply(rb,arguments):Ib(a,b,Bb.call(arguments,2))}function nd(a){for(var b=arguments.length>1?ib.apply(cb,Bb.call(arguments,1)):ac(a),c=-1,d=b.length;++c<d;){var e=b[c];
a[e]=md(a[e],a)}return a}function od(a,b){return Ib(a,b,Bb.call(arguments,2),f)}function pd(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function qd(a,b,c){if(null==a)return Bd;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var e=Sb(a);return function(b){for(var c=e.length,d=!1;c--&&(d=hc(b[e[c]],a[e[c]],f)););return d}}return"undefined"==typeof b||q&&!q.test(kb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)
}:4===c?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}}function rd(a,b,c){function n(){hb(k),hb(l),g=0,k=l=null}function o(){var b=m&&(!q||g>1);n(),b&&(j!==!1&&(h=new i),e=a.apply(f,d))}function p(){n(),(m||j!==b)&&(h=new i,e=a.apply(f,d))}var d,e,f,g=0,h=0,j=!1,k=null,l=null,m=!0;if(b=xb(0,b||0),c===!0){var q=!0;m=!1}else kc(c)&&(q=c.leading,j="maxWait"in c&&xb(b,c.maxWait||0),m="trailing"in c?c.trailing:m);return function(){if(d=arguments,f=this,g++,hb(l),j===!1)q&&2>g&&(e=a.apply(f,d));
else{var c=new i;k||q||(h=c);var m=j-(c-h);0>=m?(hb(k),k=null,h=c,e=a.apply(f,d)):k||(k=pb(p,m))}return b!==j&&(l=pb(o,b)),e}}function sd(a){var c=Bb.call(arguments,1);return pb(function(){a.apply(b,c)},1)}function td(a,c){var d=Bb.call(arguments,2);return pb(function(){a.apply(b,d)},c)}function ud(a,b){function c(){var d=c.cache,e=g+(b?b.apply(this,arguments):arguments[0]);return mb.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}return c.cache={},c}function vd(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)
}}function wd(a){return Ib(a,Bb.call(arguments,1))}function xd(a){return Ib(a,Bb.call(arguments,1),null,f)}function yd(a,b,c){var d=!0,e=!0;c===!1?d=!1:kc(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c=V(),c.leading=d,c.maxWait=b,c.trailing=e;var f=rd(a,b,c);return Y(c),f}function zd(a,b){return function(){var c=[a];return nb.apply(c,arguments),b.apply(this,c)}}function Ad(a){return null==a?"":ab(a).replace(u,Kb)}function Bd(a){return a}function Cd(a){Ec(ac(a),function(b){var c=Fb[b]=a[b];
Fb.prototype[b]=function(){var a=this.__wrapped__,b=[a];nb.apply(b,arguments);var d=c.apply(Fb,b);return a&&"object"==typeof a&&a===d?this:new Gb(d)}})}function Dd(){return a._=eb,this}function Fd(a,b){null==a&&null==b&&(b=1),a=+a||0,null==b?(b=a,a=0):b=+b||0;var c=Ab();return a%1||b%1?a+yb(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+jb(c*(b-a+1))}function Gd(a,c){var d=a?a[c]:b;return jc(d)?a[c]():d}function Hd(a,c,d){var e=Fb.templateSettings;a||(a=""),d=Yb({},d,e);var i,f=Yb({},d.imports,e.imports),g=Sb(f),h=xc(f),m=0,o=d.interpolate||t,q="__p += '",r=W((d.escape||t).source+"|"+o.source+"|"+(o===p?n:t).source+"|"+(d.evaluate||t).source+"|$","g");
a.replace(r,function(b,c,d,e,f,g){return d||(d=e),q+=a.slice(m,g).replace(v,T),c&&(q+="' +\n__e("+c+") +\n'"),f&&(i=!0,q+="';\n"+f+";\n__p += '"),d&&(q+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),m=g+b.length,b}),q+="';\n";var s=d.variable,u=s;u||(s="obj",q="with ("+s+") {\n"+q+"\n}\n"),q=(i?q.replace(j,""):q).replace(k,"$1").replace(l,"$1;"),q="function("+s+") {\n"+(u?"":s+" || ("+s+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+q+"return __p\n}";
var w="\n/*\n//@ sourceURL="+(d.sourceURL||"/lodash/template/source["+x++ +"]")+"\n*/";try{var y=J(g,"return "+q+w).apply(b,h)}catch(z){throw z.source=q,z}return c?y(c):(y.source=q,y)}function Id(a,b,d){a=(a=+a)>-1?a:0;var e=-1,f=c(a);for(b=Fb.createCallback(b,d,1);++e<a;)f[e]=b(e);return f}function Jd(a){return null==a?"":ab(a).replace(m,Ob)}function Kd(a){var b=++e;return ab(null==a?"":a)+b}function Ld(a,b){return b(a),a}function Md(){return ab(this.__wrapped__)}function Nd(){return this.__wrapped__}a=a?_.defaults(window.Object(),a,_.pick(window,w)):window;
var c=a.Array,d=a.Boolean,i=a.Date,J=a.Function,K=a.Math,M=a.Number,P=a.Object,W=a.RegExp,ab=a.String,bb=a.TypeError,cb=[],db=P.prototype,eb=a._,fb=W("^"+ab(db.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),gb=K.ceil,hb=a.clearTimeout,ib=cb.concat,jb=K.floor,kb=J.prototype.toString,lb=fb.test(lb=P.getPrototypeOf)&&lb,mb=db.hasOwnProperty,nb=cb.push,ob=a.setImmediate,pb=a.setTimeout,qb=db.toString,rb=fb.test(rb=qb.bind)&&rb,sb=fb.test(sb=P.create)&&sb,tb=fb.test(tb=c.isArray)&&tb,ub=a.isFinite,vb=a.isNaN,wb=fb.test(wb=P.keys)&&wb,xb=K.max,yb=K.min,zb=a.parseInt,Ab=K.random,Bb=cb.slice,Cb=fb.test(a.attachEvent),Db=rb&&!/\n|true/.test(rb+Cb),Eb={};
Eb[z]=c,Eb[A]=d,Eb[B]=i,Eb[C]=J,Eb[E]=P,Eb[D]=M,Eb[F]=W,Eb[G]=ab,Gb.prototype=Fb.prototype;var Hb=Fb.support={};Hb.fastBind=rb&&!Db,Fb.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:p,variable:"",imports:{_:Fb}};var Qb=tb,Rb=function(a){var b,c=a,d=[];if(!c)return d;if(!I[typeof a])return d;for(b in c)mb.call(c,b)&&d.push(b);return d},Sb=wb?function(a){return kc(a)?wb(a):[]}:Rb,Tb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ub=cc(Tb),Vb=function(a,b,c){var d,e=a,f=e;
if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=Fb.createCallback(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&I[typeof e])for(var k=-1,l=I[typeof e]&&Sb(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},Yb=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&I[typeof e])for(var j=-1,k=I[typeof e]&&Sb(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);
return f},$b=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!I[typeof e])return f;b=b&&"undefined"==typeof c?b:Fb.createCallback(b,c);for(d in e)if(b(e[d],d,a)===!1)return f;return f},_b=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!I[typeof e])return f;b=b&&"undefined"==typeof c?b:Fb.createCallback(b,c);for(var g=-1,h=I[typeof e]&&Sb(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},oc=function(a){if(!a||qb.call(a)!=E)return!1;var b=a.valueOf,c="function"==typeof b&&(c=lb(b))&&lb(c);
return c?a==c||lb(a)==c:Nb(a)},Tc=Cc,Yc=Mb(function Od(a,b,c){for(var d=-1,e=a?a.length:0,f=[];++d<e;){var g=a[d];c&&(g=c(g,d,a)),Qb(g)?nb.apply(f,b?g:Od(g)):f.push(g)}return f}),gd=Mb(function(a,b,c){var d=-1,e=Lb(),f=a?a.length:0,g=[],i=!b&&f>=h&&e===N,j=c||i?U():g;if(i){var k=S(j);k?(e=O,j=k):(i=!1,j=c?j:(X(j),g))}for(;++d<f;){var l=a[d],m=c?c(l,d,a):l;(b?!d||j[j.length-1]!==m:e(j,m)<0)&&((c||i)&&j.push(m),g.push(l))}return i?(X(j.array),Y(j)):c&&X(j),g});Db&&L&&"function"==typeof ob&&(sd=md(ob,a));var Ed=8==zb(r+"08")?zb:function(a,b){return zb(qc(a)?a.replace(s,""):a,b||0)
};return Fb.after=ld,Fb.assign=Vb,Fb.at=yc,Fb.bind=md,Fb.bindAll=nd,Fb.bindKey=od,Fb.compact=Uc,Fb.compose=pd,Fb.countBy=Ac,Fb.createCallback=qd,Fb.debounce=rd,Fb.defaults=Yb,Fb.defer=sd,Fb.delay=td,Fb.difference=Vc,Fb.filter=Cc,Fb.flatten=Yc,Fb.forEach=Ec,Fb.forIn=$b,Fb.forOwn=_b,Fb.functions=ac,Fb.groupBy=Fc,Fb.initial=$c,Fb.intersection=_c,Fb.invert=cc,Fb.invoke=Gc,Fb.keys=Sb,Fb.map=Hc,Fb.max=Ic,Fb.memoize=ud,Fb.merge=sc,Fb.min=Jc,Fb.omit=tc,Fb.once=vd,Fb.pairs=uc,Fb.partial=wd,Fb.partialRight=xd,Fb.pick=vc,Fb.pluck=Kc,Fb.range=cd,Fb.reject=Nc,Fb.rest=dd,Fb.shuffle=Oc,Fb.sortBy=Rc,Fb.tap=Ld,Fb.throttle=yd,Fb.times=Id,Fb.toArray=Sc,Fb.transform=wc,Fb.union=fd,Fb.uniq=gd,Fb.unzip=hd,Fb.values=xc,Fb.where=Tc,Fb.without=id,Fb.wrap=zd,Fb.zip=jd,Fb.zipObject=kd,Fb.collect=Hc,Fb.drop=dd,Fb.each=Ec,Fb.extend=Vb,Fb.methods=ac,Fb.object=kd,Fb.select=Cc,Fb.tail=dd,Fb.unique=gd,Cd(Fb),Fb.chain=Fb,Fb.prototype.chain=function(){return this
},Fb.clone=Wb,Fb.cloneDeep=Xb,Fb.contains=zc,Fb.escape=Ad,Fb.every=Bc,Fb.find=Dc,Fb.findIndex=Wc,Fb.findKey=Zb,Fb.has=bc,Fb.identity=Bd,Fb.indexOf=Zc,Fb.isArguments=Pb,Fb.isArray=Qb,Fb.isBoolean=dc,Fb.isDate=ec,Fb.isElement=fc,Fb.isEmpty=gc,Fb.isEqual=hc,Fb.isFinite=ic,Fb.isFunction=jc,Fb.isNaN=lc,Fb.isNull=mc,Fb.isNumber=nc,Fb.isObject=kc,Fb.isPlainObject=oc,Fb.isRegExp=pc,Fb.isString=qc,Fb.isUndefined=rc,Fb.lastIndexOf=bd,Fb.mixin=Cd,Fb.noConflict=Dd,Fb.parseInt=Ed,Fb.random=Fd,Fb.reduce=Lc,Fb.reduceRight=Mc,Fb.result=Gd,Fb.runInContext=$,Fb.size=Pc,Fb.some=Qc,Fb.sortedIndex=ed,Fb.template=Hd,Fb.unescape=Jd,Fb.uniqueId=Kd,Fb.all=Bc,Fb.any=Qc,Fb.detect=Dc,Fb.findWhere=Dc,Fb.foldl=Lc,Fb.foldr=Mc,Fb.include=zc,Fb.inject=Lc,_b(Fb,function(a,b){Fb.prototype[b]||(Fb.prototype[b]=function(){var b=[this.__wrapped__];
return nb.apply(b,arguments),a.apply(Fb,b)})}),Fb.first=Xc,Fb.last=ad,Fb.take=Xc,Fb.head=Xc,_b(Fb,function(a,b){Fb.prototype[b]||(Fb.prototype[b]=function(b,c){var d=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?d:new Gb(d)})}),Fb.VERSION="1.3.1",Fb.prototype.toString=Md,Fb.prototype.value=Nd,Fb.prototype.valueOf=Nd,Ec(["join","pop","shift"],function(a){var b=cb[a];Fb.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}}),Ec(["push","reverse","sort","unshift"],function(a){var b=cb[a];
Fb.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Ec(["concat","slice","splice"],function(a){var b=cb[a];Fb.prototype[a]=function(){return new Gb(b.apply(this.__wrapped__,arguments))}}),Fb}var b,c=[],d=[],e=0,f={},g=+new Date+"",h=75,i=40,j=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,n=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,o=/\w*$/,p=/<%=([\s\S]+?)%>/g,q=(q=/\bthis\b/)&&q.test($)&&q,r=" 	\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",s=RegExp("^["+r+"]*0+(?=.$)"),t=/($^)/,u=/[&<>"']/g,v=/['\n\r\t\u2028\u2029\\]/g,w=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],x=0,y="[object Arguments]",z="[object Array]",A="[object Boolean]",B="[object Date]",C="[object Function]",D="[object Number]",E="[object Object]",F="[object RegExp]",G="[object String]",H={};
H[C]=!1,H[y]=H[z]=H[A]=H[B]=H[D]=H[E]=H[F]=H[G]=!0;var I={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},J={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=I[typeof exports]&&exports,L=I[typeof module]&&module&&module.exports==K&&module,M=I[typeof global]&&global;!M||M.global!==M&&M.window!==M||(window=M);var _=a._=$();a.each(_,function(b,c){Object.hasOwnProperty.call(_,b)&&!/VERSION/.test(name)&&(a[b]||(a[b]=c))})}),FD31.plugin("bootstrap",function(a){!function(a){"use strict";
a(function(){a.support.transition=function(){var a=function(){var c,a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(c in b)if(void 0!==a.style[c])return b[c]}();return a&&{end:a}}()})}(a),!function(a){"use strict";var b='[data-foundry-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var e,c=a(this),d=c.attr("data-target");
d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close")),b.isDefaultPrevented()||(e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f())},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a(document).on("click.alert.data-api",b,c.prototype.close)
}(a),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-foundry-toggle="buttons-radio"]');a.hasClass("disabled")||(a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active"))
},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(document).on("click.button.data-api","[data-foundry-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(a),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))
};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;if(!(b>d.length-1||0>b))return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this
},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var j,d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h](),j=a.Event("slide",{relatedTarget:e[0]}),!e.hasClass("active")){if(a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;
e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;
e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(document).on("click.carousel.data-api","[data-foundry-slide]",function(b){var d,c=a(this),e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})}(a),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()
};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),a.support.transition&&this.$element[b](this.$element[0][c]),this.transition("addClass",a.Event("bootstrap-show"),"shown")
}},hide:function(){var b;this.transitioning||(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("bootstrap-hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"bootstrap-show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())
},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f="object"==typeof c&&c;e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(document).on("click.collapse.data-api","[data-foundry-toggle=collapse]",function(b){var d,c=a(this),e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();
c[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(a),!function(a){"use strict";function d(c){a(b).each(function(){var b=e(a(this)),d=b.hasClass("open");b.removeClass("open"),d&&b.trigger("dropdownClose",[c.target])})}function e(b){var d,c=b.attr("data-target");return c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}var b="[data-foundry-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")
})};c.prototype={constructor:c,toggle:function(b){var f,g,c=a(this);if(!c.is(".disabled, :disabled"))return f=e(c),g=f.hasClass("open"),d(b),g||(f.toggleClass("open"),f.trigger("dropdownOpen",[b.target]),c.focus()),!1},keydown:function(b){var c,d,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(c=a(this),b.preventDefault(),b.stopPropagation(),!c.is(".disabled, :disabled"))){if(g=e(c),h=g.hasClass("open"),!h||h&&27==b.keyCode)return c.click();d=a("[role=menu] li:not(.divider) a",g),d.length&&(i=d.index(d.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<d.length-1&&i++,~i||(i=0),d.eq(i).focus())
}}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(document).on("click.dropdown.data-api",d).on("click.dropdown",".dropdown_ form, .dropdown-static",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)}(a),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)
};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1).focus(),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")
}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()
})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null
},backdrop:function(b){var d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()
}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(document).on("click.modal.data-api",'[data-foundry-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());
b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(a),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(e="hover"==this.options.trigger?"mouseenter":"focus",f="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()
},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);
return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},show:function(){var b,c,d,e,f,g,h;if(this.hasContent()&&this.enabled){switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),g="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,c=/in/.test(g),b.detach().css({top:0,left:0,display:"block"}),this.options.container||"parent"){case"parent":b.insertAfter(this.$element);
break;case"body":b.appendTo(document.body);break;default:var i=a(this.options.container);i.length?b.appendTo(i):b.insertAfter(this.$element)}switch(d=this.getPosition(c),e=b[0].offsetWidth,f=b[0].offsetHeight,c?g.split(" ")[1]:g){case"bottom":h={top:d.top+d.height,left:d.left+d.width/2-e/2};break;case"top":h={top:d.top-f,left:d.left+d.width/2-e/2};break;case"left":h={top:d.top+d.height/2-f/2,left:d.left-e};break;case"right":h={top:d.top+d.height/2-f/2,left:d.left+d.width}}b.offset(h).addClass(g).addClass("in")
}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.detach(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")
},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)
},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);c[c.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})
},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1,container:"parent"}}(a),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content > *")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")
},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||("function"==typeof c.content?c.content.call(b[0]):c.content)},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()
})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover popover-fd"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(a),!function(a){"use strict";function b(b,c){var f,d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()
}b.prototype={constructor:b,refresh:function(){var c,b=this;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var g,a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget;
if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;
e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-foundry-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(a),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var e,f,g,b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target");d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),b.parent("li").hasClass("active")||(e=c.find(".active:last a")[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g),g.isDefaultPrevented()||(f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})
})))},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()
})},a.fn.tab.Constructor=b,a(document).on("click.tab.data-api",'[data-foundry-toggle="tab"], [data-foundry-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(a),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()
};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)
},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var e,b=[],c=[],d=[];e=a.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");
return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();
c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b
},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=!~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;
this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a(document).on("focus.typeahead.data-api",'[data-foundry-provide="typeahead"]',function(b){var c=a(this);
c.data("typeahead")||(b.preventDefault(),c.typeahead(c.data()))})}(a),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i,b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.bottom,g=e.top,h="affix affix-top affix-bottom";
"object"!=typeof e&&(f=g=e),"function"==typeof g&&(g=e.top()),"function"==typeof f&&(f=e.bottom()),i=null!=this.unpin&&c+this.unpin<=d.top?!1:null!=f&&d.top+this.$element.height()>=b-f?"bottom":null!=g&&g>=c?"top":!1,this.affixed!==i&&(this.affixed=i,this.unpin="bottom"==i?d.top-c:null,this.$element.removeClass(h).addClass("affix"+(i?"-"+i:"")))}},a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()
})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a(window).on("load",function(){a('[data-foundry-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(a),!function(a){var b=function(b,c){if(this.$element=a(b),this.$note=a('<div class="alert"></div>'),this.options=a.extend(!0,a.fn.notify.defaults,c),this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in"),this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success"),this.options.message||""===this.$element.data("message")?"object"==typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message")),this.options.closable)var d=a('<a class="close pull-right" href="javascript: void(0);">&times;</a>');
return a(d).on("click",a.proxy(onClose,this)),this.$note.prepend(d),this};onClose=function(){this.options.onClose(),a(this.$note).remove(),this.options.onClosed()},b.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",a.proxy(onClose,this)),this.$element.append(this.$note),this.$note.alert()},b.prototype.hide=function(){this.options.fadeOut.enabled?this.$note.delay(this.options.fadeOut.delay||3e3).fadeOut("slow",a.proxy(onClose,this)):onClose.call(this)
},a.fn.notify=function(a){return new b(this,a)},a.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3e3},message:null,onClose:function(){},onClosed:function(){}}}(a)}),FD31.plugin("responsive",function(a){a.responsive=function(a,b){return new d(a,b)},a.fn.responsive=function(b){if(b){var c=this,d={elementWidth:function(a){return a.outerWidth(!0)},conditions:b};a.responsive(c,d)}return this};var b=a(window),c=a.isFunction,d=function(c,d){var e=this,c=a(c),f=c.data("$responsive");
f&&f.destroy(),a.extend(e,{elem:c,options:d,conditions:a.sortBy(a.makeArray(d.conditions),function(a){return a.at}),event:"resize.responsive"+a.uid(),handler:a.debounce(function(){e.set()},250)}),delete d.conditions,c.data("$responsive",e),a(function(){b.on(e.event,e.handler),e.set()}),a(window).load(function(){e.set()})};a.extend(d.prototype,{set:function(){var b=this,d=b.options.elementWidth;b.elem.each(function(){var e=a(this),f=c(d)?d(e):d;b.removeCondition(e.data("currentCondition"),e),a.each(b.conditions,function(a,c){var d=c.at;
return d>=f?(b.applyCondition(c,e),!1):void 0})})},applyCondition:function(b,d){var e,f,g,h;(e=b.switchTo)&&d.addClass(e),(f=b.alsoSwitch)&&a.each(f,function(b,c){a(b).addClass(c)}),(g=b.switchStylesheet)&&a.each(a.makeArray(g),function(b,c){var d=a('link[href$="'+c+'"]');d.length<1&&a("<link/>").attr({rel:"stylesheet",type:"text/css",href:c}).appendTo("head")}),(h=b.whenApplied)&&c(h)&&h(),d.data("currentCondition",b).trigger("responsive",[b])},removeCondition:function(b,d){if(b){var e,f,g,h;(e=b.switchTo)&&d.removeClass(e),(f=b.alsoSwitch)&&a.each(f,function(b,c){a(b).removeClass(c)
}),(g=b.switchStylesheet)&&a.each(a.makeArray(g),function(b,c){a('link[href$="'+c+'"]').remove()}),(h=b.whenRemoved)&&c(h)&&h(),d.removeData("currentCondition")}},resetToDefault:function(b){var c=this,d=c.elem;a.each(c.conditions,function(a,e){b&&a==b||c.removeCondition(e,d)})},destroy:function(){b.off(this.event);var c=this;c.elem.each(function(){var b=a(this);c.removeCondition(b.data("currentCondition"),b)})}})}),FD31.plugin("utils",function(a){a.IE=function(){if(-1!=navigator.appVersion.indexOf("MSIE 10"))return 10;
for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");b++,c.innerHTML="<!--[if gt IE "+b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}(),a.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".","")+(b?b:"")},a.isDeferred=function(b){return b&&a.isFunction(b.always)},a.distinct=function(b){var c=a.unique;if(!(b.length<1)){if(b[0].nodeType)return c.apply(this,arguments);if("object"==typeof b[0]){var d=Math.random(),e=[];return a.each(b,function(a){b[a][d]||(e.push(b[a]),b[a][d]=!0)
}),a.each(e,function(a){delete e[a][d]}),e}return a.grep(b,function(c,d){return a.inArray(c,b)===d})}},a.trimSeparators=function(b,c,d){var e=c;return b=b.replace(new RegExp("^["+e+"\\s]+|["+e+",\\s]+$","g"),"").replace(new RegExp(e+"["+e+"\\s]*"+e,"g"),e).replace(new RegExp("[\\s]+"+e,"g"),e).replace(new RegExp(e+"[\\s]+","g"),e),d&&(b=a.distinct(b.split(e)).join(e)),b},a.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.Number={rotate:function(a,b,c,d){return void 0===d&&(d=0),a+=d,b>a?a+=c+1:a>c&&(a-=c+1),a
}},a.fn.stretchToFit=function(){return a.each(this,function(){var b=a(this);b.css("width","100%").css("width",2*b.width()-b.outerWidth(!0)-parseInt(b.css("borderLeftWidth"))-parseInt(b.css("borderRightWidth")))})},a.fn.serializeObject=function(){var b={};return a.each(a(this).serializeArray(),function(c,d){b.hasOwnProperty(d.name)?(a.isArray(b[d.name])||(b[d.name]=[b[d.name]]),b[d.name].push(d.value)):b[d.name]=d.value}),b},a.fn.serializeJSON=function(){return JSON.stringify(a(this).serializeObject())},a.toHTML=function(b){return a("<div>").html(b).html()
},a.fn.toHTML=function(){return a.toHTML(this.clone())},function(){var b=function(a){this.items=a,this.start=0,this.end=a.length-1,this.node=null,this.stopped=!1};a.extend(b.prototype,{isLooping:function(){return this.stopped?!1:Math.abs(this.start-this.end)>1?(this.node=Math.floor((this.start+this.end)/2),!0):!1},flip:function(a){a?this.end=this.node-1:this.start=this.node+1},stop:function(){this.stop=!0}}),a.Bloop=function(a){return new b(a)}}(),a.remap=function(b,c,d){return a.each(d,function(a,d){b[d]=c[d]
}),obj},a.deletes=function(b,c){a.each(c,function(a,c){delete b[c]})},function(){var b=function(a){this.threads=[],this.threadCount=0,this.threadLimit=a.threadLimit||1,this.threadDelay=a.threadDelay||0};a.extend(b.prototype,{add:function(b,c){a.isFunction(b)&&(b.type=c||"normal","deferred"==c&&(b.deferred=a.Deferred().always(a.proxy(this.next,this))),this.threads.push(b),this.run())},addDeferred:function(a){return this.add(a,"deferred")},next:function(){this.threadCount--,this.run()},run:function(){var a=this;
setTimeout(function(){if(!(a.threads.length<1)&&a.threadCount<a.threadLimit){a.threadCount++;var b=a.threads.shift();try{b.call(b,b.deferred)}catch(c){console.error(c)}!b.deferred&&a.next()}},a.threadDelay)}}),a.Threads=function(a){return new b(a)}}(),function(){var b=a.isFunction,c=function(){this.lastId=0};c.prototype.queue=function(c){var d=this,e=a.uid();return d.lastId=e,function(){if(d.lastId===e){var a=arguments,a=b(c)?c.apply(this,a):a;return b(d.fn)?d.fn.apply(this,a):a}}},a.Enqueue=function(b){var d=new c;
a.isFunction(b)&&(d.fn=b);var e=a.proxy(d.queue,d);return e.reset=function(){d.lastId=0},e}}(),function(){var b="___eventable",c=["on","off","fire"],d=function(a){return a.split(".")[0]},e=function(a){this.fnList={},this.events={},this.mode=a};a.extend(e.prototype,{createEvent:function(b){return this.events[b]=a.Callbacks(this.mode)},on:function(b,c){if(!b||!a.isFunction(c))return this;var e=this.fnList;(e[b]||(e[b]=[])).push(c);var f=d(b);return(this.events[f]||this.createEvent(f)).add(c),this},off:function(b){if(!b)return this;
var c=d(b),e=this.events[c];if(!e)return this;var f=function(b){a.each(b,function(a,b){e.remove(b)})};return c!==b?a.each(this.fnList,function(a,b){a.indexOf(c)>-1&&f(b)}):f(this.fnList[b]),this},fire:function(b){var c=this.events[b];if(c)return c.fire.apply(c,a.makeArray(arguments).slice(1)),this},destroy:function(){for(name in this.events)this.events[name].disable()}}),a.eventable=function(d,f){var g=d[b];return g&&"destroy"===f?(g.destroy(),a.deletes(d,c),delete d[b]):(g=d[b]=new e(f),d.on=a.proxy(g.on,g),d.off=a.proxy(g.off,g),d.fire=a.proxy(g.fire,g),d)
}}(),a.Chunk=function(b,c){a.isArray(b)&&(b=[]);var c=a.extend({},{size:256,every:1e3},c),d=a.extend(a.Deferred(),{size:c.size,every:c.every,from:0,to:b.length,process:function(a){return d.process.fn=a,d},chunkStart:function(a){return d.chunkStart.fn=a,d},chunkEnd:function(a){return d.chunkEnd.fn=a,d},start:function(){return d.stopped=!1,d.iterate(),d},iterate:function(){if(!d.stopped){var a=d.process.fn;if(a){d.to=from.size+d.size;var c=b.length;d.to>c&&(d.to=c);var e={from:d.from,to:d.to};for(d.chunkStart.fn&&d.chunkStart.fn.call(d,e.from,e.to);d.from<d.to&&!d.stopped;)a.call(d,b[d.from]),d.from++;
return d.chunkEnd.fn&&d.chunkEnd.fn.call(d,e.from,e.to),d.completed=d.from>=b.length-1,d.completed?d.resolveWith(d):d.nextIteration=setTimeout(d.iterate,d.every),d}}},pause:function(){return d.stopped=!0,clearTimeout(d.nextIteration),d},restart:function(){return"rejected"===d.state()?d:(d.from=0,d.start(),d)},stop:function(){return d.pause(),d.rejectWith(d,[d.from]),d}});return d},a.fn.disabled=function(a){return void 0===a?this.is(":disabled")||this.hasClass("disabled"):this.prop("disabled",!!a).toggleClass("disabled",!!a)
},a.fn.enabled=function(a){return void 0===a?!this.disabled():this.disabled(!a)},function(){var b=a.Ajax=function(c){var d=a.Deferred(),e=arguments;return a.isPlainObject(c)&&a.isFunction(c.beforeCreate)&&c.beforeCreate(d),b.queue.addDeferred(function(c){d.xhr=a.ajax.apply(null,e).pipe(d.resolve,d.reject,d.notify),setTimeout(c.resolve,b.requestInterval)}),d};b.queue=a.Threads({threadLimit:1}),b.requestInterval=1200}(),a.callback=function(b,c){if(a.isFunction(b)){var d=a.uid("cb");return window[d]=function(){return c||delete window[d],b.apply(null,arguments)
},d}if(a.isString(b))switch(b){case"destroy":var d=c;delete window[d]}},a.fn.visible=function(b){var c=a(this),d=a(window);if(!(c.length<1)){var e=d.scrollTop(),f=e+d.height(),g=c.offset().top,h=g+c.height(),i=b===!0?h:g,j=b===!0?g:h;return f>=j&&i>=e}},a.fn.selectAll=function(){return this.each(function(){this.select()})},a.fn.unselect=function(){return this.each(function(){var a=this,b=a.value;a.value+=" ",a.value=b})},a.fn.addTransitionClass=function(a,b){var c=this.addClass(a);return setTimeout(function(){c.removeClass(a)
},b||0),this},a.fn.switchClass=function(b,c){var c=c||"-",d=b.split(c)[0]+c,e=d.length;return this.each(function(){var c=a(this),f=a.map(c.attr("class").split(" "),function(a){return a.slice(0,e)==d||""==a?null:a});f.push(b),c.attr("class",f.join(" "))})},a.sanitizeHTML=function(b){return a(a.parseHTML(b,document,!0)).toHTML()},a.buildHTML=function(b,c){if(b instanceof a)return b;var b=a.trim(b),d=[],e=a.buildFragment([b],document,d),f=a.merge([],e.childNodes);if(!c&&d.length>0){var g=document.createElement("script");
g.text=a.callback(function(){a(d).remove()})+"();";for(var i,j,h=f.length-1;(i=f[h--])&&("SCRIPT"===i.nodeName?j=f.push(g):1===i.nodeType&&(j=i.appendChild(g)),!j););j||f.push(g),d.push(g)}return a(f)},a.fn.filterBy=function(a,b,c){var c=c||"=",d="[data-"+a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+c+b+"]";return this.filter(d)},a.intersects=function(b,c){return a.isArray(c)&&(c={top:c.y,left:c.x,bottom:c.y,right:c.x}),c.left<=b.right&&b.left<=c.right&&c.top<=b.bottom&&b.top<=c.bottom},a.fn.intersectsWith=function(b,c,d,e){var f=this.offset(),g={top:f.top,left:f.left,bottom:f.top+(sourceHeight=this.height()),right:f.left+(sourceWidth=this.width()),width:sourceWidth,height:sourceHeight},h={top:b,left:c,bottom:b+(e||(e=0)),right:c+(d||(d=0)),width:d,height:e};
return a.intersects(g,h)?{reference:g,subject:h}:!1},a.download=function(b){return a("<iframe>").hide().appendTo("body").bind("load",function(){a(this).remove()}).attr("src",b)}}),FD31.plugin("uri",function(a){a.isUrl=function(a){var b=/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)};var b=function(a){"use strict";var b=function(a){var c,d,e,f,g,h,b=[];if("undefined"==typeof a||null===a||""===a)return b;for(0===a.indexOf("?")&&(a=a.substring(1)),d=a.toString().split(/[&;]/),c=0;c<d.length;c++)e=d[c],f=e.split("="),g=f[0],h=-1===e.indexOf("=")?null:null===f[1]?"":f[1],b.push([g,h]);
return b},c=b(a),d=function(){var b,d,a="";for(b=0;b<c.length;b++)d=c[b],a.length>0&&(a+="&"),a+=null===d[1]?d[0]:d.join("=");return a.length>0?"?"+a:a},e=function(a){return a=decodeURIComponent(a),a=a.replace("+"," ")},f=function(a){var b,d;for(d=0;d<c.length;d++)if(b=c[d],e(a)===e(b[0]))return b[1]},g=function(a){var d,f,b=[];for(d=0;d<c.length;d++)f=c[d],e(a)===e(f[0])&&b.push(f[1]);return b},h=function(a,b){var f,g,h,i,d=[];for(f=0;f<c.length;f++)g=c[f],h=e(g[0])===e(a),i=e(g[1])===e(b),(1===arguments.length&&!h||2===arguments.length&&!h&&!i)&&d.push(g);
return c=d,this},i=function(a,b,d){return 3===arguments.length&&-1!==d?(d=Math.min(d,c.length),c.splice(d,0,[a,b])):arguments.length>0&&c.push([a,b]),this},j=function(a,b,d){var g,j,f=-1;if(3===arguments.length){for(g=0;g<c.length;g++)if(j=c[g],e(j[0])===e(a)&&decodeURIComponent(j[1])===e(d)){f=g;break}h(a,d).addParam(a,b,f)}else{for(g=0;g<c.length;g++)if(j=c[g],e(j[0])===e(a)){f=g;break}h(a),i(a,b,f)}return this};return{getParamValue:f,getParamValues:g,deleteParam:h,addParam:i,replaceParam:j,toString:d}},c=function(a){"use strict";
var d=!1,e=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,f=function(a){for(var b={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],e={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},f=b[d?"strict":"loose"].exec(a),g={},h=14;h--;)g[c[h]]=f[h]||"";
return g[e.name]={},g[c[12]].replace(e.parser,function(a,b,c){b&&(g[e.name][b]=c)}),g},g=f(a||""),h=new b(g.query),i=function(a){return"undefined"!=typeof a&&(g.protocol=a),g.protocol},j=null,k=function(a){return"undefined"!=typeof a&&(j=a),null===j?-1!==g.source.indexOf("//"):j},l=function(a){return"undefined"!=typeof a&&(g.userInfo=a),g.userInfo},m=function(a){return"undefined"!=typeof a&&(g.host=a),g.host},n=function(a){return"undefined"!=typeof a&&(g.port=a),g.port},o=function(a){return"undefined"!=typeof a&&(g.path=a),g.path
},p=function(a){return"undefined"!=typeof a&&(h=new b(a)),h},q=function(a){return"undefined"!=typeof a&&(g.anchor=a),g.anchor},r=function(a){return i(a),this},s=function(a){return k(a),this},t=function(a){return l(a),this},u=function(a){return m(a),this},v=function(a){return n(a),this},w=function(a){return o(a),this},x=function(a){return p(a),this},y=function(a){return q(a),this},z=function(a){return p().getParamValue(a)},A=function(a){return p().getParamValues(a)},B=function(a,b){return 2===arguments.length?p().deleteParam(a,b):p().deleteParam(a),this
},C=function(a,b,c){return 3===arguments.length?p().addParam(a,b,c):p().addParam(a,b),this},D=function(a,b,c){return 3===arguments.length?p().replaceParam(a,b,c):p().replaceParam(a,b),this},E=function(a){if(void 0===a)return g.path;if("/"==a.substring(0,1))return g.path=a;var b=g.path.split("/"),c=a.split("/");""===b.slice(-1)[0]&&b.pop();for(var d;d=c.shift();)switch(d){case"..":b.length>1&&b.pop();break;case".":break;default:b.push(d)}return g.path=b.join("/"),this},F=function(){var a="",b=function(a){return null!==a&&""!==a
};return b(i())?(a+=i(),i().indexOf(":")!==i().length-1&&(a+=":"),a+="//"):k()&&b(m())&&(a+="//"),b(l())&&b(m())&&(a+=l(),l().indexOf("@")!==l().length-1&&(a+="@")),b(m())&&(a+=m(),b(n())&&(a+=":"+n())),b(o())?a+=o():b(m())&&(b(p().toString())||b(q()))&&(a+="/"),b(p().toString())&&(0!==p().toString().indexOf("?")&&(a+="?"),a+=p().toString()),b(q())&&(0!==q().indexOf("#")&&(a+="#"),a+=q()),a},G=function(b){var c=a.match(e)||[];return void 0===b?c:c[b]||""},H=function(){return new c(F())};return{protocol:i,hasAuthorityPrefix:k,userInfo:l,host:m,port:n,path:o,query:p,anchor:q,setProtocol:r,setHasAuthorityPrefix:s,setUserInfo:t,setHost:u,setPort:v,setPath:w,setQuery:x,setAnchor:y,getQueryParamValue:z,getQueryParamValues:A,deleteQueryParam:B,addQueryParam:C,replaceQueryParam:D,extract:G,toPath:E,toString:F,clone:H}
};a.uri=function(a){return new c(a)}}),FD31.plugin("mvc",function($){!function(){var d,a={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},b=function(a,b,c){return void 0!==a[b]?a[b]:c&&(a[b]={})},c=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},e=$.String=$.extend($.String||{},{getObject:d=function(d,e,f){var i,j,k,g=d?d.split(a.dot):[],h=g.length,l=0;if(e=$.isArray(e)?e:[e||window],0==h)return e[0];
for(;i=e[l++];){for(k=0;h-1>k&&c(i);k++)i=b(i,g[k],f);if(c(i)&&(j=b(i,g[k],f),void 0!==j))return f===!1&&delete i[g[k]],j}},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){return a=e.classize(a),a.charAt(0).toLowerCase()+a.substr(1)},classize:function(b,c){for(var d=b.split(a.undHash),f=0;f<d.length;f++)d[f]=e.capitalize(d[f]);return d.join(c||"")},niceName:function(a){return e.classize(a," ")},underscore:function(b){return b.replace(a.colons,"/").replace(a.words,"$1_$2").replace(a.lowUp,"$1_$2").replace(a.dash,"_").toLowerCase()
},sub:function(b,c,e){var f=[];return f.push(b.replace(a.replacer,function(a,b){var g=d(a,c,"boolean"==typeof e?!e:e)||d(b,c,"boolean"==typeof e?!e:e),h=typeof g;return"object"!==h&&"function"!==h||null===h?""+g:(f.push(g),"")})),f.length<=1?f[0]:f},_regs:a})}(),function(){$.String.rsplit=function(a,b){for(var e,f,c=b.exec(a),d=[];null!==c;)e=c.index,f=b.lastIndex,0!==e&&(d.push(a.substring(0,e)),a=a.slice(e)),d.push(c[0]),a=a.slice(c[0].length),c=b.exec(a);return""!==a&&d.push(a),d}}(),function(){var a=/^\d+$/,b=/([^\[\]]+)|(\[\])/g,c=/\+/g,d=/([^?#]*)(#.*)?$/;
$.String=$.extend($.String||{},{deparam:function(e){if(!e||!d.test(e))return{};for(var h,f={},g=e.split("&"),i=0;i<g.length;i++){h=f;var j=g[i].split("=");2!=j.length&&(j=[j[0],j.slice(1).join("=")]);for(var k=decodeURIComponent(j[0].replace(c," ")),l=decodeURIComponent(j[1].replace(c," ")),m=k.match(b),n=0;n<m.length-1;n++){var o=m[n];h[o]||(h[o]=a.test(m[n+1])||"[]"==m[n+1]?[]:{}),h=h[o]}lastPart=m[m.length-1],"[]"==lastPart?h.push(l):h[lastPart]=l}return f}})}(),function(){var a=$.cleanData;$.cleanData=function(b){for(var d,c=0;void 0!==(d=b[c]);c++)$(d).triggerHandler("destroyed");
a(b)}}(),function(){var a=$.fn.closest;$.fn.closest=function(b,c){var e,f,h,j,j,d={},k=!0,l=b;if("string"==typeof b&&(l=[b]),$.each(l,function(a,c){if(0==c.indexOf(">")){if(-1!=c.indexOf(" "))throw" closest does not work with > followed by spaces!";d[l[a]=c.substr(1)]=c,"string"==typeof b&&(b=c.substr(1)),k=!1}}),e=a.call(this,b,c),k)return e;for(h=0;h<e.length;)f=e[h],j=f.selector,void 0===d[j]||(f.selector=d[j],d[j]=!1,"string"==typeof f.selector&&f.elem.parentNode===c)?h++:e.splice(h,1);return e}}(),function(){$.cookie=function(a,b,c){if("undefined"==typeof b){var i=null;
if(document.cookie&&""!=document.cookie)for(var j=document.cookie.split(";"),k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}if(jQuery.evalJSON&&i&&i.match(/^\s*\{/))try{i=jQuery.evalJSON(i)}catch(m){}return i}c=c||{},null===b&&(b="",c.expires=-1),"object"==typeof b&&jQuery.toJSON&&(b=jQuery.toJSON(b));var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()
}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")}}(),function(){var a=!1,b=$.makeArray,c=$.isFunction,d=$.isArray,e=$.extend,f=$.String.getObject,g=function(a,c){return a.concat(b(c))},h=/xyz/.test(function(){})?/\b_super\b/:/.*/,i=function(a,b,d){d=d||a;for(var e in a)d[e]=c(a[e])&&c(b[e])&&h.test(a[e])?function(a,c){return function(){var e,d=this._super;return this._super=b[a],e=c.apply(this,arguments),this._super=d,e
}}(e,a[e]):a[e]},j="prototype";clss=$.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)},e(clss,{proxy:function(a){var e,c=b(arguments);return a=c.shift(),d(a)||(a=[a]),e=this,function(){for(var f,j,b=g(c,arguments),h=a.length,i=0;h>i;i++)j=a[i],j&&(f="string"==typeof j,f&&e._set_called&&(e.called=j),b=(f?e[j]:j).apply(e,b||[]),h-1>i&&(b=!d(b)||b._use_call?[b]:b));return b}},newInstance:function(){var b,a=this.rawInstance();return a.setup&&(b=a.setup.apply(a,arguments)),a.init&&a.init.apply(a,d(b)?b:arguments),a
},setup:function(a){return this.defaults=e(!0,{},a.defaults,this.defaults),arguments},rawInstance:function(){a=!0;var b=new this;return a=!1,b},extend:function(b,c,d){function p(){return a?void 0:this.constructor!==p&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof b&&(d=c,c=b,b=null),d||(d=c,c=null),d=d||{};var l,m,n,o,h=this,k=this[j];a=!0,o=new this,a=!1,i(d,k,o);for(l in this)this.hasOwnProperty(l)&&(p[l]=this[l]);
if(i(c,this,p),b){var q;c&&c.root&&(q=c.root,$.isString(q)&&(q=f(q,window,!0)));var r=b.split(/\./),m=r.pop(),s=f(r.join("."),q||window,!0),n=s;e(!0,p,s[m]),s[m]=p}e(p,{prototype:o,namespace:n,shortName:m,constructor:p,fullName:b}),p[j].Class=p[j].constructor=p;var t=p.setup.apply(p,g([h],arguments));return p.init&&p.init.apply(p,t||g([h],arguments)),p}}),clss.callback=clss[j].callback=clss[j].proxy=clss.proxy}(),function(){var w,a=function(a,b,c){var e,f=a.bind&&a.unbind?a:$(d(a)?[a]:a);return 0===b.indexOf(">")&&(b=b.substr(1),e=function(b){b.target===a&&c.apply(this,arguments)
}),f.bind(b,e||c),function(){f.unbind(b,e||c),a=b=c=e=null}},b=$.makeArray,c=$.isArray,d=$.isFunction,e=$.isString,f=$.extend,g=$.String,h=$.each,i=g.getObject,j="prototype",k="constructor",l=Array[j].slice,m=function(a,b,c,e){0===b.indexOf(">")&&(b=(a.data("directSelector")+" "||"")+b);var f=a.delegate&&a.undelegate?a:$(d(a)?[a]:a);return f.delegate(b,c,e),function(){f.undelegate(b,c,e),f=a=c=e=b=null}},n=function(b,c,d,e){return e?m(b,e,c,d):a(b,c,d)},o=function(a,b){var c="string"==typeof b?a[b]:b;return function(){return a.called=b,c.apply(a,[this.nodeName?$(this):this].concat(l.call(arguments,0)))
}},p=/\./g,q=/_?controllers?/gi,r=function(a){return g.underscore(a.replace($.globalNamespace+".","").replace(p,"_").replace(q,""))},s=/^\S(.*)\s(.*)/,t=/\{([^\}]+)\}/g,u=/\{([^\.]+[\.][^\.]+)\}/g,v=/^(?:(.*?)\s)?([\w\.\:>]+)$/,x=function(a,b){return $.data(a,"controllers",b)},y=$.globalNamespace+".Controller";$.Controller=function(a){var e,c=b(arguments),d={root:y};return c.length>2?(d=$.extend(d,c[1]),e=c[2]):e=c[1],d.namespace&&(a=d.namespace+"."+a),$.Controller.Class(a,d,e)};var z=y+".Class";$.Class(z,{setup:function(){if(this._super.apply(this,arguments),this.shortName&&this.fullName!=z){this._fullName=r(this.fullName),this._shortName=r(this.shortName);
var g,f=this;if(e(this.pluginName)){var i=this._fullName,k=this.pluginName;$.fn[k]||($.fn[k]=function(a){var c=b(arguments);if($.isString(a)&&"controller"===a){var d=x(this[0]),e=d&&d[i];return e}return this.each(function(){var b=x(this),d=b&&b[i];if(d){if($.isString(a)){var e=d[a];return $.isFunction(e)&&e.apply(d,c.slice(1)),void 0}d.update.apply(d,c)}else f.newInstance.apply(f,[this].concat(c))})})}var l=b(arguments),m=this[j],n=l[l.length>3?3:2];d(n)&&(this.protoFactory=n,m=this.protoFactory.call(this,null)),this.actions={};
for(g in m)"constructor"!=g&&d(m[g])&&this._isAction(g)&&(this.actions[g]=this._action(g));$.module("$:/Controllers/"+this.fullName).resolve(this)}},hookup:function(a){return new this(a)},_isAction:function(a){return s.test(a)?!0:$.inArray(a,this.listensTo)>-1||$.event.special[a]||A[a]},_action:function(a,b){if(t.lastIndex=0,!b&&t.test(a))return null;a=a.replace("{self} ","");var d=a;if(b){var e=!1;if(u.test(a)){var f,h="";d=a.replace(u,function(a,c){var d=c.split(".");return f=b["{"+d[0]+"}"]||{},$.isControllerInstance(f)&&(h=(f[d[1]]||{}).selector),h
}).match(v),e=!!h,d=[f.element].concat(d||[])}e||(d=g.sub(a,[b,window]))}var i=c(d),j=(i?d[1]:d).match(v),k=j[2],l=A[k]||w;return{processor:l,parts:j,delegate:i?d[0]:void 0}},processors:{},listensTo:[],defaults:{},hostname:"parent"},{setup:function(a,c){var d=this,g=d[k],i=d[j],l=g._fullName;d.instanceId=$.uid(l+"_");var m=d.options=f(!0,{},g.defaults,g.defaultOptions,c),n=d.element=$(a);if(g.protoFactory&&(i=g.protoFactory.apply(g,[d,m,n]),f(!0,d,i)),(x(a)||x(a,{}))[l]=d,!n.data("directSelector")){var o=$.uid("DS");
n.addClass(o).data("directSelector","."+o)}for(name in m)if(name.match(/^\{.+\}$/)){var p=name.replace(/^\{|\}$/g,""),q=m[name];d[p]=e(q)?function(a,b,c){b=/^(\.|\#)$/.test(b)?b+c:b;var d=function(c){var d=a.element.find(b);return c&&(d=d.filter(c)),d};return d.selector=b,d.css=function(){var a=d.cssRule;if(!a){var c=n.data("directSelector"),e=$.map(b.split(","),function(a){return c+" "+a});a=d.cssRule=$.cssRule(e),a.important=!0}return arguments.length?a.css.apply(a,arguments):a},d}(d,q,p):q}var r=m.view,s=d.view;
d.view=function(){return s.apply(this,arguments)},h(r||{},function(a){d.view[a]=function(c){var e=b(arguments);return $.isBoolean(c)?e=e.slice(1):c=!1,d.view.apply(d,[c,a].concat(e))}}),$.extend(d,m.controller),d.pluginInstances={},d.called="init",d._bind();var t=d.init||$.noop;return d.init=function(){return d.init=t,result=t.apply(d,arguments),d.trigger("init."+g.fullName.toLowerCase(),[d]),result},[n,m].concat(b(arguments).slice(2))},on:function(a){var c=b(arguments),d=this.element,f=c.length;return 2==f?this._binder(d,a,c[1]):3==f&&e(c[1])?this._binder(d,a,c[2],c[1]):this._binder(c[1],a,c[2])
},_bind:function(){var a=this,b=a[k],c=b.actions,d=a._bindings=[],e=a.element;h(c||{},function(f){if(c.hasOwnProperty(f)){var h=b.actions[f]||b._action(f,a.options);$.isControllerInstance(h.delegate)&&(h.delegate=h.delegate.element),d.push(h.processor(h.delegate||e,h.parts[2],h.parts[1],f,a))}});var f=o(this,"destroy");return e.bind("destroyed",f),d.push(function(a){$(a).unbind("destroyed",f)}),d.length},_binder:function(a,b,c,d){return"string"==typeof c&&(c=o(this,c)),this._bindings.push(n(a,b,c,d)),this._bindings.length
},_unbind:function(){var a=this.element[0];h(this._bindings,function(b,c){c(a)}),this._bindings=[]},trigger:function(a){var b=this.element;if(b){var c=$.Event(a);return b.trigger.apply(b,[c].concat($.makeArray(arguments).slice(1))),c}},delegate:function(a,b,c,d){return"string"==typeof a&&(d=c,c=b,b=a,a=this.element),this._binder(a,c,d,b)},update:function(a){f(this.options,a),this._unbind(),this._bind()},destroy:function(){if(!this._destroyed){var a=this[k]._fullName;for(pname in this.pluginInstances)this.removePlugin(pname);
this._destroyed=!0,this.element.removeClass(a),this._unbind(),delete this._actions,delete this.element.data("controllers")[a],$(this).triggerHandler("destroyed"),this.element=$()}},find:function(a){return this.element.find(a)},view:function(){var c,a=b(arguments),d=a,e=!1,f=this[k].component||$,g="",h=this.options.view||{};return"boolean"==typeof a[0]&&(e=a[0],d=a.slice(1)),c=d[0]=h[d[0]],void 0==c?e?"":$(""):(g=f.View.apply(f,d),e?g:$($.parseHTML($.trim(g))))},getPlugin:function(a){return this.pluginInstances[a]
},addSubscriber:function(a){var b=$.isArray(a)?a:[a||{}],c=this,d=this.Class.hostname,e={};return e["{"+d+"}"]=c,$.map(b,function(a){return $.isControllerInstance(a)?a.options[d]===this?a:(a[d]=c,a.update(e)):!1}),b},addPlugin:function(a,b,c){if(a){(!b&&!c||$.isPlainObject(b))&&(c=b,b=[this.Class.root,this.Class.fullName,$.String.capitalize(a)].join(".")),$.isString(b)&&(b=$.getController(b));var e=$.isControllerInstance(b);if(d(b)||e){c=$.extend(!0,{element:this.element},c,(this.options.plugin||{})[a]||{});
var f=e?"instance":$.isController(b)?"controller":"function";this.trigger("addPlugin",[a,b,c,f]);var g=this.Class.hostname;c["{"+g+"}"]=this;var h;switch(f){case"instance":h=b,b.update(c),b[g]=this;break;case"controller":h=c.element.addController(b,c);break;case"function":h=b(this,c)}if(h){if(this.pluginInstances[a]=h,"function"!==f){var i={};i["{"+a+"}"]=h,this.update(i)}return this.trigger("registerPlugin",[a,h,c,f]),h}}}},removePlugin:function(a){var b=this.getPlugin(a);if(b)return this.trigger("removePlugin",[a,b]),delete this.pluginInstances[a],$.isFunction(b.destroy)?b.destroy():null
},invokePlugin:function(a,b,c){var d=this.getPlugin(a);if(d&&$.isFunction(d[b]))return this.trigger("invokePlugin",[a,d,c]),d[b].apply(this,c)},getMessageGroup:function(){var a=$.isFunction(this.messageGroup)?this.messageGroup():this.element.find("[data-message-group]");return a.length<1&&(a=$("<div data-message-group></div>").prependTo(this.element)),a},setMessage:function(a,b){var c={type:"warning",message:"",parent:this.getMessageGroup(),element:$('<div class="alert fade in"><button type="button" class="close" data-foundry-dismiss="alert">\xd7</button></div>')},d={},e=$.isDeferred(a);
d=$.isPlainObject(a)&&!e?a:{message:a,type:b||"warning"};var f=$.extend({},c,d),g=f.element;if($.isDeferred(a)){var h=arguments.callee,i=this;a.done(function(a,b){f.message=a,f.type=b||"warning",h.call(i,f),g.show()})}else g.addClass("alert-"+f.type).append(f.message),$("html").has(g).length<1&&g.appendTo(f.parent);return g},clearMessage:function(){this.getMessageGroup().empty()},_set_called:!0});var A=$.Controller.Class.processors,w=function(a,b,c,d,e){return n(a,b,o(e,d),c)};h("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(a,b){A[b]=w
});var B=function(a){return a.replace("$.Controller",y)},C=function(a){return e(a)&&(a=B(a),a=i(a)||i(y+"."+a)),D(a)?a:void 0},D=function(a){return d(a)&&a.hasOwnProperty("_fullName")},E=function(a){return $.map(a,function(a){return c(a)?E(a):C(a)})};$.getController=C,$.isController=function(a){return!!C(a)},$.isControllerInstance=function(a){return a&&a[k]&&D(a[k])},$.isControllerOf=function(a,b){if(!b)return!1;c(b)||(b=[b]);for(var d=0;d<b.length;d++){var e=C(b[d]);if(a instanceof e)return!0}return!1},$.fn.extend({controllers:function(){var a=E(b(arguments)),c=[];
return this.each(function(){var b=$.data(this,"controllers");h(b||{},function(d,e){b.hasOwnProperty(d)&&(!a.length||$.isControllerOf(e,a))&&c.push(e)})}),c},controller:function(a,b){return void 0===b?this.controllers(a)[0]:(this.addController.apply(this,arguments),this)},hasController:function(a){var b=(C(a)||{})._fullName||(e(a)?r(B(a)):"");return b?($(this).data("controllers")||{}).hasOwnProperty(b):!1},addController:function(a,b,c){var e=C(a);if(e){var f=[];return this.each(function(){if(1===this.nodeType&&"SCRIPT"!=this.nodeName){var g=$(this).controller(a);
if(g)return f.push(g),void 0;var h=new e(this,b);d(c)&&c.apply(h,[$(this),h]),f.push(h)}}),f.length>1?f:f[0]}},removeController:function(a){return this.each(function(){for(var b=$(this).controllers(a);b.length;)b.shift().destroy()}),this},addControllerWhenAvailable:function(a){var b=this,c=arguments,d=$.Deferred();return $.isController(a)&&(a=a.fullName),e(a)?($.module("$:/Controllers/"+a).pipe(function(){var a=b.addController.apply(b,c);d.resolveWith(a,[b,a])},d.reject,d.fail),d):d.reject()},implement:function(){return this.addController.apply(this,arguments),this
}})}(),function(){var a=function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},b=$.makeArray,c=1,d=$.View=function(a,c,d,e){"function"==typeof d&&(e=d,d=void 0);var j=h(c);if(j.length){var k=$.Deferred();return j.push(f(a,!0)),$.when.apply($,j).then(function(a){var j,f=b(arguments),h=f.pop()[0];if(g(c))c=i(a);else for(var l in c)g(c[l])&&(c[l]=i(f.shift()));j=h(c,d),k.resolve(j),e&&e(j)}),k.promise()}var l,m="function"==typeof e,k=f(a,m);return m?(l=k,k.done(function(a){e(a(c,d))})):k.done(function(a){l=a(c,d)
}),l},e=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b},f=function(a,b){return $.ajax({url:a,dataType:"view",async:b})},g=function(a){return a&&$.isFunction(a.always)},h=function(a){var b=[];if(g(a))return[a];for(var c in a)g(a[c])&&b.push(a[c]);return b},i=function(a){return $.isArray(a)&&3===a.length&&"success"===a[1]?a[0]:a};$.ajaxTransport("view",function(b,c){var h,i,j,k,f=c.url,g=f.match(/\.[\w\d]+$/),l=function(a){var b=h.renderer(j,a);return d.cache&&(d.cached[j]=b),{view:b}
};if((i=document.getElementById(f))&&(g="."+i.type.match(/\/(x\-)?(.+)/)[2]),g||(g=d.ext,f+=d.ext),j=a(f),f.match(/^\/\//)){var m=f.substr(2);f="undefined"==typeof steal?f="/"+m:steal.root.mapJoin(m)+""}h=d.types[g];var n=$.template()[c.url];return{send:function(a,b){return n?(h=d.types["."+n.type],b(200,"success",l(n.content))):d.cached[j]?b(200,"success",{view:d.cached[j]}):(i?b(200,"success",l(i.innerHTML)):k=$.ajax({async:c.async,url:f,dataType:"text",error:function(){e("",f),b(404)},success:function(a){e(a,f),b(200,"success",l(a))
}}),void 0)},abort:function(){k&&k.abort()}}}),$.extend(d,{hookups:{},hookup:function(a){var b=++c;return d.hookups[b]=a,b},cached:{},cache:!0,register:function(b){this.types["."+b.suffix]=b,window.steal&&steal.type(b.suffix+" view js",function(b,c){var f=d.types["."+b.type],g=a(b.rootSrc+"");b.text=f.script(g,b.text),c()})},types:{},ext:".ejs",registerScript:function(a,b,c){return"$.View.preload('"+b+"',"+d.types["."+a].script(b,c)+");"},preload:function(a,b){d.cached[a]=function(a,c){return b.call(a,a,c)}}}),window.steal&&steal.type("view js",function(b,c){var f=d.types["."+b.type],g=a(b.rootSrc+"");
b.text="steal('"+(f.plugin||"jquery/view/"+b.type)+"').then(function($){$.View.preload('"+g+"',"+b.text+");\n})",c()});var j,k,l,m,n,o,p,r={val:!0,text:!0};j=function(a){var c=$.fn[a];$.fn[a]=function(){var f,h,j,e=b(arguments),i=this;if(g(e[0]))return e[0].done(function(a){k.call(i,[a],c)}),this;if(l(e)){if(f=o(e))return h=e[f],e[f]=function(a){k.call(i,[a],c),h.call(i,a)},d.apply(d,e),this;if(j=d.apply(d,e),g(j))return j.done(function(a){k.call(i,[a],c)}),this;e=[j]}return r[a]?c.apply(this,e):k.call(this,e,c)
}},k=function(a,b){var c,f;for(var g in d.hookups)break;return g&&a[0]&&m(a[0])&&(f=d.hookups,d.hookups={},a[0]=$(a[0])),c=b.apply(this,a),f&&p(a[0],f),c},l=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!n(a[1])},n=function(a){return a.nodeType||a.jquery},m=function(a){return n(a)?!0:"string"==typeof a?(a=$.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&a.length>=3):!1},o=function(a){return"function"==typeof a[3]?3:"function"==typeof a[2]&&2},p=function(a,b){var c,e,g,h,f=0;
for(a=a.filter(function(){return 3!=this.nodeType}),c=a.add("[data-view-id]",a),e=c.length;e>f;f++)c[f].getAttribute&&(g=c[f].getAttribute("data-view-id"))&&(h=b[g])&&(h(c[f],g),delete b[g],c[f].removeAttribute("data-view-id"));$.extend(d.hookups,b)},$.fn.hookup=function(){var a=d.hookups;return d.hookups={},p(this,a),this},$.each(["prepend","append","after","before","text","html","replaceWith","val"],function(a,b){j(b)})}(),function(){var myEval=function(script){eval(script)},rSplit=$.String.rsplit,extend=$.extend,isArray=$.isArray,returnReg=/\r\n/g,retReg=/\r/g,newReg=/\n/g,nReg=/\n/,slashReg=/\\/g,quoteReg=/"/g,singleQuoteReg=/'/g,tabReg=/\t/g,leftBracket=/\{/g,rightBracket=/\}/g,quickFunc=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,clean=function(a){return a.replace(slashReg,"\\\\").replace(newReg,"\\n").replace(quoteReg,'\\"').replace(tabReg,"\\t")
},escapeHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(quoteReg,"&#34;").replace(singleQuoteReg,"&#39;")},$View=$.View,bracketNum=function(a){var b=a.match(leftBracket),c=a.match(rightBracket);return(b?b.length:0)-(c?c.length:0)},EJS=function(a){if(this.constructor!=EJS){var b=new EJS(a);return function(a,c){return b.render(a,c)}}return"function"==typeof a?(this.template={fn:a},void 0):(extend(this,EJS.options,a),this.template=compile(this.text,this.type,this.name),void 0)
};$&&($.EJS=EJS),EJS.prototype.render=function(a,b){a=a||{},this._extra_helpers=b;var c=new EJS.Helpers(a,b||{});return this.template.fn.call(a,a,c)},extend(EJS,{text:function(a){if("string"==typeof a)return a;if(null===a||void 0===a)return"";var b=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==typeof a&&a||isArray(a)&&function(b,c){for(var d=0;d<a.length;d++)a[d].hookup?a[d].hookup(b,c):a[d](b,c)};return b?"data-view-id='"+$View.hookup(b)+"'":a.toString?a.toString():""},clean:function(a){return"string"==typeof a?escapeHTML(a):"number"==typeof a?a:EJS.text(a)
},options:{type:"[",ext:".ejs"}});var scan=function(a,b,c){for(var d=rSplit(b,nReg),e=0;e<d.length;e++)scanline(a,d[e],c)},scanline=function(a,b,c){a.lines++;for(var e,d=rSplit(b,a.splitter),f=0;f<d.length;f++)e=d[f],null!==e&&c(e,a)},makeScanner=function(a,b){var c={};return extend(c,{left:a+"%",right:"%"+b,dLeft:a+"%%",dRight:"%%"+b,eeLeft:a+"%==",eLeft:a+"%=",cmnt:a+"%#",cleanLeft:a+"%~",scan:scan,lines:0}),c.splitter=new RegExp("("+[c.dLeft,c.dRight,c.eeLeft,c.eLeft,c.cmnt,c.left,c.right+"\n",c.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")"),c
},compile=function(a,b){a=a.replace(returnReg,"\n").replace(retReg,"\n"),b=b||"[";var d="___v1ew.push(",e=d,f="var ___v1ew = [];",g="return ___v1ew.join('')",h=new EJS.Buffer([f],[]),i="",j=function(a){h.push(d,'"',clean(a),'");')},k=null,l=function(){i=""},m="));",n=[];scan(makeScanner(b,"["===b?"]":">"),a||"",function(a,b){var c;if(null===k)switch(a){case"\n":i+="\n",j(i),h.cr(),l();break;case b.left:case b.eLeft:case b.eeLeft:case b.cmnt:k=a,i.length>0&&j(i),l();break;case b.dLeft:i+=b.left;break;default:i+=a
}else switch(a){case b.right:switch(k){case b.left:c=bracketNum(i);var d=n.length&&-1==c?n.pop():";";d===m&&h.push(g),h.push(i,d),1===c&&n.push(";");break;case b.eLeft:if(c=bracketNum(i),c&&n.push(m),quickFunc.test(i)){var o=i.match(quickFunc);i="function(__){var "+o[1]+"=$(__);"+o[2]+"}"}h.push(e,$.globalNamespace+".EJS.clean(",i,c?f:m);break;case b.eeLeft:c=bracketNum(i),c&&n.push(m),h.push(e,$.globalNamespace+".EJS.text(",i,c?f:m)}k=null,l();break;case b.dRight:i+=b.right;break;default:i+=a}}),i.length>0&&h.push(d,'"',clean(i)+'");');
var o=h.close(),p={out:"try { with(_VIEW) { with (_CONTEXT) {"+o+" "+g+"}}}catch(e){e.lineNumber=null;throw e;}"};return myEval.call(p,"this.fn = (function(_CONTEXT,_VIEW){ var $ = "+$.globalNamespace+";"+p.out+"});"),p};EJS.Buffer=function(a,b){this.line=[],this.script=[],this.post=b,this.push.apply(this,a)},EJS.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n"),this.line=[]},close:function(){return this.line.length>0&&(this.script.push(this.line.join("")),this.line=[]),this.post.length&&this.push.apply(this,this.post),this.script.push(";"),this.script.join("")
}},EJS.Helpers=function(a,b){this._data=a,this._extras=b,extend(this,b)},EJS.Helpers.prototype={plugin:function(){var b=$.makeArray(arguments),c=b.shift();return function(a){var d=$(a);d[c].apply(d,b)}},view:function(a,b,c){return c=c||this._extras,b=b||this._data,$View(a,b,c)}},$View.register({suffix:"ejs",script:function(a,b){return $.globalNamespace+".EJS(function(_CONTEXT,_VIEW) { "+new EJS({text:b,name:a}).template.out+" })"},renderer:function(a,b){return EJS({text:b,name:a})}})}(),function(){var a=$.isArray,b=function(a){return"object"==typeof a&&null!==a&&a
},c=$.makeArray,d=$.each,e=function(b,c,d){return b instanceof $.Observe?f([b],d._namespace):b=a(b)?new $.Observe.List(b):new $.Observe(b),b.bind("change"+d._namespace,function(a){var f=$.makeArray(arguments),a=f.shift();f[0]="*"===c?d.indexOf(b)+"."+f[0]:c+"."+f[0],$.event.trigger(a,f,d)}),b},f=function(a,b){for(var c,d=0;d<a.length;d++)c=a[d],c&&c.unbind&&c.unbind("change"+b)},g=0,h=null,i=function(){return h?void 0:(h=[],!0)},j=function(a,b,c){return a._init?void 0:h?(h.push({t:a,ev:b,args:c}),void 0):$.event.trigger(b,c,a,!0)
},k=0,l=function(){var c,a=h.length,b=h.slice(0);h=null,k++;for(var d=0;a>d;d++)c=b[d],$.event.trigger({type:c.ev,batchNum:k},c.args,c.t)},m=function(a,c,d){return a.each(function(a,e){d[a]=b(e)&&"function"==typeof e[c]?e[c]():e}),d};$.Class($.globalNamespace+".Observe",{init:function(a){this._data={},this._namespace=".observe"+ ++g,this._init=!0,this.attrs(a),delete this._init},attr:function(a,b){return void 0===b?this._get(a):(this._set(a,b),this)},each:function(){return d.apply(null,[this.__get()].concat(c(arguments)))
},removeAttr:function(b){var c=a(b)?b:b.split("."),d=c.shift(),e=this._data[d];return c.length?e.removeAttr(c):(delete this._data[d],j(this,"change",[d,"remove",void 0,e]),e)},_get:function(b){var c=a(b)?b:(""+b).split("."),d=this.__get(c.shift());return c.length?d?d._get(c):void 0:d},__get:function(a){return a?this._data[a]:this._data},_set:function(c,d){var g=a(c)?c:(""+c).split("."),h=g.shift(),i=this.__get(h);if(b(i)&&g.length)i._set(g,d);else{if(g.length)throw"jQuery.Observe: set a property on an object that does not exist";
if(d!==i){var k=this.__get().hasOwnProperty(h)?"set":"add";this.__set(h,b(d)?e(d,h,this):d),j(this,"change",[h,k,d,i]),i&&f([i],this._namespace)}}},__set:function(a,b){this._data[a]=b,a in this.constructor.prototype||(this[a]=b)},bind:function(){return $.fn.bind.apply($([this]),arguments),this},unbind:function(){return $.fn.unbind.apply($([this]),arguments),this},serialize:function(){return m(this,"serialize",{})},attrs:function(a,c){if(void 0===a)return m(this,"attrs",{});a=$.extend(!0,{},a);var d,e=i();for(d in this._data){var f=this._data[d],g=a[d];
void 0!==g?(b(f)&&b(g)?f.attrs(g,c):f!=g&&this._set(d,g),delete a[d]):c&&this.removeAttr(d)}for(var d in a)g=a[d],this._set(d,g);e&&l()}});var n=$.Observe($.globalNamespace+".Observe.List",{init:function(a,b){this.length=0,this._namespace=".list"+ ++g,this._init=!0,this.bind("change",this.proxy("_changes")),this.push.apply(this,c(a||[])),$.extend(this,b),this.comparator&&this.sort(),delete this._init},_changes:function(a,b,c,d,e){if(this.comparator&&/^\d+./.test(b)){var f=+/^\d+/.exec(b)[0],g=this[f],h=this.sortedIndex(g);
if(h!==f)return[].splice.call(this,f,1),[].splice.call(this,h,0,g),j(this,"move",[g,h,f]),a.stopImmediatePropagation(),j(this,"change",[b.replace(/^\d+/,h),c,d,e]),void 0}-1===b.indexOf(".")&&("add"===c?j(this,c,[d,+b]):"remove"===c&&j(this,c,[e,+b]))},sortedIndex:function(a){for(var d,b=a.attr(this.comparator),c=0,d=0;d<this.length;d++)if(a!==this[d]){if(b<=this[d].attr(this.comparator))return d+c}else c=-1;return d+c},__get:function(a){return a?this[a]:this},__set:function(a,b){this[a]=b},serialize:function(){return m(this,"serialize",[])
},splice:function(a,d){var h,g=c(arguments);for(h=2;h<g.length;h++){var i=g[h];b(i)&&(g[h]=e(i,"*",this))}void 0===d&&(d=g[1]=this.length-a);var k=[].splice.apply(this,g);return d>0&&(j(this,"change",[""+a,"remove",void 0,k]),f(k,this._namespace)),g.length>2&&j(this,"change",[""+a,"add",g.slice(2),k]),k},attrs:function(a,c){if(void 0===a)return m(this,"attrs",[]);a=a.slice(0);for(var d=Math.min(a.length,this.length),e=i(),f=0;d>f;f++){var g=this[f],h=a[f];b(g)&&b(h)?g.attrs(h,c):g!=h&&this._set(f,h)}a.length>this.length?this.push(a.slice(this.length)):a.length<this.length&&c&&this.splice(a.length),e&&l()
},sort:function(a,b){{var c=this.comparator,d=c?[function(a,b){return a=a[c],b=b[c],a===b?0:b>a?-1:1}]:[];[].sort.apply(this,d)}!b&&j(this,"reset")}}),o=function(a){return a[0]&&$.isArray(a[0])?a[0]:c(a)};d({push:"length",unshift:0},function(a,c){n.prototype[a]=function(){for(var d=o(arguments),f=c?this.length:0,g=0;g<d.length;g++){var h=d[g];b(h)&&(d[g]=e(h,"*",this))}if(1==d.length&&this.comparator){var i=this.sortedIndex(d[0]);return this.splice(i,0,d[0]),this.length}var k=[][a].apply(this,d);return this.comparator&&d.length>1?(this.sort(null,!0),j(this,"reset",[d])):j(this,"change",[""+f,"add",d,void 0]),k
}}),d({pop:"length",shift:0},function(a,b){n.prototype[a]=function(){var c=o(arguments),d=b&&this.length?this.length-1:0,e=[][a].apply(this,c);return j(this,"change",[""+d,"remove",void 0,[e]]),e&&e.unbind&&e.unbind("change"+this._namespace),e}}),n.prototype.indexOf=[].indexOf||function(a){return $.inArray(a,this)},$.O=function(b,c){return a(b)||b instanceof $.Observe.List?new $.Observe.List(b,c):new $.Observe(b,c)}}()}),FD31.plugin("joomla",function(a){var b={squeezebox:function(){return c.isJoomla15?window.parent.document.getElementById("sbox-window"):window.parent.SqueezeBox
}},c=a.Joomla=function(d,e){if(a.isFunction(e)){var f=e;return c.isJoomla15?window[d]=f:window.Joomla[d]=f,void 0}var d=b[d]||(c.isJoomla15?window[d]:window.Joomla[d]);return a.isFunction(d)?d.apply(window,e):void 0},d=parseFloat(a.joomla.version);c.isJoomla15=1.5>=d,c.isJoomla25=d>=1.6&&2.5>=d,c.isJoomla30=d>=3}),FD31.plugin("module",function(a){var b=function(b){var c=this,d=a.Callbacks("once memory");a.extend(this,a.Deferred(),{name:b,status:"pending",ready:function(b){b===!0&&d.fire.call(c,a),a.isFunction(b)&&d.add(b)
}}),c.then(function(){c.exports=this,c.status="resolved"},function(){c.status="rejected"});var e=c.done;c.done=function(){c.required=!0;var b=c.factory;return b&&"ready"===c.status&&b.call(c,a),c.done=e,c.done.apply(this,arguments)}};a.module=function(){var c=function(b,d){var e;if("string"==typeof b){if(e=c.get(b),void 0===d)return e;if(a.isFunction(d))return"resolved"==e.status?e:(e.factory=d,e.status="ready",e.ready("true"),e.required&&(e.status="executing",d.call(e,a)),e)}if(a.isArray(b)){var f=a.map(b,function(b){var d=c.get(a.isString(b)?b:b.name);
if(d)return"pending"===d.status&&(d.status="ready"),a.isPlainObject(b)?b:void 0});a.each(f,function(a,b){c(b.name,b.factory)})}};return a.extend(c,{registry:{},get:function(b){return b?(a.isModule(b)&&(b=b.replace("module://","")),c.registry[b]||c.create(b)):void 0},create:function(a){return c.registry[a]=new b(a)},remove:function(a){delete c.registry[a]}}),c}(),a.isModule=function(c){return a.isString(c)?!!c.match("module://"):c&&c instanceof b}}),FD31.plugin("script",function(a){a.script=function(){{var b=function(a){if(void 0!==a){"string"==typeof a&&(a={url:a});
var b=new c(a);return b}},c=function(b){var c=a.extend(this,b);c.manager=a.Deferred(),a.extend(c,c.manager.promise()),c.load()},d=document.getElementsByTagName("head")[0];document.getElementsByTagName("base")[0]}return a.extend(c.prototype,{timeout:7e3,retry:3,retryCount:1,type:"text/javascript",async:!1,charset:"UTF-8",verbose:!1,insert:function(){var a=this.node;d.appendChild(a)},remove:function(){var a=this.node;setTimeout(function(){a.onload=a.onerror=a.onreadystatechange=null;try{d.removeChild(a)}catch(b){}},1e3)
},load:function(){var c,b=this;b.endTime=void 0,b.startTime=new Date,b.node=c=document.createElement("script"),b.insert(),b._ready=a.proxy(b.ready,b),b._error=a.proxy(b.error,b),c.attachEvent&&!a.browser.opera?(c.attachEvent("onreadystatechange",b._ready),c.attachEvent("onerror",b._error)):(c.addEventListener("load",b._ready,!1),c.addEventListener("error",b._error,!1)),a(c).attr({type:b.type,async:b.async,charset:b.charset,src:b.url}),b.monitor()},monitor:function(){var a=this;return a.retryCount>a.retry?(a._error(),void 0):(setTimeout(function(){"resolved"!==a.state()&&(a.verbose&&console.warn("$.script: Load timeout. [Retry: "+a.retryCount+"]",a),a.remove(),a.retryCount++,a.load())
},a.timeout*a.retryCount),void 0)},ready:function(a){var b=this,c=b.node;("load"===a.type||/loaded|complete/.test(c.readyState))&&(b.complete.call(b,a),b.manager.resolve(b))},error:function(a){var b=this;b.verbose&&console.error("$.script: Unable to load ",b),b.complete.call(b,a),b.remove(),b.manager.reject(b)},complete:function(){var c=this,d=c.node;c.endTime=new Date,d.detachEvent&&!a.browser.opera?(d.detachEvent("onreadystatechange",c._ready),d.detachEvent("onerror",c._error)):(d.removeEventListener("load",c._ready,!1),d.removeEventListener("error",c._error,!1))
}}),b}()}),FD31.plugin("stylesheet",function(a){var b=document.getElementsByTagName("head")[0],c=document.styleSheets,d=document.createStyleSheet,e=31,f=31,g=4095;a.stylesheet=function(){var h=function(b,c){var d={};return a.extend(d,h.defaultOptions,a.isPlainObject(b)?b:{url:b,attr:c||{}}),void 0===d.url?h.create(d):h.load(d)};return a.extend(h,{defaultOptions:{type:"text/css",rel:"stylesheet",media:"all",title:"",forceInject:!1,xhr:!1},setup:function(b){a.extend(h.defaultOptions,b)},availability:function(){var b={},c=a('link[rel*="stylesheet"]');
return styles=a("style"),b.groups=e-c.length-styles.length,b.slots=b.groups*f,h.currentGroup&&(b.slots+=f-h.currentGroup.imports.length),b},get:function(a){for(var b=0;b<c.length;b++){var d=c[b];if((d.ownerNode||d.owningElement)==a)return d}},create:function(f){var g,h,i=c.length;if(d){if(i>=e)return;g=document.createStyleSheet(),h=g.ownerNode||g.owningElement}else h=document.createElement("style"),b.appendChild(h);a.extend(h,{type:f.type,title:f.title,media:f.media,rel:f.rel});var j=f.content;return void 0!==j&&(d?g.cssText=j:h.appendChild(document.createTextNode(j))),h
},nextAvailable:function(a){var b,e=c.length;if(e){var f;for(f=e;f--;0>f){b=c[f];{if(!(d&&(b.cssRules||b.rules).length>=g))break;b=void 0}}}return b.ownerNode||b.owningElement||(a?h():void 0)},load:function(b){if(a.browser.msie&&!b.forceInject)return h._import(b);var c=a("<link>").attr({href:b.url,type:b.type,rel:b.rel,media:b.media}).appendTo("head");return c[0]},_import:function(a){var b;if(void 0===h.currentGroup){var c;try{c=document.createStyleSheet(),c.media="all",c.title="jquery_stylesheet"}catch(d){b=!0,a.verbose&&console.error("There is not enough slots left to create a new stylesheet group.")
}if(b)return!1;h.currentGroup=c}try{h.currentGroup.addImport(a.url)}catch(d){b=!0,a.verbose&&console.info("Import slots exceeded. Creating a new stylesheet group.")}return b?(h.currentGroup=void 0,h._import(a)):!0}}),h}(),function(){var b=function(b,c,d){a.extend(this,{id:a.uid(),style:d,selectors:[],preRule:"",rules:{},legacy:8===a.IE,important:!1}),b&&this.set(b,c)};a.extend(b.prototype,{set:function(b,c){return this.selectors=a.isString(b)?b.split(","):b,a.isString(c)?(this.preRule=c+"\n",this.rules={}):(this.preRule="",this.rules=c||this.rules),this.update(),this
},cssText:function(){return this.selectors.join(",")+"{"+this.ruleText()+"}\n"},ruleText:function(){var b=this.important;return this.preRule+(this.legacy?"-rule-id:"+this.id+";":"")+a.map(this.rules,function(c,d){return a.isNumeric(c)&&!a.cssNumber[d]&&(c+="px"),b&&(c+=" !important"),d+":"+c}).join(";")},update:function(){if(this.legacy)return this.updateLegacy();var a=this.cssText();return void 0===this.textNode?(this.textNode=document.createTextNode(a),this.style.appendChild(this.textNode)):this.textNode.nodeValue=a,this
},updateLegacy:function(){this.removeLegacy();for(var b=a.stylesheet.get(this.style),c=this.selectors,d=this.ruleText(),e=0;e<c.length;e++)b.addRule(c[e],d);return this},remove:function(){return this.legacy?this.removeLegacy():(void 0!==this.textNode&&(this.style.removeChild(this.textNode),delete this.textNode),this)},removeLegacy:function(){for(var b=a.stylesheet.get(this.style),c=b.rules,d=0;d<c.length;d++)null!==c[d].cssText.match(this.id)&&b.removeRule(d);return this},css:function(b,c){return a.isString(b)&&void 0===c?this.rules[b]:(a.isPlainObject(b)?a.extend(this.rules,b):this.rules[b]=c,this.update(),this)
}});var c=a.cssRule=function(d,e,f){var f=f||c.style||a.stylesheet.nextAvailable(!0);if(f)return new b(d,e,f)};c.style=a.stylesheet()}(),function(){a.cssUrl=function(a){return'url("'+encodeURI(a)+'")'}}()}),FD31.plugin("language",function(a){a.sprintf=function(){var a=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,b=arguments,c=0,d=b[c++],e=function(a,b,c,d){c||(c=" ");var e=a.length>=b?"":Array(1+b-a.length>>>0).join(c);return d?a+e:e+a},f=function(a,b,c,d,f,g){var h=d-a.length;
return h>0&&(a=c||!f?e(a,d,g,c):a.slice(0,b.length)+e("",h,"0",!0)+a.slice(b.length)),a},g=function(a,b,c,d,g,h,i){var j=a>>>0;return c=c&&j&&{2:"0b",8:"0",16:"0x"}[b]||"",a=c+e(j.toString(b),h||0,"0",!1),f(a,c,d,g,i)},h=function(a,b,c,d,e,g){return null!=d&&(a=a.slice(0,d)),f(a,"",b,c,e,g)},i=function(a,d,i,j,k,l,m){var n,o,p,q,r;if("%%"==a)return"%";for(var s=!1,t="",u=!1,v=!1,w=" ",x=i.length,y=0;i&&x>y;y++)switch(i.charAt(y)){case" ":t=" ";break;case"+":t="+";break;case"-":s=!0;break;case"'":w=i.charAt(y+1);
break;case"0":u=!0;break;case"#":v=!0}if(j=j?"*"==j?+b[c++]:"*"==j.charAt(0)?+b[j.slice(1,-1)]:+j:0,0>j&&(j=-j,s=!0),!isFinite(j))throw new Error("sprintf: (minimum-)width must be finite");switch(l=l?"*"==l?+b[c++]:"*"==l.charAt(0)?+b[l.slice(1,-1)]:+l:"fFeE".indexOf(m)>-1?6:"d"==m?0:void 0,r=d?b[d.slice(0,-1)]:b[c++],m){case"s":return h(String(r),s,j,l,u,w);case"c":return h(String.fromCharCode(+r),s,j,l,u);case"b":return g(r,2,v,s,j,l,u);case"o":return g(r,8,v,s,j,l,u);case"x":return g(r,16,v,s,j,l,u);case"X":return g(r,16,v,s,j,l,u).toUpperCase();
case"u":return g(r,10,v,s,j,l,u);case"i":case"d":return n=0|+r,o=0>n?"-":t,r=o+e(String(Math.abs(n)),l,"0",!1),f(r,o,s,j,u);case"e":case"E":case"f":case"F":case"g":case"G":return n=+r,o=0>n?"-":t,p=["toExponential","toFixed","toPrecision"]["efg".indexOf(m.toLowerCase())],q=["toString","toUpperCase"]["eEfFgG".indexOf(m)%2],r=o+Math.abs(n)[p](l),f(r,o,s,j,u)[q]();default:return a}};return d.replace(a,i)};var b=a.language=a.JText=function(a){return arguments.length<2?b._(a):b.sprintf.apply(null,arguments)};a.extend(b,{lang:{},add:function(c,d){a.isPlainObject(c)?a.extend(b.lang,c):b.lang[c]=d
},remove:function(a){delete b.lang[a]},_:function(a){return b.lang[a]||""},sprintf:function(){var c=arguments[0];return arguments[0]=b.lang[c],a.sprintf.apply(null,arguments)}})}),FD31.plugin("template",function(a){a.template=function(){var b={content:"",type:"ejs"},c=function(d,e){if(void 0===d)return c.templates;var f;return"string"==typeof e?(f=a.isPlainObject(e)?e:a.extend({},b,{name:d,content:e}),c.templates[d]=f,f):(f=c.templates[d]||{},f.content||"")};return a.extend(c,{templates:{},remove:function(a){delete c.templates[a]
}}),c}()}),FD31.plugin("require",function(a){a.require=function(){var b=function(b){return a.uri(b).setAnchor("").setQuery("").toPath("../").toString()},c=function(a){var b=new e(a);return c.batches[b.id]=b,b};a.extend(c,{defaultOptions:{path:function(){var c=a.path+"/scripts/"||a("[require-path]").attr("require-path")||b(a("script:last").attr("src"))||b(window.location.href);return/^(\/|\.)/.test(c)&&(c=a.uri(window.location.href).toPath(c).toString()),c}(),timeout:1e4,retry:3,verbose:"development"==a.environment},setup:function(b){a.extend(c.defaultOptions,b)
},batches:{},status:function(b){return a.each(c.batches,function(c,d){var e={pending:0,resolved:0,rejected:0,ready:0,total:0},f=[];a.each(d.tasks,function(a,b){state=b.module&&"ready"==b.module.status?"ready":b.state(),e[state]++,e.total++,f.push({state:state,content:"["+state+"] "+b.name})});var g=d.id+": "+d.state()+" ["+e.resolved+"/"+e.total+"]";b&&e[b]<1||(a.IE?(console.log('$.require.batches["'+d.id+'"]'),a.each(f,function(a,b){console.log(b.content)}),console.log("")):(console.groupCollapsed(g),console.log('$.require.batches["'+d.id+'"]',d),a.each(f,function(a,c){var d=c.state,e=c.content;
if(!b||d==b)switch(d){case"pending":console.warn(e);break;case"rejected":console.error(e);break;default:console.info(e)}}),console.groupEnd(g)))}),"$.require.status(pending|resolved|rejected|ready);"},loaders:{},addLoader:function(a,b){c[a]=b,e.prototype[a]=function(){var a=this;return a.autoFinalize(),b.apply(a,arguments),a},c.loaders[a]=c[a]=b},removeLoader:function(a){delete e.prototype[a],delete c[a]}});var d=0,e=function(b){var e=a.Callbacks("once memory"),f=!1,g=a.extend(this,{id:++d,tasks:[],options:a.extend({},c.defaultOptions,b),autoFinalizeDuration:300,finalized:!1,required:function(b){return b===!0&&(f=!0&&e.fire()),a.isFunction(b)&&e.add(b),f
}});return g};return a.extend(e.prototype,{addTask:function(b){var c=this;a.isDeferred(b)&&(c.finalized||(c.tasks.push(b),b.batch=c))},autoFinalize:function(){var a=this,b=a.autoFinalizeDuration;b!==!1&&(clearTimeout(a.autoFinalizeTimer),a.autoFinalizeTimer=setTimeout(function(){a.finalize()},b))},finalize:function(){var b=this;if(!b.finalized){b.finalized=!0;var c=b.manager=a.when.apply(null,b.tasks),d=c.promise(),e=a.Callbacks();a.extend(b,d,{progress:e.add,notify:e.fire,done:function(){return b.required(!0),b.done=d.done,b.done.apply(b,arguments)
}});var f=b.options.verbose;c.progress(function(a,b){f&&"rejected"==a&&console.warn("Require: Task "+b.name+" failed to load.",b)}).fail(function(){f&&console.warn("Require: Batch "+b.id+" failed.",b)}),setTimeout(function(){a.each(b.tasks,function(a,c){c.then(function(){b.notify("resolved",c)},function(){b.notify("rejected",c)},function(){b.notify("progress",c)})})},1)}},expand:function(b,c){var b=a.makeArray(b),d=c||{},e=[];return a.isPlainObject(b[0])?(d=a.extend(b[0],c),e=b.slice(1)):e=b,{options:d,names:e}
}}),a.each(["done","fail","progress","always","then"],function(a,b){e.prototype[b]=function(){var a=this;return a.finalize(),a[b].apply(a,arguments)}}),c}(),a.require.addLoader("script",function(){var b=a.uri(a.indexUrl).host(),c=a.uri(document.location.href).host();b!==c&&b.match("xn--")&&(a.support.cors=!0);var e=(document.createElement("script").async===!0||"MozAppearance"in document.documentElement.style||window.opera,function(){var d,f,b=this,c=a.makeArray(arguments);a.isPlainObject(c[0])?(d=c[0],f=c.slice(1)):f=c,d=a.extend({},e.defaultOptions,b.options,d,{batch:b});
var g;a.each(f,function(a,c){var f=new e.task(c,d,g);b.addTask(f),d.serial&&void 0!==g?g.always(f.start):f.start(),g=f})});return a.extend(e,{defaultOptions:{path:"",extension:"compressed"==a.mode?"min.js":"js",serial:!1,async:!1,xhr:!1},setup:function(){a.extend(e.defaultOptions,options)},scripts:{},task:function(b,c,d){var e=a.extend(this,a.Deferred());if(e.name=b,e.options=c,e.taskBefore=d,a.isArray(b)){e.name=b[0]+"@"+b[1],e.moduleName=b[0];var f=b[2];f||(e.defineModule=!0,a.module.registry[e.moduleName]&&console.warn("$.require.script: "+e.moduleName+" exists! Using existing module instead."),e.options.xhr=!0),b=b[1],e.module=a.module(e.moduleName)
}a.isUrl(b)?e.url=b:/^(\/|\.)/.test(b)?e.url=a.uri(e.options.path).toPath(b).toString():(e.url=a.uri(e.options.path).toPath("./"+b+"."+e.options.extension).toString(),e.module=a.module(b))}}),a.extend(e.task.prototype,{start:function(){var a=this,b=a.module;return b&&"pending"!==b.status?(a.waitForModule(),void 0):(a.load(),void 0)},waitForModule:function(){var a=this,b=a.module;b.then(a.resolve,a.reject,a.notify),a.batch.required(function(){b.done(a.resolve)})},load:function(){var b=this,c=b.taskBefore;b.script=e.scripts[b.url]||function(){var c=b.options.xhr?a.ajax({url:b.url,dataType:"text"}):a.script({url:b.url,type:"text/javascript",async:b.options.async,timeout:b.batch.options.timeout,retry:b.batch.options.retry,verbose:b.batch.options.verbose});
return e.scripts[b.url]=c}(),b.script.done(function(d){var e=function(){b.module?b.waitForModule():b.resolve()};return b.options.xhr&&(b.defineModule&&(b.module=a.module(b.moduleName,function(){var b=this;a.globalEval(d),b.resolveWith(d)})),!b.options.async||c)?(c.done(function(){a.globalEval(d),e()}),void 0):(e(),void 0)}).fail(function(){b.reject()})}}),e}()),a.require.addLoader("stylesheet",function(){var b=function(){var e,f,c=this,d=a.makeArray(arguments);a.isPlainObject(d[0])?(e=d[0],f=d.slice(1)):f=d,e=a.extend({},b.defaultOptions,c.options,{path:a.path+"/styles/"},e,{batch:c}),a.each(f,function(a,d){var f=new b.task(d,e),g=b.stylesheets[f.url];
f=g||f,c.addTask(f),g||(b.stylesheets[f.url]=f,f.start())})};return a.extend(b,{defaultOptions:{path:"",extension:"compressed"==a.mode?"min.css":"css",xhr:!1},setup:function(){a.extend(b.defaultOptions,options)},stylesheets:{},task:function(b,c){var d=a.extend(this,a.Deferred());d.name=b,d.options=c,d.url=a.isUrl(b)?b:/^(\/|\.)/.test(b)?a.uri(d.options.path).toPath(b).toString():a.uri(d.options.path).toPath("./"+b+"."+d.options.extension).toString(),d.options.url=d.url},loaders:{},loader:function(c){if(a.isArray(c))return a.map(c,function(a){return b.loader(a)
});if(a.isPlainObject(c))return a.map(c,function(a,c){return b.loader(a).resolve(c)});var d=b.loaders[c];return d||(d=b.loaders[c]=a.Deferred().done(function(b){a.isPlainObject(b)||a.stylesheet(b)})),d}}),a.extend(b.task.prototype,{start:function(){var c=this,d=b.loaders[c.name];d||(d=b.loader(c.name),a.stylesheet(c.options)?d.resolve():d.reject()),d.then(c.resolve,c.reject)}}),b}()),a.require.addLoader("template",function(){var b=function(){var e,f,c=this,d=a.makeArray(arguments);a.isPlainObject(d[0])?(e=d[0],f=d.slice(1)):f=d,e=a.extend({},b.defaultOptions,c.options,e,{batch:c}),a.each(f,function(a,d){var f=new b.task(d,e);
c.addTask(f),f.start()})};return a.extend(b,{defaultOptions:{path:"",extension:"htm"},setup:function(){a.extend(b.defaultOptions,options)},task:function(b,c){var d=a.extend(this,a.Deferred());d.name=b,d.options=c,a.isArray(b)&&(d.name=b[0],b=b[1]),d.url=a.isUrl(b)?b:/^(\/|\.)/.test(b)?a.uri(d.options.path).toPath(b).toString():a.uri(d.options.path).toPath("./"+b+"."+d.options.extension).toString()},loaders:{},loader:function(c){if(a.isArray(c))return a.map(c,function(a){return b.loader(a)});if(a.isPlainObject(c))return a.map(c,function(a,c){return b.loader(c).resolve(a)
});var d=b.loaders[c];return d||(d=b.loaders[c]=a.Deferred().done(function(b){a.template(c,b)})),d}}),a.extend(b.task.prototype,{start:function(){var c=this,d=b.loaders[c.name];return d||(d=b.loader(c.name),d.xhr=a.Ajax({url:c.url,dataType:"text"}).then(d.resolve,d.reject).then(c.resolve,c.reject)),c.loader=d,c}}),b}()),a.require.addLoader("language",function(){var b=function(){var e,f,c=this,d=a.makeArray(arguments);a.isPlainObject(d[0])?(e=d[0],f=d.slice(1)):f=d,e=a.extend({},b.defaultOptions,c.options,e,{batch:c});
var g=new b.task(f,e);c.addTask(g),g.start()};return a.extend(b,{defaultOptions:{path:""},setup:function(){a.extend(b.defaultOptions,options)},loaders:{},task:function(b,c){var d=a.extend(this,a.Deferred());d.name=b.join(","),d.options=c,d.url=c.path,d.names=b},loaders:{},loader:function(c){if(a.isArray(c))return a.map(c,function(a){return b.loader(a)});if(a.isPlainObject(c))return a.map(c,function(a,c){return b.loader(c).resolve(a)});var d=b.loaders[c];return d||(d=b.loaders[c]=a.Deferred().done(function(b){a.language.add(c,b)
})),d}}),a.extend(b.task.prototype,{start:function(){var c=this,d=[],e=a.map(c.names,function(a){var c=b.loader(a);return c.push(c),/resolved|rejected/.test(c.state())?null:a});return c.fail(function(){a.each(e,function(a,c){b.loader(c).reject()})}),a.when.apply(null,d).then(c.resolve,c.reject),e.length<1?c:(c.xhr=a.Ajax({url:c.url,type:"POST",data:{keys:e}}).done(function(d){a.isPlainObject(d)?b.loader(d):c.reject()}).fail(function(){c.reject()}),c)}}),b}()),a.require.addLoader("library",function(){var e,b=this,c=a.makeArray(arguments),d={};
return a.isPlainObject(c[0])?(d=c[0],e=c.slice(1)):e=c,a.extend(d,{path:a.scriptPath}),b.script.apply(b,[d].concat(e))}),a.require.addLoader("image",function(){var b=function(){var e,f,c=this,d=a.makeArray(arguments);a.isPlainObject(d[0])?(e=d[0],f=d.slice(1)):f=d,e=a.extend({},b.defaultOptions,c.options,e,{batch:c}),a.each(f,function(a,d){var f=new b.task(d,e),g=b.images[f.url];f=g||f,c.addTask(f),g||(b.images[f.url]=f,f.start())})};return a.extend(b,{defaultOptions:{path:""},setup:function(){a.extend(b.defaultOptions,options)
},images:{},task:function(b,c){var d=a.extend(this,a.Deferred());d.name=b,d.options=c,d.url=a.isUrl(b)?b:/^(\/|\.)/.test(b)?a.uri(d.options.path).toPath(b).toString():a.uri(d.options.path).toPath("./"+b).toString(),d.options.url=d.url}}),a.extend(b.task.prototype,{start:function(){var b=this;b.image=a(new Image).load(function(){b.resolve()}).error(function(){b.reject()}).attr("src",b.options.url)}}),b}())}),FD31.plugin("iframe-transport",function(a){a.ajaxPrefilter(function(a){return a.iframe?"iframe":void 0
}),a.ajaxTransport("iframe",function(b){function k(){i&&j.replaceWith(function(a){return h.get(a)}),e.remove(),f.attr("src","javascript:false;").remove()}var e=null,f=null,g="iframe-"+a.now(),h=a(b.files).filter(":file:enabled"),i=h.length>0,j=null;return b.dataTypes.shift(),e=a("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:b.url,target:g}),"string"==typeof b.data&&b.data.length>0&&a.error("data must not be serialized"),a.each(b.data||{},function(b,c){a.isPlainObject(c)&&(b=c.name,c=c.value),a.isArray(c)||(c=[c]),a.each(c,function(c,d){a("<input type='hidden' />").attr({name:b,value:d}).appendTo(e)
})}),a("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(e),i&&(j=h.after(function(){return a(this).clone().prop("disabled",!0)}).next(),h.appendTo(e)),{send:function(b,c){f=a("<iframe src='javascript:false;' name='"+g+"' id='"+g+"' style='display:none'></iframe>"),f.bind("load",function(){f.unbind("load").bind("load",function(){var a=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,b=a.documentElement?a.documentElement:a.body,d=b.getElementsByTagName("textarea")[0],e=d?d.getAttribute("data-type"):null,f=d?d.getAttribute("data-status"):200,g=d?d.getAttribute("data-statusText"):"OK",h={html:b.innerHTML,text:e?d.value:b?b.textContent||b.innerText:null};
k(),c(f,g,h,e?"Content-Type: "+e:null)}),e[0].submit()}),a("body").append(e,f)},abort:function(){null!==f&&(f.unbind("load").attr("src","javascript:false;"),k())}}})}),FD31.plugin("server",function($){var self=$.server=function(a){var b=$.Deferred(),c=$.extend(!0,{},self.defaultOptions,a,{success:function(){}});return b.xhr=$.Ajax(c).done(function(c){if("string"==typeof c)try{c=$.parseJSON(c)}catch(d){b.rejectWith(b,["Unable to parse Ajax commands.","error"])}if($.isArray(c)){var e=function(c){var d=c.type,e=self.parsers[d]||a[d];
return $.isFunction(e)?e.apply(b,c.data):void 0},c=$.map(c,function(a){return"notify"!=a.type?a:(e(a),void 0)});$.each(c,function(a,b){e(b)})}else b.rejectWith(b,["Invalid ajax commands.","error"]);"pending"===b.state()&&b.resolveWith(b)}).fail(function(a,c,d){b.rejectWith(b,[d,c])}),b};self.defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},dataType:"json"},self.parsers={script:function(){var data=$.makeArray(arguments);if("string"!=typeof data[0]){var chain=window,chainBroken=!1;$.each(data,function(a,b){"Foundry"===b.property&&(b.property=$.globalNamespace),"Foundry"===b.method&&(b.method=$.globalNamespace);
try{switch(b.type){case"get":chain=chain[b.property];break;case"set":chain[b.property]=b.value,chainBroken=!0;break;case"call":chain=chain[b.method].apply(chain,b.args)}}catch(c){chainBroken=!0}})}else try{eval(data[0])}catch(err){}},resolve:function(){this.resolveWith(this,arguments)},reject:function(){this.rejectWith(this,arguments)},notify:function(){this.notifyWith(this,arguments)},redirect:function(a){window.location=a}}}),FD31.plugin("component",function(a){var b=a.Component=function(a,c){return arguments.length<1?b.registry:arguments.length<2?b.registry[a]:b.register(a,c)
};b.registry={},b.proxy=function(b,c,d){b[c]=a.isFunction(d)?a.proxy(d,b):d},b.register=function(c,d){var e;a.isFunction(c)&&(e=c,c=e.className,d=e.options);var f=b.registry[c]=window[c]=function(b){return a.isFunction(b)?b(a):component};if(a.each(b.prototype,function(a,c){b.proxy(f,a,c)}),f.$=a,f.options=d,f.className=c,f.identifier=c.toLowerCase(),f.componentName="com_"+f.identifier,f.prefix=f.identifier+"/",f.version=d.version,f.safeVersion=f.version.replace(/\./g,""),f.environment=d.environment||a.environment,f.mode=d.mode||a.mode,f.debug="development"===f.environment,f.console=b.console(f),f.language=d.language||a.locale.lang||"en",f.baseUrl=d.baseUrl||a.indexUrl+"?option="+f.componentName,f.ajaxUrl=d.ajaxUrl||a.basePath+"/?option="+f.componentName,f.scriptPath=d.scriptPath||a.rootPath+"/media/"+f.componentName+"/scripts/",f.stylePath=d.stylePath||a.rootPath+"/media/"+f.componentName+"/styles/",f.templatePath=d.templatePath||d.scriptPath,f.languagePath=d.languagePath||f.ajaxUrl+"&tmpl=component&no_html=1&controller=lang&task=getLanguage",f.viewPath=d.viewPath||f.ajaxUrl+"&tmpl=component&no_html=1&controller=themes&task=getAjaxTemplate",f.optimizeResources=!0,f.resourcePath=d.resourcePath||f.ajaxUrl+"&tmpl=component&no_html=1&controller=foundry&task=getResource",f.resourceInterval=1200,f.scriptVersioning=d.scriptVersioning||!1,f.token=(e||{}).token,f.tasks=[],FD31.component(c,f),e)if(f.debug)e.queue.execute();
else{for(var g,h=FD31.installer(c);g=h.shift();)f.install.apply(f,g);a.when(f.install("definitions"),f.install("scripts"),f.install("resources")).done(function(){e.queue.execute()})}},b.extend=function(c,d){b.prototype[c]=d,a.each(b.registry,function(a,e){b.proxy(e,c,d)})},a.template("component/console",'<div id="[%== component.identifier %]-console" class="foundry-console" style="display: none; z-index: 999999;"><div class="console-header"><div class="console-title">[%= component.className %] [%= component.version %]</div><div class="console-remove-button">x</div></div><div class="console-log-item-group"></div><style type="text/css">.foundry-console{position:fixed;width:50%;height:50%;bottom:0;left:0;background:white;box-shadow: 0 0 5px 0;margin-left: 25px;}.console-log-item-group{width: 100%;height: 100%;overflow-y:scroll;}.console-header{position: absolute;background:red;color:white;font-weight:bold;top:-24px;left: 0;line-height:24px;width:100%}.console-remove-button{text-align:center;cursor: pointer;display:block;width: 24px;float:right}.console-remove-button:hover{color: yellow}.console-title{padding: 0 5px;float:left}.console-log-item{padding: 5px}.console-log-item + .console-log-item{border-top: 1px solid #ccc}</style></div>'),b.console=function(b){return function(b){var d,c=function(a){return arguments.length<1?c.toggle():c[a]&&c[a].apply(c,arguments)
};return c.selector="#"+b.identifier+"-console",c.init=function(){return d=a(c.selector),d.length<1&&(d=a(a.View("component/console",{component:b})).appendTo("body"),d.find(".console-remove-button").click(function(){d.hide()})),c.element=d,arguments.callee}(),c.methods={log:function(c,e,f){e=e||"info";var g=d.find(".console-log-item-group"),h=a(document.createElement("div")).addClass("console-log-item type-"+e).attr("data-code",f).html(c);g.append(h),g[0].scrollTop=g[0].scrollHeight,b.debug&&d.show()},toggle:function(){d.toggle()
},reset:function(){d.find(".console-log-item-group").empty()}},a.each(c.methods,function(a,b){c[a]=function(){return c.init(),b.apply(c,arguments)}}),c}(b)};var c=a(document),d=b.prototype;a.extend(d,{run:function(b){return a.isFunction(b)?b(a):this},ready:function(){return c.ready(function(){d.ready=d.run}),function(b){a.isFunction(b)&&c.ready(function(){b(a)})}}(),install:function(b,c){var d=this,e=d.tasks[b]||(d.tasks[b]=a.Deferred());if(!c)return e;var f=function(){return c(a,d),e.resolve()};return"definitions"==b?f():(a.when(d.install("definitions")).done(f),void 0)
},template:function(b){var c=this;return void 0==b?a.grep(a.template(),function(a){return 0==a.indexOf(c.prefix)}):(arguments[0]=c.prefix+b,a.template.apply(null,arguments))},require:function(b){var c=this,b=b||{},d=a.require(b),e={};return a.each(["library","script","language","template","done"],function(a,b){e[b]=d[b]}),d.resource=function(b){if(a.isPlainObject(b)&&b.type&&b.name&&a.isDeferred(b.loader)){var f=c.resourceCollector;f||(f=c.resourceCollector=a.Deferred(),a.extend(f,{name:a.uid("ResourceCollector"),manifest:[],loaderList:[],loaders:[],load:function(){if(delete c.resourceCollector,f.manifest.length<0)return f.resolve(),void 0;
var b=0,d=function(){b++,a.Ajax({type:"POST",url:c.resourcePath,dataType:"json",data:{resource:f.manifest}}).done(function(d){return a.isArray(d)?(a.each(d,function(a,b){var c=b.content;f.loaders[b.id][void 0!==c?"resolve":"reject"](c)}),b>1&&c.debug&&console.info("Attempt to try and get resources again was successful!"),void 0):(f.reject("Server did not return a valid resource manifest."),void 0)}).fail(function(){return b>2?(c.debug&&console.error("Unable to get resource again. Giving up!"),void 0):(c.debug&&console.warn("Unable to get resource. Trying again..."),d(),void 0)
})};d(),a.when.apply(null,f.loaderList).done(f.resolve).fail(f.reject)}}),setTimeout(f.load,c.resourceCollectionInterval));var g=b.id=a.uid("Resource");return f.loaders[g]=b.loader,f.loaderList.push(b.loader),delete b.loader,f.manifest.push(b),d}},d.view=function(){var b=this,e=b.expand(arguments,{path:c.viewPath}),f={},g=e.options,h=a.map(e.names,function(e){var g=c.prefix+e,h=a.require.template.loaders[g];if(!h)return h=a.require.template.loader(g),h.name=g,b.addTask(h),c.optimizeResources?(d.resource({type:"view",name:e,loader:h}),void 0):(f[e]=h,e)
});return h.length>0&&a.Ajax({url:g.path,dataType:"json",data:{names:h}}).done(function(b){a.isArray(b)&&a.each(b,function(a,b){var c=b.content;f[b.name][void 0!==c?"resolve":"reject"](c)})}),d},d.language=function(){var b=this,f=b.expand(arguments,{path:c.languagePath});return c.optimizeResources?a.each(f.names,function(c,e){var f=a.require.language.loaders[e];f||(f=a.require.language.loader(e),f.name=e,b.addTask(f),d.resource({type:"language",name:e,loader:f}))}):e.language.apply(d,[f.options].concat(f.names)),d
},d.library=function(){return e.script.apply(this,arguments),d},d.script=function(){var b=this,f=b.expand(arguments,{path:c.scriptPath});return names=a.map(f.names,function(b){if(a.isArray(b)||a.isUrl(b)||/^(\/|\.)/.test(b))return b;var d=c.prefix+b,e=a.uri(f.options.path).toPath("./"+b+"."+(f.options.extension||"js")+(c.scriptVersioning?"?version="+c.safeVersion:"")).toString();return[[d,e,!0]]}),e.script.apply(d,[f.options].concat(names)),d},d.template=function(){var b=this,f=b.expand(arguments,{path:c.templatePath});
return e.template.apply(d,[f.options].concat(a.map(f.names,function(a){return[[c.prefix+a,a]]}))),d},d.done=function(a){return e.done.call(d,function(){c.ready(a)})},d},module:function(b,c){var d=this;if(!a.isArray(b)){var e=d.prefix+b;return c?a.module.apply(null,[e,function(){var b=this;c.call(b,a)}]):a.module(e)}}}),a.Component.extend("getToken",function(){var b=this;return a("span#"+b.identifier+"-token input").attr("name")||b.token}),a.Component.extend("ajax",function(b,c,d){var e=this,f={url:e.ajaxUrl,data:a.extend(c,{option:e.componentName,namespace:b})};
if(f=a.extend(!0,f,e.options.ajax),f.data[e.getToken()]=1,f.data.hasOwnProperty("args")&&(f.data.args=a.toJSON(f.data.args)),a.isPlainObject(d)){if(d.type){switch(d.type){case"jsonp":d.dataType="jsonp",d.crossDomain=!0,f.data.transport="jsonp";break;case"iframe":d.iframe=!0,d.processData=!1,d.files=f.data.files,delete f.data.files,f.data.transport="iframe"}delete d.type}a.extend(f,d)}a.isFunction(d)&&(f.success=d);var g=a.server(f);return g.progress(function(a,b,c){"debug"==b&&e.console.log(a,b,c)}),g}),a.Component.extend("Controller",function(){var e,f,b=this,c=a.makeArray(arguments),d=c[0];
return 1==c.length?a.String.getObject(d):(c.length>2?(e=c[1],f=c[2]):(e={},f=c[1]),a.extend(e,{root:b.className+".Controller",component:b}),a.Controller.apply(this,[d,e,f]))}),a.Component.extend("Model",function(){var e,f,b=this,c=a.makeArray(arguments),d=b.className+".Model."+c[0];return 1==c.length?a.String.getObject(c[0]):(2==c.length&&(e={},f=c[1]),c.length>2&&(e=c[1],f=c[2]),a.extend(e,{component:b}),a.Model.apply(this,[d,e,f]))}),a.Component.extend("Model.List",function(){var e,f,b=this,c=a.makeArray(arguments),d=b.className+".Model.List."+c[0];
return 1==c.length?a.String.getObject(c[0]):(2==c.length&&(e={},f=c[1]),c.length>2&&(e=c[1],f=c[2]),a.extend(e,{component:b}),a.Model.List.apply(this,[d,e,f]))}),a.Component.extend("View",function(){var c=this;return arguments.length<1?c.template():(arguments[0]=c.prefix+arguments[0],a.View.apply(this,arguments))}),FD31.module.execute(),a.each(FD31.component(),function(b,c){c.registered||a.Component.register(c)})}),FD31.plugin("static",function(a){a.module(["image","ui/position","fancybox","bookmarklet","checked","checkList","ui/autocomplete","ui/core","ui/widget","ui/menu","easing","scrollTo","ui/stars"]),function(){var a=function(a){var b=this,c=function(){a.fn.image=function(b){var b=a.Image[b];
return b&&b.apply(this[0],a.makeArray(arguments).slice(1))},a.Image={get:function(b){var c="IMG"===this.nodeName,d=a(c?this:new Image),e=a.Deferred();return d.load(function(){var a,b,f,g;c||d.appendTo("body");var h={width:a=d.width(),height:b=d.height(),aspectRatio:f=a/b,orientation:g=1===f?"square":1>f?"tall":"wide"};d.css({position:"absolute",left:"-99999px"}).data(h).addClass("orientation-"+g).removeAttr("style"),c||d.detach(),e.resolve(d,h)}).error(function(){e.reject()}).attr("src",b),e},aspectRatio:function(b,c){return a.isPlainObject(b)&&(b=b.width,c=b.height),b/c
},orientation:function(b,c){return a.isPlainObject(b)&&(b=b.width,c=b.height),b===c?"square":b>c?"wide":"tall"},resizeProportionate:function(a,b,c,d,e){var f=a,g=b,h=c/a;f=a*h,g=b*h;var i=g>d;return"outer"==e&&(i=d>g),i&&(h=d/b,f=a*h,g=b*h),{top:(d-g)/2,left:(c-f)/2,width:f,height:g}},resizeWithin:function(b,c,d,e){return a.Image.resizeProportionate(b,c,d,e,"inner")},resizeToFill:function(b,c,d,e){return a.Image.resizeProportionate(b,c,d,e,"outer")}}};c(),b.resolveWith(c)};FD31.module("image",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){function m(a,b,c){return[parseFloat(a[0])*(k.test(a[0])?b/100:1),parseFloat(a[1])*(k.test(a[1])?c/100:1)]
}function n(b,c){return parseInt(a.css(b,c),10)||0}function o(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+(\.[\d]+)?%?/,j=/^\w+/,k=/%$/,l=a.fn.position;
a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;
return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};
return s=o(t),t[0].preventDefault&&(b.at="left top"),k=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var c,d,a=(b[this]||"").split(" ");1===a.length&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),x[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=k:"center"===b.at[0]&&(r.left+=k/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),c=m(x.at,k,p),r.left+=c[0],r.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),o=n(this,"marginLeft"),s=n(this,"marginTop"),y=j+o+n(this,"marginRight")+v.width,z=l+s+n(this,"marginBottom")+v.height,A=a.extend({},r),B=m(x.my,i.outerWidth(),i.outerHeight());
"right"===b.my[0]?A.left-=j:"center"===b.my[0]&&(A.left-=j/2),"bottom"===b.my[1]?A.top-=l:"center"===b.my[1]&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:o,marginTop:s},a.each(["left","top"],function(d,e){a.ui.position[w[d]]&&a.ui.position[w[d]][e](A,{targetWidth:k,targetHeight:p,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:u,elem:i})}),b.using&&(h=function(a){var c=q.left-A.left,f=c+k-j,g=q.top-A.top,h=g+p-l,m={target:{element:t,left:q.left,top:q.top,width:k,height:p},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:0>f?"left":c>0?"right":"center",vertical:0>h?"top":g>0?"bottom":"middle"};
j>k&&e(c+f)<k&&(m.horizontal="center"),l>p&&e(g+h)<p&&(m.vertical="middle"),m.important=d(e(c),e(f))>d(e(g),e(h))?"horizontal":"vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var j,c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e;b.collisionWidth>f?h>0&&0>=i?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):a.left=i>0&&0>=h?e:h>i?e+f-b.collisionWidth:e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)
},top:function(a,b){var j,c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e;b.collisionHeight>f?h>0&&0>=i?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):a.top=i>0&&0>=h?e:h>i?e+f-b.collisionHeight:e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){var n,o,c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];
0>i?(n=a.left+k+l+m+b.collisionWidth-f-d,(0>n||n<e(i))&&(a.left+=k+l+m)):j>0&&(o=a.left-b.collisionPosition.marginLeft+k+l+m-g,(o>0||e(o)<j)&&(a.left+=k+l+m))},top:function(a,b){var o,p,c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k="top"===b.my[1],l=k?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];0>i?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(0>p||p<e(i))&&(a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(a.top+=l+m+n))
}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];
b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(c)};d(),b.resolveWith(d)};FD31.module("ui/position",a)}(),function(){var a=function(a){var b=this,c=function(){!function(b,c){var d=a(b),e=a(c),f=a.fancybox=function(){f.open.apply(this,arguments)},g=!1,h=null;a.extend(f,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!(a.browser.msie&&a.browser.version<=6)&&"undefined"==typeof c.createTouch,scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,modal:!1,loop:!0,ajax:{dataType:"html"},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:a.noop,beforeLoad:a.noop,afterLoad:a.noop,beforeShow:a.noop,afterShow:a.noop,beforeClose:a.noop,afterClose:a.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,c){a.isArray(b)||(b=b.jquery?a(b).get():[b]),b.length&&(f.close(!0),f.isActive=!0,f.opts=a.extend(!0,{},f.defaults,c),f.group=b,f._start(f.opts.index||0))
},cancel:function(){f.coming&&!1===f.trigger("onCancel")||(f.coming=null,f.hideLoading(),f.ajaxLoad&&f.ajaxLoad.abort(),f.ajaxLoad=null,f.imgPreload&&(f.imgPreload.onload=f.imgPreload.onabort=f.imgPreload.onerror=null))},close:function(b){f.cancel(),f.current&&!1!==f.trigger("beforeClose")&&(f.unbindEvents(),!f.isOpen||b&&b[0]===!0?(a(".fancybox-wrap").stop().trigger("onReset").remove(),f._afterZoomOut()):(f.isOpen=f.isOpened=!1,a(".fancybox-item").remove(),f.wrap.stop(!0).removeClass("fancybox-opened"),f.inner.css("overflow","hidden"),f.transitions[f.current.closeMethod]()))
},play:function(b){var c=function(){clearTimeout(f.player.timer)},d=function(){c(),f.current&&f.player.isActive&&(f.player.timer=setTimeout(f.next,f.current.playSpeed))},e=function(){c(),a("body").unbind(".player"),f.player.isActive=!1,f.trigger("onPlayEnd")},g=function(){f.current&&(f.current.loop||f.current.index<f.group.length-1)&&(f.player.isActive=!0,a("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":c}),d(),f.trigger("onPlayStart"))};f.player.isActive||b&&b[0]===!1?e():g()
},next:function(){f.current&&f.jumpto(f.current.index+1)},prev:function(){f.current&&f.jumpto(f.current.index-1)},jumpto:function(a){f.current&&(a=parseInt(a,10),f.group.length>1&&f.current.loop&&(a>=f.group.length?a=0:0>a&&(a=f.group.length-1)),"undefined"!=typeof f.group[a]&&(f.cancel(),f._start(a)))},reposition:function(a){f.isOpen&&f.wrap.css(f._getPosition(a))},update:function(){f.isOpen&&(g||(h=setTimeout(function(){g&&(g=!1,f.current&&(f.current.autoSize&&(f.inner.height("auto"),f.current.height=f.inner.height()),f._setDimension(),f.current.canGrow&&f.inner.height("auto"),f.reposition(),f.trigger("onUpdate")))
},100)),g=!0)},toggle:function(){f.isOpen&&(f.current.fitToView=!f.current.fitToView,f.update())},hideLoading:function(){a("#fancybox-loading").remove()},showLoading:function(){f.hideLoading(),a('<div id="fancybox-loading"><div></div></div>').click(f.cancel).appendTo("body")},getViewport:function(){return{x:d.scrollLeft(),y:d.scrollTop(),w:d.width(),h:d.height()}},unbindEvents:function(){f.wrap&&f.wrap.unbind(".fb"),e.unbind(".fb"),d.unbind(".fb")},bindEvents:function(){var b=f.current,c=b.keys;b&&(d.bind("resize.fb, orientationchange.fb",f.update),c&&e.bind("keydown.fb",function(b){var d;
b.ctrlKey||b.altKey||b.shiftKey||b.metaKey||!(a.inArray(b.target.tagName.toLowerCase(),["input","textarea","select","button"])<0)||(d=b.keyCode,a.inArray(d,c.close)>-1?(f.close(),b.preventDefault()):a.inArray(d,c.next)>-1?(f.next(),b.preventDefault()):a.inArray(d,c.prev)>-1&&(f.prev(),b.preventDefault()))}),a.fn.mousewheel&&b.mouseWheel&&f.group.length>1&&f.wrap.bind("mousewheel.fb",function(b,c){var d=a(b.target).get(0);(0===d.clientHeight||d.scrollHeight===d.clientHeight&&d.scrollWidth===d.clientWidth)&&(b.preventDefault(),f[c>0?"prev":"next"]())
}))},trigger:function(b){var c,d=f[a.inArray(b,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(d){if(a.isFunction(d[b])&&(c=d[b].apply(d,Array.prototype.slice.call(arguments,1))),c===!1)return!1;d.helpers&&a.each(d.helpers,function(c,e){e&&"undefined"!=typeof f.helpers[c]&&a.isFunction(f.helpers[c][b])&&f.helpers[c][b](e,d)}),a.event.trigger(b+".fb")}},isImage:function(a){return a&&a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(b){var e,g,h,i,c={},d=f.group[b]||null;
return d&&"object"==typeof d&&(d.nodeType||d instanceof a)&&(e=!0,a.metadata&&(c=a(d).metadata())),c=a.extend(!0,{},f.opts,{index:b,element:d},a.isPlainObject(d)?d:c),a.each(["href","title","content","type"],function(b,g){c[g]=f.opts[g]||e&&a(d).attr(g)||c[g]||null}),"number"==typeof c.margin&&(c.margin=[c.margin,c.margin,c.margin,c.margin]),c.modal&&a.extend(!0,c,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),f.coming=c,!1===f.trigger("beforeLoad")?(f.coming=null,void 0):(h=c.type,g=c.href,h||(e&&(i=a(d).data("fancybox-type"),!i&&d.className&&(i=d.className.match(/fancybox\.(\w+)/),h=i?i[1]:null)),!h&&g&&(f.isImage(g)?h="image":f.isSWF(g)?h="swf":g.match(/^#/)&&(h="inline")),h||(h=e?"inline":"html"),c.type=h),"inline"===h||"html"===h?(c.content=c.content||("inline"===h&&g?a(g):a(d)),c.content.length||(h=null)):(c.href=g||d,c.href||(h=null)),c.group=f.group,c.isDom=e,"image"===h?f._loadImage():"ajax"===h?f._loadAjax():h?f._afterLoad():f._error("type"),void 0)
},_error:function(b){f.hideLoading(),a.extend(f.coming,{type:"html",autoSize:!0,minHeight:0,hasError:b,content:f.coming.tpl.error}),f._afterLoad()},_loadImage:function(){f.imgPreload=new Image,f.imgPreload.onload=function(){this.onload=this.onerror=null,f.coming.width=this.width,f.coming.height=this.height,f._afterLoad()},f.imgPreload.onerror=function(){this.onload=this.onerror=null,f._error("image")},f.imgPreload.src=f.coming.href,f.imgPreload.width||f.showLoading()},_loadAjax:function(){f.showLoading(),f.ajaxLoad=a.ajax(a.extend({},f.coming.ajax,{url:f.coming.href,error:function(a,b){"abort"!==b?f._error("ajax",a):f.hideLoading()
},success:function(a,b){"success"===b&&(f.coming.content=a,f._afterLoad())}}))},_preload:function(){var b=f.group,c=f.current.index;b.length>1&&((new Image).src=a(b[c+1]||b[0]).attr("href"),(new Image).src=a(b[c-1]||b[b.length-1]).attr("href"))},_afterLoad:function(){return f.hideLoading(),f.coming&&!1!==f.trigger("afterLoad",f.current)?(f.isOpened?(a(".fancybox-item").remove(),f.wrap.stop(!0).removeClass("fancybox-opened"),f.inner.css("overflow","hidden"),f.transitions[f.current.prevMethod]()):(a(".fancybox-wrap").stop().trigger("onReset").remove(),f.trigger("afterClose")),f.unbindEvents(),f.isOpen=!1,f.current=f.coming,f.coming=!1,f.wrap=a(f.current.tpl.wrap).addClass("fancybox-tmp "+f.current.wrapCSS).appendTo("body"),f.outer=a(".fancybox-outer",f.wrap).css("padding",f.current.padding+"px"),f.inner=a(".fancybox-inner",f.wrap),f._setContent(),void 0):(f.coming=!1,void 0)
},_setContent:function(){var b,c,e=f.current,g=e.type;switch(g){case"inline":case"ajax":case"html":b=e.content,"inline"===g&&b instanceof a&&(b=b.show().detach(),b.parent().hasClass("fancybox-inner")&&b.parents(".fancybox-wrap").trigger("onReset").remove(),a(f.wrap).bind("onReset",function(){b.appendTo("body").hide()})),e.autoSize&&(c=a('<div class="fancybox-tmp"></div>').appendTo("body").append(b),e.width=c.width(),e.height=c.height(),c.width(f.current.width),c.height()>e.height&&(c.width(e.width+1),e.width=c.width(),e.height=c.height()),b=c.contents().detach(),c.remove());
break;case"image":b=e.tpl.image.replace("{href}",e.href),e.aspectRatio=!0;break;case"swf":b=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href)}if("iframe"===g){if(b=a(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr({scrolling:e.scrolling,src:e.href}).appendTo(f.inner),e.scrolling="auto",e.autoSize)return f.wrap.width(e.width),f.showLoading(),b.data("ready",!1).bind("load",function(){var c,b=a(this);try{this.contentWindow.document.location&&(c=b.contents().find("body").height()+12,b.height(c))
}catch(d){e.autoSize=!1}b.data("ready")===!1?(f.hideLoading(),c&&(f.current.height=c),f._beforeShow(),b.data("ready",!0)):c&&f.update()}),void 0}else("image"===g||"swf"===g)&&(e.autoSize=!1,e.scrolling="visible"),f.inner.append(b);f._beforeShow()},_beforeShow:function(){f.trigger("beforeShow"),f._setDimension(),f.wrap.hide().removeClass("fancybox-tmp"),f.bindEvents(),f._preload(),f.transitions[f.isOpened?f.current.nextMethod:f.current.openMethod]()},_setDimension:function(){var p,q,r,b=f.wrap,c=f.outer,d=f.inner,e=f.current,g=f.getViewport(),h=e.margin,i=2*e.padding,j=e.width,k=e.height,l=e.maxWidth,m=e.maxHeight,n=e.minWidth,o=e.minHeight;
if(g.w-=h[1]+h[3],g.h-=h[0]+h[2],j.toString().indexOf("%")>-1&&(j=(g.w-i)*parseFloat(j)/100),k.toString().indexOf("%")>-1&&(k=(g.h-i)*parseFloat(k)/100),p=j/k,j+=i,k+=i,e.fitToView&&(l=Math.min(g.w,l),m=Math.min(g.h,m)),n=Math.min(j,n),o=Math.min(k,o),l=Math.max(n,l),m=Math.max(o,m),e.aspectRatio?(j>l&&(j=l,k=(j-i)/p+i),k>m&&(k=m,j=(k-i)*p+i),n>j&&(j=n,k=(j-i)/p+i),o>k&&(k=o,j=(k-i)*p+i)):(j=Math.max(n,Math.min(j,l)),k=Math.max(o,Math.min(k,m))),j=Math.round(j),k=Math.round(k),a(b.add(c).add(d)).width("auto").height("auto"),d.width(j-i).height(k-i),b.width(j),q=b.height(),j>l||q>m)for(;(j>l||q>m)&&j>n&&q>o;)k-=10,e.aspectRatio?(j=Math.round((k-i)*p+i),n>j&&(j=n,k=(j-i)/p+i)):j-=10,d.width(j-i).height(k-i),b.width(j),q=b.height();
e.dim={width:j,height:q},e.canGrow=e.autoSize&&k>o&&m>k,e.canShrink=!1,e.canExpand=!1,j-i<e.width||k-i<e.height?e.canExpand=!0:(j>g.w||q>g.h)&&j>n&&k>o&&(e.canShrink=!0),r=q-i,f.innerSpace=r-d.height(),f.outerSpace=r-c.height()},_getPosition:function(a){var b=f.current,c=f.getViewport(),d=b.margin,e=f.wrap.width()+d[1]+d[3],g=f.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0]+c.y,left:d[3]+c.x};return b.fixed&&(!a||a[0]===!1)&&g<=c.h&&e<=c.w&&(h={position:"fixed",top:d[0],left:d[3]}),h.top=Math.ceil(Math.max(h.top,h.top+(c.h-g)*b.topRatio))+"px",h.left=Math.ceil(Math.max(h.left,h.left+.5*(c.w-e)))+"px",h
},_afterZoomIn:function(){var b=f.current,c=b.scrolling;f.isOpen=f.isOpened=!0,f.wrap.addClass("fancybox-opened").css("overflow","visible"),f.update(),f.inner.css("overflow","yes"===c?"scroll":"no"===c?"hidden":c),(b.closeClick||b.nextClick)&&f.inner.css("cursor","pointer").bind("click.fb",b.nextClick?f.next:f.close),b.closeBtn&&a(b.tpl.closeBtn).appendTo(f.wrap).bind("click.fb",f.close),b.arrows&&f.group.length>1&&((b.loop||b.index>0)&&a(b.tpl.prev).appendTo(f.wrap).bind("click.fb",f.prev),(b.loop||b.index<f.group.length-1)&&a(b.tpl.next).appendTo(f.wrap).bind("click.fb",f.next)),f.trigger("afterShow"),f.opts.autoPlay&&!f.player.isActive&&(f.opts.autoPlay=!1,f.play())
},_afterZoomOut:function(){f.trigger("afterClose"),f.wrap.trigger("onReset").remove(),a.extend(f,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}}),f.transitions={getOrigPosition:function(){var j,b=f.current,c=b.element,d=b.padding,e=a(b.orig),g={},h=50,i=50;return!e.length&&b.isDom&&a(c).is(":visible")&&(e=a(c).find("img:first"),e.length||(e=a(c))),e.length?(g=e.offset(),e.is("img")&&(h=e.outerWidth(),i=e.outerHeight())):(j=f.getViewport(),g.top=j.y+.5*(j.h-i),g.left=j.x+.5*(j.w-h)),g={top:Math.ceil(g.top-d)+"px",left:Math.ceil(g.left-d)+"px",width:Math.ceil(h+2*d)+"px",height:Math.ceil(i+2*d)+"px"}
},step:function(a,b){var c,d,e;("width"===b.prop||"height"===b.prop)&&(d=e=Math.ceil(a-2*f.current.padding),"height"===b.prop&&(c=(a-b.start)/(b.end-b.start),b.start>b.end&&(c=1-c),d-=f.innerSpace*c,e-=f.outerSpace*c),f.inner[b.prop](d),f.outer[b.prop](e))},zoomIn:function(){var d,e,b=f.wrap,c=f.current,g=c.dim;"elastic"===c.openEffect?(e=a.extend({},g,f._getPosition(!0)),delete e.position,d=this.getOrigPosition(),c.openOpacity&&(d.opacity=0,e.opacity=1),f.outer.add(f.inner).width("auto").height("auto"),b.css(d).show().animate(e,{duration:c.openSpeed,easing:c.openEasing,step:this.step,complete:f._afterZoomIn})):(b.css(a.extend({},g,f._getPosition())),"fade"===c.openEffect?b.fadeIn(c.openSpeed,f._afterZoomIn):(b.show(),f._afterZoomIn()))
},zoomOut:function(){var c,a=f.wrap,b=f.current;"elastic"===b.closeEffect?("fixed"===a.css("position")&&a.css(f._getPosition(!0)),c=this.getOrigPosition(),b.closeOpacity&&(c.opacity=0),a.animate(c,{duration:b.closeSpeed,easing:b.closeEasing,step:this.step,complete:f._afterZoomOut})):a.fadeOut("fade"===b.closeEffect?b.closeSpeed:0,f._afterZoomOut)},changeIn:function(){var c,a=f.wrap,b=f.current;"elastic"===b.nextEffect?(c=f._getPosition(!0),c.opacity=0,c.top=parseInt(c.top,10)-200+"px",a.css(c).show().animate({opacity:1,top:"+=200px"},{duration:b.nextSpeed,complete:f._afterZoomIn})):(a.css(f._getPosition()),"fade"===b.nextEffect?a.hide().fadeIn(b.nextSpeed,f._afterZoomIn):(a.show(),f._afterZoomIn()))
},changeOut:function(){var b=f.wrap,c=f.current,d=function(){a(this).trigger("onReset").remove()};b.removeClass("fancybox-opened"),"elastic"===c.prevEffect?b.animate({opacity:0,top:"+=200px"},{duration:c.prevSpeed,complete:d}):b.fadeOut("fade"===c.prevEffect?c.prevSpeed:0,d)}},f.helpers.overlay={overlay:null,update:function(){var b,f,g;this.overlay.width(0).height(0),a.browser.msie?(f=Math.max(c.documentElement.scrollWidth,c.body.scrollWidth),g=Math.max(c.documentElement.offsetWidth,c.body.offsetWidth),b=g>f?d.width():f):b=e.width(),this.overlay.width(b).height(e.height())
},beforeShow:function(b){this.overlay||(b=a.extend(!0,{speedIn:"fast",closeClick:!0,opacity:1,css:{background:"black"}},b),this.overlay=a('<div id="fancybox-overlay"></div>').css(b.css).appendTo("body"),this.update(),b.closeClick&&this.overlay.bind("click.fb",f.close),d.bind("resize.fb",a.proxy(this.update,this)),this.overlay.fadeTo(b.speedIn,b.opacity))},onUpdate:function(){this.update()},afterClose:function(b){this.overlay&&this.overlay.fadeOut(b.speedOut||0,function(){a(this).remove()}),this.overlay=null}},f.helpers.title={beforeShow:function(b){var c,d=f.current.title;
d&&(c=a('<div class="fancybox-title fancybox-title-'+b.type+'-wrap">'+d+"</div>").appendTo("body"),"float"===b.type&&(c.width(c.width()),c.wrapInner('<span class="child"></span>'),f.current.margin[2]+=Math.abs(parseInt(c.css("margin-bottom"),10))),c.appendTo("over"===b.type?f.inner:"outside"===b.type?f.wrap:f.outer))}},a.fn.fancybox=function(b){var g,c=a(this),d=this.selector||"",h=function(e){var h=this,i="rel",j=h[i],k=g;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault(),j||(i="data-fancybox-group",j=a(h).attr("data-fancybox-group")),j&&""!==j&&"nofollow"!==j&&(h=d.length?a(d):c,h=h.filter("["+i+'="'+j+'"]'),k=h.index(this)),b.index=k,f.open(h,b))
};return b=b||{},g=b.index||0,d?e.undelegate(d,"click.fb-start").delegate(d,"click.fb-start",h):c.unbind("click.fb-start").bind("click.fb-start",h),this}}(window,document)};c(),b.resolveWith(c)};FD31.module("fancybox",a)}(),function(){var a=function(a){var b=this,c=function(){a.bookmarklet=function(b,c,d,e){var f=this[c].call(a(b),d);f.attachEvent&&!a.browser.opera?f.attachEvent("onreadystatechange",e):f.addEventListener("load",e,!1)},a.fn.bookmarklet=function(b,c,d){var e=this,b=b,c=c,d=d;a(document).ready(function(){a.bookmarklet[b].call(e,c,d)
})},a.bookmarklet.tweetMeme=function(b){var c=this[0],d=c.parentNode,e=document.createElement("iframe");switch(b.url=b.url.replace(/\+/g,"%2b"),b.style){case"compact":var f=20,g=90;break;default:var f=61,g=50}var h="http://api.tweetmeme.com/button.js?"+a.param(b);if(document&&document.referrer){var i=document.referrer;i&&(h+="&o="+escape(i))}return d.insertBefore(e,c),d.removeChild(c),a(e).attr({src:h,width:g,height:f,frameborder:0,scrolling:"no"}),e},a.bookmarklet.linkedIn=function(b){var c=this[0],d=c.parentNode,e=document.createElement("script"),f=document.createElement("script");
return a(e).attr({type:"in/share","data-url":b.url,"data-counter":b.counter}),d.insertBefore(e,c),d.insertBefore(f,c),d.removeChild(c),a(f).attr({type:"text/javascript",src:"https://platform.linkedin.com/in.js"}),f},a.bookmarklet.digg=function(b){var c=this[0],d=c.parentNode,e=document.createElement("a"),f=document.createElement("script");return a(e).addClass("DiggThisButton").addClass(b.classname).attr({href:"https://digg.com/submit?url="+b.url+"&title="+b.title}),d.insertBefore(e,c),d.insertBefore(f,c),d.removeChild(c),a(f).attr({type:"text/javascript",async:"true",src:"http://widgets.digg.com/buttons.js"}),f
},a.bookmarklet.stumbleUpon=function(b){var c=this[0],d=c.parentNode,e=document.createElement("su:badge"),f=document.createElement("script");return a(e).attr({layout:b.layout,location:b.url}),d.insertBefore(e,c),d.insertBefore(f,c),d.removeChild(c),a(f).attr({type:"text/javascript",src:"https://platform.stumbleupon.com/1/widgets.js"}),f},a.bookmarklet.twitter=function(b){var c=this[0],d=c.parentNode,e=document.createElement("a"),f=document.createElement("script");return a(e).attr({"class":"twitter-share-button",href:"https://twitter.com/share","data-url":b.url,"data-counturl":b.url,"data-count":b.count,"data-via":b.via,"data-text":b.text}).html("Tweet"),d.insertBefore(e,c),d.insertBefore(f,c),d.removeChild(c),a(f).attr({type:"text/javascript",src:"https://platform.twitter.com/widgets.js"}),f
};var b,c;a.bookmarklet.googlePlusOne=function(d){var e=this[0],f=e.parentNode,g=document.createElement("g:plusone");return a(g).attr({size:d.size,href:d.href}),f.insertBefore(g,e),f.removeChild(e),b?gapi&&gapi.plusone&&gapi.plusone.go(f):(clearTimeout(c),c=setTimeout(function(){var a=document.getElementsByTagName("head")[0],c=document.createElement("script");a.appendChild(c),c.type="text/javascript",c.src="//apis.google.com/js/plusone.js",b=!0},1e3)),e};var e,f,g=function(){clearTimeout(f),f=setTimeout(function(){try{FB.XFBML.parse()
}catch(a){}},1e3)};a.bookmarklet.facebookLike=function(b){var c=this[0],d=c.parentNode,f=document.createElement("fb:like");if(a(f).attr({"class":"fb-like","data-href":b.url,"data-send":b.send,"data-layout":b.layout,"data-action":b.verb,"data-locale":b.locale,"data-colorscheme":b.theme,"data-show-faces":b.faces,"data-width":b.width}).css({height:b.height,width:b.width}),d.insertBefore(f,c),d.removeChild(c),window.FB)g();else{document.getElementById("fb-root")||a("<div id='fb-root'></div>").prependTo("body");var h=document.getElementById("facebook-jssdk");
if(h){if(!e){if(!/xfbml/.test(h.src)){var k=window.fbAsyncInit;window.fbAsyncInit=function(){a.isFunction(k)&&k(),g()}}e=!0}}else{var i=document.getElementsByTagName("head")[0],j=document.createElement("script");i.appendChild(j),j.id="facebook-jssdk",j.src="//connect.facebook.net/"+b.locale+"/all.js#xfbml=1"}}return c},a.bookmarklet.pinterest=function(b){var c=this[0],d=c.parentNode,e=document.createElement("a"),f=document.createElement("script");return a(e).attr({"class":"pin-it-button",href:"http://pinterest.com/pin/create/button/?url="+b.url+"&media="+b.media+"&description="+b.title,"count-layout":b.style}).html("Pin It"),d.insertBefore(e,c),d.insertBefore(f,c),d.removeChild(c),a(f).attr({type:"text/javascript",src:"https://assets.pinterest.com/js/pinit.js"}),f
}};c(),b.resolveWith(c)};FD31.module("bookmarklet",a)}(),function(){var a=function(a){var b=this,c=function(){a.fn.checked=function(b,c){return arguments.length<1?this.is(":checked"):(this.each(function(){var e=a(this);return"boolean"==typeof b?(e.attr("checked",b).prop("checked",b).trigger("change"),void 0):((e.is("input[type=checkbox]")||e.is("input[type=radio]"))&&e.unbind("change.checked").bind("change.checked",function(){try{return e.is(":checked")?b.apply(e):c.apply(e)}catch(a){}}),void 0)}),this)}};c(),b.resolveWith(c)
};FD31.module("checked",a)}(),function(){var a=function(a){var b=this,c=function(){a.fn.checkList=function(b){var c={checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},b=a.extend({},c,b),d=this,e=d.find(b.checkbox),f=d.find(b.masterCheckbox),g=!1,h=function(){if(!g){var a=e.filter(":checked"),c=e.not(":checked");a.length<1&&f.removeAttr("checked"),a.length==e.length&&f.prop("checked",!0),b.change.call(d,a,c)}};return e.checked(function(){b.check.apply(d),h()
},function(){b.uncheck.apply(d),h()}),f.checked(function(){g=!0,e.checked(!0),g=!1,h()},function(){g=!0,e.checked(!1),g=!1,h()}),h(),this}};c(),b.resolveWith(c)};FD31.module("checkList",a)}(),function(){var a=function(a){var b=this,c=a;a.require().script("ui/core","ui/widget","ui/position","ui/menu").done(function(){var a=function(){!function(a){var c=0;a.widget("ui.autocomplete",{version:"1.10.4pre",defaultElement:"<input>",options:{appendTo:"#fd_.ui",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;
this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,c=!0,void 0;b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);
break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault(),void 0;if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);
break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur
});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)}),void 0;var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)
},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")
}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b
},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))
},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()
},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();
this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)
},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[a](b),void 0):(this.search(null,b),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")
},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))
}})}(c),function(a){function d(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(b){return d.test(a("<div>").html(b.label||b.value||b).text())})}var b=a.ui.autocomplete.prototype,c=b._initSource;a.extend(b,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(a,b){b(d(this.options.source,a.term))}:c.call(this)},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>")[this.options.html?"html":"text"](c.label)).appendTo(b)
}})}(c)};a(),b.resolveWith(a)})};FD31.module("ui/autocomplete",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){function e(b,c){var d,e,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(g=a("img[usemap=#"+e+"]")[0],!!g&&f(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&f(b)}function f(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")
}).length}var c=0,d=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4pre",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)
}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b
},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var e,f,d=a(this[0]);d.length&&d[0]!==document;){if(e=d.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&0!==f))return f;d=d.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)
}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),d=isNaN(c);return(d||c>=0)&&e(b,!d)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===d?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};
a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)
}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])
},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}}),a(function(){a("body > #fd_.ui").length>0||a(document.createElement("div")).attr("id","fd_").addClass("ui").css({position:"absolute",top:0,left:0,overflow:"visible",width:0,height:0}).appendTo("body")
})}(c)};d(),b.resolveWith(d)};FD31.module("ui/core",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var d,c=0;null!=(d=b[c]);c++)try{a(d).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new g(a,b)
},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var f,b=this._super,c=this._superApply;return this._super=a,this._superApply=e,f=d.apply(this,arguments),this._super=b,this._superApply=c,f}}(),void 0):(i[b]=d,void 0)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;
a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var h,i,e=d.call(arguments,1),f=0,g=e.length;g>f;f++)for(h in e[f])i=e[f][h],e[f].hasOwnProperty(h)&&i!==b&&(c[h]=a.isPlainObject(i)?a.isPlainObject(c[h])?a.widget.extend({},c[h],i):a.widget.extend({},i):i);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;
return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()
}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")
},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var f,g,h,e=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(e={},f=c.split("."),c=f.shift(),f.length){for(g=e[c]=a.widget.extend({},this.options[c]),h=0;h<f.length-1;h++)g[f[h]]=g[f[h]]||{},g=g[f[h]];if(c=f.pop(),d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}return this._setOptions(e),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);
return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0
}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")
},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);
return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()
})}})}(c)};d(),b.resolveWith(d)};FD31.module("ui/widget",a)}(),function(){var a=function(a){var b=this,c=a;a.require().script("ui/widget").done(function(){var a=function(){!function(a){a.widget("ui.menu",{version:"1.10.4pre",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()
},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))
},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1
}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);
b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function i(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,d,e,f,g,h=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);
break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:h=!1,d=this.previousFilter||"",e=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,g=new RegExp("^"+i(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())
}),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),g=new RegExp("^"+i(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),c.length?(this.focus(b,c),c.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))
},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);
/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()
},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))
},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)
},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);
b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;
this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(b),void 0)
},previousPage:function(b){var c,d,e;return this.active?(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(b),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");
var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(c)};a(),b.resolveWith(a)})};FD31.module("ui/menu",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){c.easing.jswing=c.easing.swing,c.extend(c.easing,{def:"easeOutQuad",swing:function(a,b,d,e,f){return c.easing[c.easing.def](a,b,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c
},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c
},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c
},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;
if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c
},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,d,e,f){return e-c.easing.easeOutBounce(a,f-b,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c
},easeInOutBounce:function(a,b,d,e,f){return f/2>b?.5*c.easing.easeInBounce(a,2*b,0,e,f)+d:.5*c.easing.easeOutBounce(a,2*b-f,0,e,f)+.5*e+d}})};d(),b.resolveWith(d)};FD31.module("easing",a)}(),function(){var a=function(a){var b=this,c=a,d=function(){!function(a){function c(a){return"object"==typeof a?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},b.window=function(){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);
if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},b.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over),this._scrollable().each(function(){function m(a){h.animate(k,e,f.easing,a&&function(){a.call(this,d,f)
})}if(null!=d){var j,g=this,h=a(g),i=d,k={},l=h.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}if(i=a(i,this),!i.length)return;case"object":(i.is||i.style)&&(j=(i=a(i)).offset())}a.each(f.axis.split(""),function(a,c){var d="x"==c?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=g[n],p=b.max(g,c);if(j)k[n]=j[e]+(l?0:o-h.offset()[e]),f.margin&&(k[n]-=parseInt(i.css("margin"+d))||0,k[n]-=parseInt(i.css("border"+d+"Width"))||0),k[n]+=f.offset[e]||0,f.over[e]&&(k[n]+=i["x"==c?"width":"height"]()*f.over[e]);
else{var q=i[e];k[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(k[n])&&(k[n]=k[n]<=0?0:Math.min(k[n],p)),!a&&f.queue&&(o!=k[n]&&m(f.onAfterFirst),delete k[n])}),m(f.onAfter)}}).end()},a.fn.scrollIntoView=function(b){var b=a(b);if(!(b.length<1)){var c=this.offset(),d=this.height(),e=c.top,f=e+d,g=b.offset(),h=b.height(),i=g.top,j=i+h;return j>f?this.scrollTo(b):e>i?this.scrollTo(b,{offset:-1*(d-h)}):void 0}},b.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();
var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(c)};d(),b.resolveWith(d)};FD31.module("scrollTo",a)}(),function(){var a=function(a){var b=this,c=a;a.require().script("ui/core","ui/widget").done(function(){var a=function(){!function(a){a.widget("ui.stars",{_create:function(){function e(a,d){if(-1!=a){var e=d?c.starHoverClass:c.starOnClass,g=d?c.starOnClass:c.starHoverClass;b.$stars.eq(a).prevAll("."+c.starClass).andSelf().removeClass(g).addClass(e),b.$stars.eq(a).nextAll("."+c.starClass).removeClass(c.starHoverClass+" "+c.starOnClass),b._showCap(c.id2title[a])
}else f()}function f(){b.$stars.removeClass(c.starOnClass+" "+c.starHoverClass),b._showCap("")}var b=this,c=this.options,d=0;c.isSelect="select"==c.inputType,this.$form=a(this.element).closest("form"),this.$selec=c.isSelect?a("select",this.element):null,this.$rboxs=c.isSelect?a("option",this.$selec):a(":radio",this.element),this.$stars=this.$rboxs.map(function(e){var f={value:this.value,title:(c.isSelect?this.text:this.title)||this.value,isDefault:c.isSelect&&this.defaultSelected||this.defaultChecked};if(0==e&&(c.split="number"!=typeof c.split?0:c.split,c.val2id=[],c.id2val=[],c.id2title=[],c.name=c.isSelect?b.$selec.get(0).name:this.name,c.disabled=c.disabled||(c.isSelect?a(b.$selec).attr("disabled"):a(this).attr("disabled"))),f.value==c.cancelValue)return c.cancelTitle=f.title,null;
c.val2id[f.value]=d,c.id2val[d]=f.value,c.id2title[d]=f.title,f.isDefault&&(c.checked=d,c.value=c.defaultValue=f.value,c.title=f.title);var g=a("<div/>").addClass(c.starClass),h=a("<a/>").attr("title",c.showTitles?f.title:"").text(f.value);if(c.split){var i=d%c.split,j=Math.floor(c.starWidth/c.split);g.width(j),h.css("margin-left","-"+i*j+"px")}return d++,g.append(h).get(0)}),c.items=d,c.isSelect?this.$selec.remove():this.$rboxs.remove(),this.$cancel=a("<div/>").addClass(c.cancelClass).append(a("<a/>").attr("title",c.showTitles?c.cancelTitle:"").text(c.cancelValue)),c.cancelShow&=!c.disabled&&!c.oneVoteOnly,c.cancelShow&&this.element.append(this.$cancel),this.element.append(this.$stars),void 0===c.checked&&(c.checked=-1,c.value=c.defaultValue=c.cancelValue,c.title=""),this.$value=a('<input type="hidden" name="'+c.name+'" value="'+c.value+'" />'),this.element.append(this.$value),this.$stars.bind("click.stars",function(a){if(!c.forceSelect&&c.disabled)return!1;
var d=b.$stars.index(this);c.checked=d,c.value=c.id2val[d],c.title=c.id2title[d],b.$value.attr({disabled:c.disabled?"disabled":"",value:c.value}),e(d,!1),b._disableCancel(),!c.forceSelect&&b.callback(a,"star")}).bind("mouseover.stars",function(){if(c.disabled)return!1;var a=b.$stars.index(this);e(a,!0)}).bind("mouseout.stars",function(){return c.disabled?!1:(e(b.options.checked,!1),void 0)}),this.$cancel.bind("click.stars",function(a){return c.forceSelect||!c.disabled&&c.value!=c.cancelValue?(c.checked=-1,c.value=c.cancelValue,c.title="",b.$value.val(c.value).attr({disabled:"disabled"}),f(),b._disableCancel(),!c.forceSelect&&b.callback(a,"cancel"),void 0):!1
}).bind("mouseover.stars",function(){return b._disableCancel()?!1:(b.$cancel.addClass(c.cancelHoverClass),f(),b._showCap(c.cancelTitle),void 0)}).bind("mouseout.stars",function(){return b._disableCancel()?!1:(b.$cancel.removeClass(c.cancelHoverClass),b.$stars.triggerHandler("mouseout.stars"),void 0)}),this.$form.bind("reset.stars",function(){!c.disabled&&b.select(c.defaultValue)}),a(window).unload(function(){b.$cancel.unbind(".stars"),b.$stars.unbind(".stars"),b.$form.unbind(".stars"),b.$selec=b.$rboxs=b.$stars=b.$value=b.$cancel=b.$form=null
}),this.select(c.value),c.disabled&&this.disable()},_disableCancel:function(){var a=this.options,b=a.disabled||a.oneVoteOnly||a.value==a.cancelValue;return b?this.$cancel.removeClass(a.cancelHoverClass).addClass(a.cancelDisabledClass):this.$cancel.removeClass(a.cancelDisabledClass),this.$cancel.css("opacity",b?.5:1),b},_disableAll:function(){var a=this.options;this._disableCancel(),a.disabled?this.$stars.filter("div").addClass(a.starDisabledClass):this.$stars.filter("div").removeClass(a.starDisabledClass)},_showCap:function(a){var b=this.options;
b.captionEl&&b.captionEl.text(a)},value:function(){return this.options.value},select:function(a){var b=this.options,c=a==b.cancelValue?this.$cancel:this.$stars.eq(b.val2id[a]);b.forceSelect=!0,c.triggerHandler("click.stars"),b.forceSelect=!1},selectID:function(a){var b=this.options,c=-1==a?this.$cancel:this.$stars.eq(a);b.forceSelect=!0,c.triggerHandler("click.stars"),b.forceSelect=!1},enable:function(){this.options.disabled=!1,this._disableAll()},disable:function(){this.options.disabled=!0,this._disableAll()
},destroy:function(){this.options.isSelect?this.$selec.appendTo(this.element):this.$rboxs.appendTo(this.element),this.$form.unbind(".stars"),this.$cancel.unbind(".stars").remove(),this.$stars.unbind(".stars").remove(),this.$value.remove(),this.element.unbind(".stars").removeData("stars")},callback:function(a,b){var c=this.options;c.callback&&c.callback(this,b,c.value,a),c.oneVoteOnly&&!c.disabled&&this.disable()}}),a.extend(a.ui.stars.prototype,{version:"2.1.1",options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"}})
}(c)};a(),b.resolveWith(a)})};FD31.module("ui/stars",a)}()}),FD31.installer("EasyBlog","definitions",function(a){a.module(["easyblog/admin","easyblog/dashboard","easyblog/dashboard/blogimage","easyblog/dashboard/editor","easyblog/dashboard/medialink","easyblog/easyblog","easyblog/layout/responsive","easyblog/layout/lightbox","easyblog/legacy","easyblog/featured","easyblog/location","easyblog/media","easyblog/media/navigation","easyblog/media/uploader","easyblog/media/browser","easyblog/media/browser.item","easyblog/media/editor","easyblog/","easyblog/media/constrain","easyblog/media/editor.audio","easyblog/media/editor.file","easyblog/media/editor.image","easyblog/media/editor.video","easyblog/media/uploader.item","easyblog/ratings","easyblog/tag"]),a.require.template.loader(["easyblog/media/recent.item","easyblog/media/browser","easyblog/media/browser.item-group","easyblog/media/browser.item","easyblog/media/browser.tree-item-group","easyblog/media/browser.tree-item","easyblog/media/browser.pagination-page","easyblog/media/browser.uploader","easyblog/media/browser.uploader.item","easyblog/media/editor","easyblog/media/editor.viewport","easyblog/media/navigation.item","easyblog/media/navigation.itemgroup","easyblog/media/editor.audio","easyblog/media/editor.audio.player","easyblog/media/editor.file","easyblog/media/editor.file.preview","easyblog/media/editor.image","easyblog/media/editor.image.variation","easyblog/media/editor.image.caption","easyblog/media/editor.video","easyblog/media/editor.video.player","easyblog/dashboard/dashboard.tags.item"]),a.require.language.loader(["COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER","COM_EASYBLOG_MM_GETTING_IMAGE_SIZES","COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS","COM_EASYBLOG_MM_ITEM_INSERTED","COM_EASYBLOG_MM_UPLOADING","COM_EASYBLOG_MM_UPLOADING_STATE","COM_EASYBLOG_MM_UPLOADING_PENDING","COM_EASYBLOG_MM_UPLOAD_COMPLETE","COM_EASYBLOG_MM_UPLOAD_PREPARING","COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE","COM_EASYBLOG_MM_UPLOADING_LEFT","COM_EASYBLOG_MM_CONFIRM_DELETE_ITEM","COM_EASYBLOG_MM_CANCEL_BUTTON","COM_EASYBLOG_MM_YES_BUTTON","COM_EASYBLOG_MM_ITEM_DELETE_CONFIRMATION"]),function(){var b=["easyblog/fancybox/default"],c=a.stylesheet({content:""})?"resolve":"reject";
a.each(b,function(b,d){a.require.stylesheet.loader(d)[c]()})}()}),FD31.installer("EasyBlog","scripts",function($){EasyBlog.module("admin",function(a){var b=this,c=window.admin={blog:{reject:function(a){ejax.load("Pending","confirmRejectBlog",a)},approve:function(a,b){confirm(b)&&(window.location=eblog_site+"&c=pending&task=approve&cid[]="+a)}},settings:{importSettings:function(){ejax.load("settings","import")}},checkbox:{init:function(){a(".option-enable").click(function(){var b=a(this).parent();a(".option-disable",b).removeClass("selected"),a(this).addClass("selected"),a(".radiobox",b).attr("value",1)
}),a(".option-disable").click(function(){var b=a(this).parent();a(".option-enable",b).removeClass("selected"),a(this).addClass("selected"),a(".radiobox",b).attr("value",0)})}},pending:{reject:function(){}},spools:{preview:function(a){ejax.load("Spools","preview",a)}},teamblog:{markAdmin:function(a,b,c){window.location=eblog_site+"&c=teamblogs&task=markAdmin&teamid="+a+"&userid="+b+"&"+c+"=1"},removeAdmin:function(a,b){window.location=eblog_site+"&c=teamblogs&task=removeAdmin&teamid="+a+"&userid="+b+"&"+token+"=1"
}}};a(function(){var b=a("#submenu").attr("class");if(a("#submenu li").eq(4).length>0&&"settings"!=b&&ejax.load("Easyblog","appendPending"),a("#system-message").length>0&&0==a(".eb-bootstrap").length){var d=a("#system-message").html();a("#system-message").remove(),a('<dl id="system-message">'+d+"</dl>").insertAfter("#toolbar-box")}a("body #settingsForm .admintable tr:odd").addClass("tr-odd"),a(".admintable tr").hover(function(){a(this).addClass("tr-hover")},function(){a(this).removeClass("tr-hover")}),c.checkbox.init()
}),b.resolve()}),EasyBlog.module("dashboard",function(){var b=this;EasyBlog.Controller("Dashboard",{defaultOptions:function(){}},function(a){return{init:function(){EasyBlog.dashboard=a},registerPlugin:function(b,c){void 0===a[b]&&(a[b]=c)}}}),b.resolve()}),EasyBlog.module("dashboard/blogimage",function(a){var b=this;EasyBlog.require().library("image").done(function(){EasyBlog.Controller("Dashboard.BlogImage",{defaultOptions:{"{placeHolder}":".blogImagePlaceHolder","{imageData}":".imageData","{image}":".image","{selectBlogImageButton}":".selectBlogImage","{removeBlogImageButton}":".removeBlogImage"}},function(b){return{init:function(){EasyBlog.dashboard.registerPlugin("blogImage",b);
var c=a.trim(b.imageData().val());c&&b.setImage(a.parseJSON(c))},"{selectBlogImageButton} click":function(){EasyBlog.mediaManager.browse(null,"blogimage")},"{removeBlogImageButton} click":function(a){b.removeImage(),a.blur()},removeImage:function(){b.image().remove(),b.element.addClass("empty"),b.imageData().val("")},setImage:function(c){if(c){b.removeImage(),b.element.addClass("loading"),clearTimeout(b.imageTimer);var c=a.extend({},c);delete c.data,a.Image.get(c.thumbnail.url).done(function(d){var e=function(){var c=b.placeHolder();
maxWidth=c.width(),maxHeight=c.height();var e=a.Image.resizeWithin(d.data("width"),d.data("height"),maxWidth,maxHeight);return e.top=(maxHeight-e.height)/2,e.left=(maxWidth-e.width)/2,e},f=e(),g=function(){0===f.width||0===f.height?b.imageTimer=setTimeout(function(){f=e(),g()},1e3):d.css(f)};g(),d.addClass("image").css(f).appendTo(b.placeHolder()),b.imageData().val(JSON.stringify(c)),b.element.removeClass("empty")}).fail(function(){b.element.addClass("empty")}).always(function(){b.element.removeClass("loading")
})}}}}),b.resolve()})}),EasyBlog.module("dashboard/editor",function(){var b=this;EasyBlog.Controller("Dashboard.Editor",{defaultOptions:{editorId:"write_content"}},function(a){return{init:function(){EasyBlog.dashboard.registerPlugin("editor",a)},insert:function(b){window.jInsertEditorText(b,a.options.editorId)},content:function(a){return void 0!==a&&window.eblog.editor.setContent(a),window.eblog.editor.getContent()}}}),b.resolve()}),EasyBlog.module("dashboard/medialink",function(){var b=this;EasyBlog.Controller("Dashboard.MediaLink",{defaultOptions:{"{menu}":".ui-togmenu","{content}":".ui-togbox"}},function(a){return{init:function(){},"{menu} click":function(b){var c=b.hasClass("active");
a.menu().removeClass("active"),a.content().removeClass("active"),c||(b.addClass("active"),a.content("."+b.attr("togbox")).addClass("active"))}}}),b.resolve()}),EasyBlog.require().library("ui/position","fancybox","bookmarklet","checked","checkList").script("layout/responsive","layout/lightbox","legacy").done(),EasyBlog.module("layout/responsive",function(a){var b=this;EasyBlog.options.responsive&&a(function(){a("#eblog-wrapper").responsive([{at:818,switchTo:"w768"},{at:600,switchTo:"w768 w600"},{at:500,switchTo:"w768 w600 w320"}])
}),b.resolve()}),EasyBlog.module("layout/lightbox",function(){var b=this;EasyBlog.require().library("fancybox").stylesheet("fancybox/default").script("legacy").done(function(){if(window.eblog_enable_lightbox){var a={showOverlay:!0,centerOnScroll:!0,overlayOpacity:.7};window.eblog_lightbox_title||(a.helpers={title:!1}),window.eblog_lightbox_enforce_size&&(a.maxWidth=window.eblog_lightbox_width,a.maxHeight=window.eblog_lightbox_height),eblog.images.initFancybox("a.easyblog-thumb-preview",a)}eblog.images.initCaption("img.easyblog-image-caption"),b.resolve()
})}),EasyBlog.module("legacy",function($){var module=this;window.isSave=!1;var eblog=window.eblog={stream:{load:function(a){ejax.load("dashboard","loadStream",a)}},login:{toggle:function(){$("#easyblog-search-form").hide().siblings().removeClass("active"),$(".user-options").hide().siblings().removeClass("active"),$("#easyblog-login-form").toggle(),$("#easyblog-login-form").siblings().toggleClass("active")}},report:{show:function(a,b){EasyBlog.ajax("site.views.reports.show",{id:a,type:b},function(a,b){ejax.dialog({title:a,content:b})
})}},search:{toggle:function(){$(".user-options").hide().siblings().removeClass("active"),$("#easyblog-login-form").hide().siblings().removeClass("active"),$("#easyblog-search-form").toggle(),$("#easyblog-search-form").siblings().toggleClass("active")}},toolbar:{dashboard:function(){$("#easyblog-search-form").hide(),$("#easyblog-login-form").hide(),$(".user-options").toggle(),$(".user-options").siblings().toggleClass("active")}},images:{initFancybox:function(a,b){window.eblog_lightbox_strip_extension&&window.eblog_lightbox_title?$(a).each(function(){var a=$(this),c=a.attr("title")||"",d=c.split(".").reverse();
/jpg|png|gif|xcf|odg|bmp|jpeg/.test(d[0].toLowerCase())&&d.splice(0,1),c=d.reverse().join("."),a.fancybox($.extend(!0,{},b,{title:c}))}):$(a).fancybox(b)},initCaption:function(a){$(a).each(function(a,b){var b=$(b).removeClass("easyblog-image-caption");if(!(b.parents(".easyblog-image-caption-container").length>0)){var c=$(b).attr("src"),d=b.parent().hasClass("easyblog-thumb-preview"),e=function(a){var a=a[0],b=!1;return $.each(a.parentNode.childNodes,function(c,d){d==a||$(d).hasClass("easyblog-image-caption")||$(d).hasClass("easyblog-thumb-preview")||(b=!0)
}),b};b.one("load",function(){var a=d?b.parent():b,c=a.css("float");if("none"==c&&(c=b.css("float")),"none"==c){var f=(b.attr("style")||"").split(";"),g={};$.each(f,function(a,b){var c=b.split(":");g[$.trim(c[0])]=$.trim(c[1])}),"auto"==g["margin-left"]&&"auto"==g["margin-right"]&&(c="center")}if("none"==c){var h=b.parent().attr("align");switch((void 0===h||"none"==h)&&(h=b.attr("align")),h){case"left":c="left";break;case"right":c="right";break;case"center":case"middle":c="center"}}/none|center/.test(c)||(c=(e(a)?"float":"align")+c);
var i=$("<span>").addClass("easyblog-image-caption-container orientation-"+c);if("center"==c||"alignright"==c||"alignleft"==c){var j=$("<span>");a.wrap(j),a.parent().wrap(i)}else a.wrap(i);var k=$("<span>").addClass("easyblog-image-caption");k.width(a.outerWidth()).html(b.attr("title")),a.after(k)}).removeAttr("src").attr("src",c)}})}},captcha:{reload:function(){var a=$("#captcha-id").val();ejax.load("entry","reloadCaptcha",a)},reloadImage:function(a,b){$("#captcha-image").attr("src",b),$("#captcha-id").val(a),$("#captcha-response").val("")
}},comments:{edit:function(a){ejax.load("entry","editComment",a)},remove:function(a){ejax.load("entry","deleteComment",a)}},checkbox:{render:function(){$(".option-enable").click(function(){var a=$(this).parent();$(".option-disable",a).removeClass("selected"),$(this).addClass("selected"),$(".radiobox",a).attr("value",1)}),$(".option-disable").click(function(){var a=$(this).parent();$(".option-enable",a).removeClass("selected"),$(this).addClass("selected"),$(".radiobox",a).attr("value",0)})}},categories:{loadMore:function(a){$(a).parent().hide().next(".more-subcategories").show()
}},drafts:{getContent:null,frequency:15e3,chars:0,check:function(){var a=eblog.drafts.getContent();if("undefined"!=typeof a){var b=$("#title").val();(a.length>0||b.length>0&&b!=emptyText)&&ejax.load("dashboard","saveDraft",ejax.getFormVal("#blogForm"),a,""),setTimeout("eblog.drafts.check()",eblog.drafts.frequency)}},save:function(){eblog.editor.toggleSave(),$(window).unbind("beforeunload"),$("#form-task").val("savedraft");var a=eblog.editor.getContent(),b=$("<div>").html(a).html();$("#write_content_hidden").val(b),$("#blogForm").submit()
}},subscription:{show:function(a,b){ejax.load("subscription","showForm",a,b)},submit:function(a){eblog.loader.loading("eblog_loader"),ejax.load("subscription","submitForm",a,ejax.getFormVal("#frmSubscribe"))}},dashboard:{logout:function(){$("#eblog-logout").submit()},changeCollab:function(a){$("#blog_contribute_source").val(a)},changeAuthor:function(a,b){ejax.dialog({width:700,height:500,title:a,content:"",beforeDisplay:function(){var a=$(this);a.find(".dialog-middle").css("padding",0)},afterDisplay:function(){var a=$(this);
$("<iframe>").attr("src",b).css({width:a.find(".dialog-middle").width(),height:a.find(".dialog-middle").height(),border:"none"}).appendTo(a.find(".dialog-middle-content"))}})},changeCategory:function(a,b){ejax.dialog({width:700,height:500,title:a,content:"",beforeDisplay:function(){var a=$(this);a.find(".dialog-middle").css("padding",0)},afterDisplay:function(){var a=$(this);$("<iframe>").attr("src",b).css({width:a.find(".dialog-middle").width(),height:a.find(".dialog-middle").height(),border:"none"}).appendTo(a.find(".dialog-middle-content"))
}})},socialshare:{setActive:function(a){$(a).parent().toggleClass("active")}},drafts:{discard:function(a){ejax.load("dashboard","confirmDeleteDraft",a)},discardAll:function(){ejax.load("dashboard","confirmDeleteAllDraft")}},lists:{init:function(a){$("#dashboard-"+a).checkList({checkbox:".stackSelect",masterCheckbox:".stackSelectAll",change:function(a){this.parent(".ui-list-select").toggleClass("active",a.length>0),$("#select-actions").toggle(a.length>0)}})}},toggle:function(a){"block"==$(a).parent().next().css("display")?($(a).parent().addClass("ui-togbox"),$(a).parent().next().hide()):($(a).parent().removeClass("ui-togbox"),$(a).parent().next().show())
},quickpost:{notify:function(a,b){$("#eblog-message").removeClass("error info success").addClass(a),$("#eblog-message div").html(b),$("#eblog-message").show()},save:function(){eblog.loader.loading("quickpost-loading");var a=ejax.getFormVal("#quick-post");ejax.load("dashboard","save",a)},draft:function(){eblog.loader.loading("quickdraft-loading");var a=$("#eblog-post-content").val();ejax.load("dashboard","quickSaveDraft",ejax.getFormVal("#quick-post"),a,"")}},settings:{submit:function(){return""==$("#password").val()&&""==$("#password2").val()||$("#password").val()==$("#password2").val()?($("#dashboard").submit(),void 0):($(".password-notice").show(),!1)
}},categories:{create:function(){return"block"==$("#widget-create-category").css("display")?$("#widget-create-category").slideUp():$("#widget-create-category").slideDown(),!1},edit:function(a){ejax.load("dashboard","editCategory",a)},remove:function(a,b){ejax.load("dashboard","confirmDeleteCategory",b,a)},quicksave:function(a){ejax.load("dashboard","quickSaveCategory",a)}},comments:{publish:function(a,b){ejax.load("dashboard","publishComment",a,b)},publishModerated:function(a,b){ejax.load("dashboard","publishModerateComment",a,b)
},edit:function(a){ejax.load("dashboard","editComment",a)},remove:function(a,b){ejax.load("dashboard","confirmDeleteComment",b,a)}},action:function(a,b){var c=$("#"+a+"-action").val(),d="#"+a+"-form",e="";if($(d+' INPUT[name="cid[]"]').each(function(){$(this).prop("checked")&&(e=0==e.length?$(this).val():e+","+$(this).val())}),""==e)return eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"),void 0;switch(c){case"copy":ejax.load("dashboard","copyForm",e);break;case"discardDraft":eblog.dashboard.drafts.discard(e);
break;case"publishBlog":eblog.blog.togglePublish(e,"publish");break;case"unpublishBlog":eblog.blog.togglePublish(e,"unpublish");break;case"deleteBlog":eblog.blog.confirmDelete(e,b);break;case"rejectBlog":eblog.editor.reject(e);break;case"unpublishComment":eblog.dashboard.comments.publish(e,"unpublish");break;case"publishComment":eblog.dashboard.comments.publish(e,"publish");break;case"removeComment":eblog.dashboard.comments.remove(b,e,"");break;default:eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING")
}},videos:{insert:function(a){var b=$("#video-source").val(),c=$("#video-width").val(),d=$("#video-height").val(),e='[embed=videolink]{"video":"'+b+'","width":"'+c+'","height":"'+d+'"}[/embed]';jInsertEditorText(e,a),ejax.closedlg()},showForm:function(a){try{IeCursorFix()}catch(b){}ejax.load("dashboard","showVideoForm",a)}},preview:function(a){var b=eblog.drafts.getContent();if("undefined"!=typeof b){var c=$("#eblog-wrapper #title").val();b.length>0&&c.length>0&&c!=emptyText?ejax.call("dashboard","saveDraft",[ejax.getFormVal("#blogForm"),b,""],{success:function(){var b=$("#draft_id").val();
if(""!=b){var c=$.rootPath+"/index.php?option=com_easyblog&view=entry&layout=preview&draftid="+b+"&Itemid="+a,d=screen.width,e=screen.height,f=screen.width/2-d/2,g=screen.height/2-e/2;window.open(c,"","toolbar=no, location=no, directories=no, status=yes, menubar=yes, scrollbars=yes, resizable=yes, copyhistory=no, width="+d+", height="+e+", top="+g+", left="+f)}}}):b.length>0?eblog.system.alert("COM_EASYBLOG_PLEASE_SET_TITLE_BEFORE_PREVIEW","COM_EASYBLOG_ENTRY_PREVIEW_MODE"):eblog.system.alert("COM_EASYBLOG_ENTRY_PREVIEW_MODE_NO_CONTENT","COM_EASYBLOG_ENTRY_PREVIEW_MODE")
}}},editor:{checkPublishStatus:function(){var a=$("#published").val(),b=$("#publish_down").val();return""==b||"0000-00-00 00:00:00"==b?(eblog.editor.postSubmit(),!0):(ejax.load("dashboard","checkPublishStatus",a,b),!0)},cancelSubmit:function(){return isSave=!1,$("#save_post").attr("disabled",""),!1},postSubmit:function(){$(window).unbind("beforeunload"),$("#blogForm").submit()},save:function(){eblog.editor.toggleSave();var a=eblog.editor.getContent(),b=a.split('<hr id="system-readmore" />');if(b.length>1)var c=$.sanitizeHTML(b[0]),d=$.sanitizeHTML(b[1]),e=c+'<hr id="system-readmore" />'+d;
else var e=$.sanitizeHTML(a);$("#write_content_hidden").val(e),$("#save_post_button").addClass("ui-disabled"),$("#save_post_button").attr("disabled","disabled"),eblog.editor.checkPublishStatus()},apply:function(){$("input[name=apply]").val(1),eblog.editor.save()},reject:function(a){ejax.load("Dashboard","confirmRejectBlog",a)},search:{load:function(){try{IeCursorFix()}catch(a){}ejax.load("search","search",$("#search-content").val())},insert:function(a,b,c){var d='<a href="'+a+'">'+b+"</a>";switch(c){case"intro":$("#widget-write-introtext .ui-modhead").hasClass("ui-togbox")?eblog.editor.setIntro(d):jInsertEditorText(d,c);
break;case"write_content":$("#widget-writepost .ui-modhead").hasClass("ui-togbox")?eblog.editor.setContent(d):jInsertEditorText(d,c)}}},setIntro:null,setContent:null,getContent:null,datetimepicker:{element:function(a,b){$("#datetime_"+a).addClass("toggle-active"),$("#datetime_edit_"+a).hide();var c,d,e,f,g,h;eblog.editor.datetimepicker.hideEditLink(a);var c,d,e,f,g,h;if(eblog.editor.datetimepicker.hideEditLink(a),"publish_down"==a&&""==$("#"+a).val()){var i=$("#publish_down_reset").val();$("#"+a).val(i)}if(""!=$("#"+a).val()){var j=$("#"+a).val(),k=j.split(" "),l=k[1].split(":"),m=k[0].split("-");
c=m[2],d=m[1],e=m[0],f=l[0],g=l[1]}else today=new Date,c=today.getDate(),d=today.getMonth()+1,e=today.getFullYear(),f=today.getHours(),g=today.getMinutes();f=parseInt(f,10),g.length<=1&&(g="0"+g),h=f>=12?"pm":"am",f>12&&(f-=12),"am"==h&&0==f&&(f=12),10>f&&(f="0"+f);var n="";n+='<div class="dtpicker-wrap" id="dtpicker_'+a+'" style="display: none;">',n+='	<select tabindex="4" name="dt_month" id="dt_month_'+a+'">',n+='		<option value="01" '+("01"==d?'selected="selected"':"")+">"+sJan+"</option>",n+='		<option value="02" '+("02"==d?'selected="selected"':"")+">"+sFeb+"</option>",n+='		<option value="03" '+("03"==d?'selected="selected"':"")+">"+sMar+"</option>",n+='		<option value="04" '+("04"==d?'selected="selected"':"")+">"+sApr+"</option>",n+='		<option value="05" '+("05"==d?'selected="selected"':"")+">"+sMay+"</option>",n+='		<option value="06" '+("06"==d?'selected="selected"':"")+">"+sJun+"</option>",n+='		<option value="07" '+("07"==d?'selected="selected"':"")+">"+sJul+"</option>",n+='		<option value="08" '+("08"==d?'selected="selected"':"")+">"+sAug+"</option>",n+='		<option value="09" '+("09"==d?'selected="selected"':"")+">"+sSep+"</option>",n+='		<option value="10" '+("10"==d?'selected="selected"':"")+">"+sOct+"</option>",n+='		<option value="11" '+("11"==d?'selected="selected"':"")+">"+sNov+"</option>",n+='		<option value="12" '+("12"==d?'selected="selected"':"")+">"+sDec+"</option>",n+="	</select>",n+='	<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+c+'" name="dt_day" id="dt_day_'+a+'">, ',n+='	<input type="text" autocomplete="off" tabindex="4" maxlength="4" size="4" value="'+e+'" name="dt_year" id="dt_year_'+a+'"> @ ',n+='	<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+f+'" name="dt_hour" id="dt_hour_'+a+'"> : ',n+='	<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+g+'" name="dt_min" id="dt_min_'+a+'">',n+='	<select tabindex="4" name="dt_ampm" id="dt_ampm_'+a+'">',n+='		<option value="am" '+("am"==h?'selected="selected"':"")+">"+sAm+"</option>",n+='		<option value="pm" '+("pm"==h?'selected="selected"':"")+">"+sPm+"</option>",n+="	</select>",n+='	<div class="dtpicker-action" id="dtpicker_action_'+a+'">',n+='		<a class="dtpicker-save ui-button" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.save(\''+a+"')\">"+btnOK+"</a>",b&&(n+='		<a class="dtpicker-reset" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.reset(\''+a+"')\">"+btnReset+"</a>"),n+='		<a class="dtpicker-cancel" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.cancel(\''+a+"')\">"+btnCancel+"</a>",n+="	</div>",n+="</div>",$(n).insertAfter("#datetime_"+a),$("#dtpicker_"+a).slideDown("fast")
},reset:function(a){$("#dtpicker_"+a).slideUp("fast"),$("#"+a).val(""),$("#datetime_"+a+" .datetime_caption").html(sNever),eblog.editor.datetimepicker.showEditLink(a)},cancel:function(a){$("#dtpicker_"+a).slideUp("fast"),"publish_down"!=a||""!=$("#publish_down_ori").val()&&"0000-00-00 00:00:00"!=$("#publish_down_ori").val()||$("#"+a).val(""),$("#datetime_"+a).removeClass("toggle-active"),eblog.editor.datetimepicker.showEditLink(a)},save:function(a){$("#dtpicker_"+a).slideUp("fast"),$("#datetime_"+a).removeClass("toggle-active");
var b,c,d,e,f,g;if(b=$("#dtpicker_"+a+" #dt_day_"+a).val(),c=$("#dtpicker_"+a+" #dt_month_"+a).val(),c=parseInt(c,10),10>c&&(c="0"+c),d=$("#dtpicker_"+a+" #dt_year_"+a).val(),e=$("#dtpicker_"+a+" #dt_hour_"+a).val(),g=$("#dtpicker_"+a+" #dt_ampm_"+a).val(),"pm"==g)switch(parseInt(e,10)){case 12:break;default:e=parseInt(e,10)+12}else switch(parseInt(e)){case 12:e="00";break;default:e.length<=1&&(e="0"+e)}f=$("#dtpicker_"+a+" #dt_min_"+a).val(),f.length<=1&&(f="0"+f);var h=d+"-"+c+"-"+b+" "+e+":"+f+":00";$("#"+a).val(h),ejax.load("dashboard","updateDisplayDate",a,h),eblog.editor.datetimepicker.showEditLink(a)
},showEditLink:function(a){$("#datetime_edit_"+a).show()},hideEditLink:function(a){$("#datetime_edit_"+a).hide()}},permalink:{edited:!1,generate:function(){""==$("#title").val()||eblog.editor.permalink.edited||ejax.load("dashboard","getPermalink",$("#title").val())},edit:function(){"none"==$("#permalink-edit").css("display")?(eblog.editor.permalink.edited=!0,$("#permalink-edit").show(),$("#permalink-value").hide()):($("#permalink-edit").hide(),$("#permalink-value").show())},save:function(){$("#permalink-url").html($("#permalink-data").val()),eblog.editor.permalink.edit()
}}},tags:{search:{init:function(){$("#filter-tags").keyup(function(){var a=$.trim($(this).val());$(".post-tags li").hide().filter(function(){return(this.textContent||this.innerText||"").toUpperCase().indexOf(a.toUpperCase())>=0}).show()})}}},loader:{item:null,loading:function(a){eblog.loader.item=a,$("#"+a).addClass("eblog_loader"),$("#"+a).show()},doneLoading:function(){null!=eblog.loader.item&&$("#"+eblog.loader.item).removeClass("eblog_loader")}},comment:{likes:function(a,b,c){eblog.loader.loading("likes-"+a),ejax.load("Entry","likesComment",a,b,c)
},save:function(){$("#eblog-message").removeClass("info error"),$("#eblog-message").html(""),eblog.loader.loading("comment-form-title"),finalData=ejax.getFormVal("#frmComment"),ejax.load("Entry","commentSave",finalData),$("#empty-comment-notice").length>0&&$("#empty-comment-notice").fadeOut("100")},reply:function(a,b,c){$(".cancel_container").hide(),$(".reply_container").show(),$("#comment-reply-form-"+a).show();var d=$("#eblog-wrapper #frmComment").clone();if($("#eblog-wrapper #frmComment").remove(),$("#comment-reply-form-"+a).addClass("comment-form-inline").append(d),$("#parent_id").val(a),$("#comment_depth").val(b),c){var e=$("#comment-title-"+a).text(),f=""!=e?"RE:"+e:"";
$("#title.inputbox").val(f)}$(".comment-reply-no").removeClass("show-this"),$(".comment-reply-yes").addClass("show-this"),$("#toolbar-reply-"+a).removeClass("show-this"),$("#toolbar-cancel-"+a).addClass("show-this"),$("#toolbar-cancel-"+a).parent(".comment-reply").toggleClass("in-action"),$(".markItUpContainer").length>0&&($("#comment").markItUpRemove(),$("#comment").markItUp(EasyBlogBBCodeSettings))},cancel:function(a){var b=$("#eblog-wrapper #comment-reply-form-"+a+" #frmComment").clone();$("#eblog-wrapper #comment-reply-form-"+a+" #frmComment").remove(),$("#eblog-wrapper #comment-separator").after(b),$("#parent_id").val("0"),$("#comment_depth").val("0"),$("#comment-reply-form-"+a).hide(),$("#title.inputbox").val(""),$("#toolbar-reply-"+a).toggleClass("show-this"),$("#toolbar-cancel-"+a).toggleClass("show-this"),$("#toolbar-cancel-"+a).parent(".comment-reply").toggleClass("in-action"),$(".markItUpContainer").length>0&&($("#comment").markItUpRemove(),$("#comment").markItUp(EasyBlogBBCodeSettings))
},edit:function(){$("#eblog-message").removeClass("info error"),$("#eblog-message").html(""),finalData=ejax.getFormVal("#frmComment"),ejax.load("dashboard","updateComment",finalData)},action:function(a,b){var c=0,d="",e=$("#"+a).val();return""==e?(eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING"),void 0):($("#adminForm INPUT[name='cid[]']").each(function(){$(this).attr("checked")&&(d=0==d.length?$(this).val():d+","+$(this).val(),c++)}),0>=c?(eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"),void 0):("unpublishComment"==e?ejax.load("dashboard","publishComment",d,"0","comment"):"publishComment"==e?ejax.load("dashboard","publishComment",d,"1","comment"):"removeComment"==e&&eblog.comment.confirm(b,d,""),void 0))
},confirm:function(a,b){var d=a+"&task=removeComment&commentId="+b,e='window.location = "'+d+'";';eblog.system.dialog("COM_EASYBLOG_ARE_YOU_SURE_YOU_WANT_TO_REMOVE_COMMENT",e,"CONFIRMATION")},displayInlineMsg:function(a,b){$("#eblog-message").removeClass("info error"),$("#eblog-message").html(b),$("#eblog-message").addClass(a),"info"==a&&setTimeout(function(){$("#eblog-message").removeClass("info error"),$("#eblog-message").html("")},6e3)}},featured:{add:function(a,b){ejax.load("Latest","makeFeatured",a,b)},remove:function(a,b){ejax.load("Latest","removeFeatured",a,b)
},slider:{holderWidth:0,element:Array(),autorotate:function(a){var b=$("#ezblog-featured .featured-a").children(),c=!1;$(b).each(function(){$(this).hasClass("active")&&1!=c&&(0==$(this).next().length?$("#ezblog-featured .featured-a :first").click():$(this).next().click(),c=!0)}),setTimeout("eblog.featured.slider.autorotate("+a+");",a)},init:function(a,b,c){eblog.featured.slider.element[a]={width:parseInt($("."+a).parent().width()),element:"."+a};var d=0;$(eblog.featured.slider.element[a].element).children().each(function(){d+=eblog.featured.slider.element[a].width
}),$(eblog.featured.slider.element[a].element).css("width",d),$(eblog.featured.slider.element[a].element).children().css("width",eblog.featured.slider.element[a].width),b&&(c=1e3*parseInt(c),setTimeout("eblog.featured.slider.autorotate("+c+");",c))},slide:function(a,b){var c=0,d=a;1!=a&&(a-=1,c=eblog.featured.slider.element[b].width*parseInt(a)),$(eblog.featured.slider.element[b].element).animate({left:"-"+c+"px"},"slow"),$(eblog.featured.slider.element[b].element).parent().parent().children("div.featured-navi").children().children().removeClass("active"),$(eblog.featured.slider.element[b].element).parent().parent().children("div.featured-navi").children().children(".slider-navi-"+d).addClass("active")
}}},spinner:{show:function(){$("#blogSubmitBtn").hide(),$("#blogSubmitWait").show()},hide:function(){$("#blogSubmitWait").hide(),$("#blogSubmitBtn").show()},publish:function(a,b){1==b?$("#"+a+"Spinner").html('<img src="'+spinnerPath+'" alt="Loading">'):$("#"+a+"Spinner").html("")}},element:{focus:function(a){ele="#"+a,$(ele).focus(),ejax.closedlg()}},blog:{publish:function(a,b,c){var d=a+"&task=toggleBlogStatus&status="+c+"&blogId="+b;window.location=d},remove:function(a,b){var c="",d=b?b:"Dashboard";$.each(a,function(){eblog.spinner.publish(a,1),""!=c&&(c+=","),c+=this
}),ejax.load("Dashboard","deleteBlog",c,d)},confirmDelete:function(a,b){ejax.load("dashboard","confirmDelete",a,b)},confirm:function(a,b){},approve:function(a,b){ejax.load("dashboard","confirmApproveBlog",b,a)},ajaxpublish:function(a,b,c){var d="",e=c?c:"Dashboard";$.each(a,function(){eblog.spinner.publish(a,1),""!=d&&(d+=","),d+=this}),ejax.load("Dashboard","togglePublishStatus",d,b,e)},togglePublish:function(a,b){ejax.load("dashboard","togglePublish",a,b)},action:function(a,b){var c=0,d="",e=$("#"+a).val();
return"default"!=e?($("#adminForm INPUT[name='cid[]']").each(function(){$(this).attr("checked")&&(d=0==d.length?$(this).val():d+","+$(this).val(),c++)}),0>=c?(eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"),void 0):("unpublishBlog"==e?eblog.blog.togglePublish(d,"unpublish"):"publishBlog"==e?eblog.blog.togglePublish(d,"publish"):"deleteBlog"==e&&eblog.blog.confirmDelete(d,b),void 0)):void 0},tab:{init:function(){$(".tab_container").hide(),$("div.tab-wrapper .tab_container:first").show(),$(".tab_item:first").addClass("item-active"),$("ul.tab_button li.tab_item a").click(function(){var a=$(this).parent();
if(a.hasClass("item-active"))return!1;a.siblings().each(function(){$(this).hasClass("item-active")&&$(this).removeClass("item-active")}),a.addClass("item-active"),$(".tab_container").hide();var b=a.attr("id"),c=b.split("-"),d=c[1];return $("#section-"+d).show(),!1})}},unsubscribe:function(a,b){ejax.load("entry","confirmUnsubscribeBlog",a,b)}},tag:{remove:function(a,b){ejax.load("Dashboard","confirmDeleteTag",b,a)},edit:function(a){ejax.load("Dashboard","editTagDialog",a)},action:function(a,b){var c=0,d="",e=$("#"+a).val();
return""==e?(eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING"),void 0):($("#adminForm INPUT[name='cid[]']").each(function(){$(this).attr("checked")&&(d=0==d.length?$(this).val():d+","+$(this).val(),c++)}),0>=c?(eblog.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"),void 0):("deleteTag"==e&&eblog.tag.confirm(b,d,""),void 0))},confirm:function(a,b){var d=a+"&task=deleteTag&tagId="+b,e='window.location = "'+d+'";';eblog.system.dialog("COM_EASYBLOG_ARE_YOU_SURE_YOU_WANT_TO_REMOVE_TAGS",e,"CONFIRMATION")
},save:function(){finalData=ejax.getFormVal("#frmEditTag"),ejax.load("Dashboard","saveTag",finalData)}},socialshare:{share:function(a,b){eblog.spinner.publish(a,1),ejax.load("dashboard","ajaxSocialShare",a,b)}},twitter:{update:function(a){""!=a&&(eblog.spinner.publish(a,1),ejax.load("Dashboard","ajaxUpdateTwitter",a))}},form:{checkbox:{checkall:function(){return $("#adminForm INPUT[type='checkbox']").each(function(){$("#toggle").attr("checked")?$(this).attr("checked",!0):$(this).attr("checked",!1)}),!1}}},trackback:{url:{copy:function(){$("#trackback-url").focus().select()
}}},system:{alert:function(a,b){ejax.alert(ejax.string(a),ejax.string(b),"450","auto")},dialog:function(a,b,c){var d='<div class="dialog-actions"><input type="button" value="'+ejax.string("No")+'" class="button" id="edialog-cancel" name="edialog-cancel" onclick="ejax.closedlg();" /><input type="button" value="'+ejax.string("Yes")+'" class="button" id="edialog-submit" name="edialog-submit" onclick="'+b+'" /></div>',e={title:ejax.string(c),content:ejax.string(a)+d};ejax.dialog(e)},loader:function(a){if(a){$("img#easyblog-loader").length>0&&$("img#easyblog-loader").remove();
var b=new Image;b.src="/components/com_easyblog/assets/images/loader.gif",b.name="easyblog-loader",b.id="easyblog-loader";var c=$("div#eblog-wrapper"),d=c.width();divHeight=window.innerHeight||self.innerHeight||window.parent.document.body.clientHeight,c.prepend(b),$("img#easyblog-loader").css("marginTop",divHeight/2),$("img#easyblog-loader").css("marginLeft",d/2),$("img#easyblog-loader").css("position","absolute"),$("img#easyblog-loader").css("z-index",10)}else $("img#easyblog-loader").length>0&&$("img#easyblog-loader").remove()
}},teamblog:{join:function(a){var b=String(a);ejax.load("TeamBlog","showDialog",b,"join")},leave:function(a){var b=String(a);ejax.load("TeamBlog","showDialog",b,"leave")},leaveteam:function(){eblog.loader.loading("eblog_loader"),ejax.load("teamblog","leaveTeam",ejax.getFormVal("#frmLeave"))},send:function(){eblog.loader.loading("eblog_loader"),ejax.load("teamblog","addJoinRequest",ejax.getFormVal("#frmJoin"))},approve:function(){},reject:function(){}},calendar:{reload:function(a,b,c,d,e,f,g){ejax.load(a,b,c,d,e,f,g)
},showtooltips:function(a){$(".easyblog_calendar_tooltips").hide(),$("#com_easyblog_calendar_day_"+a).show()}}},ejax=window.ejax={http:!1,format:"text",callback:function(){},error:!1,getHTTPObject:function(){var a=!1;if("undefined"!=typeof ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){a=!1}}else if(XMLHttpRequest)try{a=new XMLHttpRequest}catch(b){a=!1}return a},call:function(a,b,c,d){var e=[{view:a,callback:d},b];e=e.concat(c),ejax.load.apply(this,e)
},load:function(view,method){var callback={success:function(){},error:function(){}};"object"==typeof view&&(callback=$.extend(callback,$.isFunction(view.callback)?{success:view.callback}:view.callback),view=view.view),url=eblog_site,url+="&tmpl=component",url+="&no_html=1",url+="&format=ejax",url+="&"+EasyBlog.getToken()+"=1",url+="&uid="+(new Date).getTime();var parameters="&view="+view+"&layout="+method;if(arguments.length>2)for(var i=2;i<arguments.length;i++){var myArgument=arguments[i];if($.isArray(myArgument))for(var j=0;j<myArgument.length;j++){var argument=myArgument[j];
"string"==typeof argument&&(parameters+="&value"+(i-2)+"[]="+encodeURIComponent(argument))}else{var argument=myArgument;"string"==typeof argument&&(parameters+="&value"+(i-2)+"="+encodeURIComponent(argument))}}var http=this.getHTTPObject();if(http&&view&&method){var ths=this;http.open("POST",url,!0),http.setRequestHeader("Content-type","application/x-www-form-urlencoded"),http.onreadystatechange=function(){if(4==http.readyState)if(200==http.status){var result="";http.responseText&&(result=http.responseText),result=result.replace(/[\n\r]/g,"");
try{result=eval(result)}catch(e){callback.error&&callback.error("Invalid response.")}ths.process(result,callback)}else ths.error&&(ths.error(http.status),callback.error&&callback.error(http.status))},http.send(parameters)}},_string:[],string:function(a){if(void 0!=ejax._string[a])return ejax._string[a];var b=eblog_site+"&tmpl=component&no_html=1&controller=easyblog&task=ajaxGetSystemString",c=$.ajax({type:"POST",url:b,data:"data="+a,async:!1,cache:!0}).responseText;return ejax._string[a]=c,c},getFormVal:function(a){var b=[],c=null;
return $(":input",$(a)).each(function(){c=this.value.replace(/"/g,"&quot;"),c=encodeURIComponent(c),$(this).is(":checkbox")||$(this).is(":radio")?$(this).prop("checked")&&b.push(this.name+"="+escape(c)):b.push(this.name+"="+escape(c))}),b},process:function(result,callback){for(var i=0;i<result.length;i++){var action=result[i][0];switch(action){case"script":var data=result[i][1];eval("EasyBlog(function($){"+data+"});");break;case"after":var id=result[i][1],value=result[i][2];$("#"+id).after(value);break;case"append":var id=result[i][1],value=result[i][2];
$("#"+id).append(value);break;case"assign":var id=result[i][1],value=result[i][2];$("#"+id).html(value);break;case"value":var id=result[i][1],value=result[i][2];$("#"+id).val(value);break;case"prepend":var id=result[i][1],value=result[i][2];$("#"+id).prepend(value);break;case"destroy":var id=result[i][1];$("#"+id).remove();break;case"dialog":ejax.dialog(result[i][1]);break;case"alert":ejax.alert(result[i][1],result[i][2],result[i][3],result[i][4]);break;case"create":break;case"error":var args=result[i].slice(1);
callback.error.apply(this,args);break;case"callback":var args=result[i].slice(1);callback.success.apply(this,args)}}delete result},dialog:function(a){ejax._showPopup(a)},closedlg:function(){var a=$("#eblog-dialog"),b=$("#eblog-overlay"),c=a.data("options");b.hide(),a.fadeOut(function(){c.afterClose.apply(a)}),$(window).unbind(".dialog"),$(document).unbind("keyup",ejax._attachPopupShortcuts)},_attachPopupShortcuts:function(a){27==a.keyCode&&ejax.closedlg()},alert:function(a,b,c,d){var e=ejax.string("COM_EASYBLOG_OK"),f='<div class="dialog-actions"><input type="button" value="'+e+'" class="button" id="edialog-cancel" name="edialog-cancel" onclick="ejax.closedlg();" /></div>',g={title:b,content:a+f,width:c,height:d};
ejax._showPopup(g)},_showPopup:function(a){var b={width:"500",height:"auto",type:"dialog",beforeDisplay:function(){},afterDisplay:function(){},afterClose:function(){}},a=$.extend({},b,a),c=$("#eblog-overlay");c.length<1&&(c='<div id="eblog-overlay"></div>',c=$(c).appendTo("body"),c.click(function(){ejax.closedlg()}));var d=$("#eblog-dialog");d.length<1&&(dialogTemplate='<div id="eblog-dialog">',dialogTemplate+='	<div class="dialog">',dialogTemplate+='		<div class="dialog-wrap">',dialogTemplate+='			<div class="dialog-top">',dialogTemplate+="				<h3></h3>",dialogTemplate+='				<a href="javascript:void(0);" onclick="ejax.closedlg();" class="closeme">Close</a>',dialogTemplate+="			</div>",dialogTemplate+='			<div class="dialog-middle clearfix">',dialogTemplate+='				<div class="dialog-middle-content"></div>',dialogTemplate+="			</div>",dialogTemplate+="		</div>",dialogTemplate+="	</div>",dialogTemplate+="</div>",d=$(dialogTemplate).appendTo("body")),d.data("options",a);
var e=d.find(".dialog-top h3");a.title=null!=a.title?a.title:"&nbsp;",e.html(unescape(a.title));var f=$("#eblog-dialog .dialog-middle-content");f.css({width:"auto"==a.width?"auto":parseInt(a.width),height:"auto"==a.height?"auto":parseInt(a.height)}).html(a.content),a.beforeDisplay.apply(d);var g=function(){d.css({top:0,left:0}).position({my:"center",at:"center",of:window}),c.css({width:$(document).width(),height:$(document).height()}).show()};d.show(0,function(){g();var a;$(window).bind("resize.dialog scroll.dialog",function(){clearTimeout(a),a=setTimeout(g,50)
})}),d.fadeOut(0,function(){d.fadeIn(function(){a.afterDisplay.apply(d)})}),$(document).on("click.eb.dialog","#edialog-cancel, #edialog-submit",function(){ejax.closedlg()}),$(document).bind("keyup",ejax._attachPopupShortcuts)}};module.resolve()}),EasyBlog.module("featured",function(a){var b=this;EasyBlog.require().done(function(){EasyBlog.Controller("Featured.Scroller",{defaultOptions:{elements:null,itemWidth:null,autorotate:{enabled:!1,interval:50},"{placeHolder}":".slider-holder","{slider}":".featured-entries","{sliderItems}":".slider-holder ul li","{sliderNavigation}":".featured-navi .featured-a a"}},function(b){return{init:function(){b.options.itemWidth=b.placeHolder().width()+1;
var a=b.sliderItems().length*parseInt(b.options.itemWidth);b.slider().css("width",a),b.sliderItems().css("width",b.options.itemWidth),b.options.autorotate.enabled&&setTimeout(function(){b.initAutoRotate()},1e3*parseInt(b.options.autorotate.interval))},nextItem:function(c){var d=a(c).data("slider"),e=0;1!=d&&(e=b.options.itemWidth*parseInt(d-1)),b.slider().children(":nth-child("+d+")").show(),b.slider().animate({left:"-"+e+"px"},"slow"),b.sliderNavigation(".active").removeClass("active"),a(c).addClass("active")
},"{sliderNavigation} click":function(a){b.nextItem(a)},initAutoRotate:function(){var c=!1;b.sliderNavigation().each(function(){a(this).hasClass("active")&&1!=c&&(0==a(this).next().length?b.nextItem(b.sliderNavigation(":first")):b.nextItem(a(this).next()),c=!0)}),setTimeout(function(){b.initAutoRotate()},1e3*parseInt(b.options.autorotate.interval))}}}),b.resolve()})}),EasyBlog.module("location",function(a){var b=this;EasyBlog.require().library("ui/autocomplete").done(function(){EasyBlog.Controller("Location.Form",{defaultOptions:{language:"en",initialLocation:null,mapType:"ROADMAP","{locationInput}":".locationInput","{locationLatitude}":".locationLatitude","{locationLongitude}":".locationLongitude","{locationMap}":".locationMap","{autoDetectButton}":".autoDetectButton"}},function(b){return{init:function(){var c=a.uid("ext");
window[c]=function(){a.___GoogleMaps.resolve()},a.___GoogleMaps||(a.___GoogleMaps=a.Deferred(),EasyBlog.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+b.options.language+"&callback="+c)),a.___GoogleMaps.done(function(){b._init()})},_init:function(){b.geocoder=new google.maps.Geocoder,b.hasGeolocation=void 0!==navigator.geolocation,b.hasGeolocation?b.autoDetectButton().show():b.autoDetectButton().remove(),b.locationInput().autocomplete({delay:300,minLength:0,source:b.retrieveSuggestions,select:function(a,c){b.locationInput().autocomplete("close"),b.setLocation(c.item.location)
}}).prop("disabled",!1),b.autocomplete=b.locationInput().autocomplete("widget"),b.autocomplete.addClass("location-suggestion");var e=a.trim(b.options.initialLocation);e&&b.getLocationByAddress(e,function(a){b.setLocation(a[0])}),b.busy(!1)},busy:function(a){b.locationInput().toggleClass("loading",a)},getUserLocations:function(a){b.getLocationAutomatically(function(c){b.userLocations=b.buildDataset(c),a&&a(c)})},getLocationByAddress:function(a,c){b.geocoder.geocode({address:a},c)},getLocationByCoords:function(a,c,d){b.geocoder.geocode({location:new google.maps.LatLng(a,c)},d)
},getLocationAutomatically:function(a,c){return navigator.geolocation?(navigator.geolocation.getCurrentPosition(function(c){b.getLocationByCoords(c.coords.latitude,c.coords.longitude,a)},c),void 0):c("ERRCODE","Browser does not support geolocation or do not have permission to retrieve location data.")},renderMap:function(a,c){b.busy(!0),b.locationMap().show();var d=new google.maps.Map(b.locationMap()[0],{zoom:15,center:a.geometry.location,mapTypeId:google.maps.MapTypeId[b.options.mapType],disableDefaultUI:!0}),e=new google.maps.Marker({position:a.geometry.location,center:a.geometry.location,title:a.formatted_address,map:d}),f=new google.maps.InfoWindow({content:c});
google.maps.event.addListener(d,"tilesloaded",function(){f.open(d,e),b.busy(!1)})},setLocation:function(a){a&&(b.locationResolved=!0,b.lastResolvedLocation=a,b.locationInput().val(a.formatted_address),b.locationLatitude().val(a.geometry.location.lat()),b.locationLongitude().val(a.geometry.location.lng()),b.renderMap(a,a.formatted_address))},removeLocation:function(){b.locationResolved=!1,b.locationInput().val(""),b.locationLatitude().val(""),b.locationLongitude().val(""),b.locationMap().hide()},buildDataset:function(b){var c=a.map(b,function(a){return{label:a.formatted_address,value:a.formatted_address,location:a}
});return c},retrieveSuggestions:function(a,c){b.busy(!0);var d=a.term,e=function(a){c(a),b.busy(!1)};""==d?e(b.userLocations||[]):b.getLocationByAddress(d,function(a){e(b.buildDataset(a))})},suggestUserLocations:function(){b.hasGeolocation&&b.userLocations&&(b.removeLocation(),b.locationInput().autocomplete("search","")),b.busy(!1)},"{locationInput} blur":function(){setTimeout(function(){var c=a.trim(b.locationInput().val());""==c?b.removeLocation():b.locationResolved?c!=b.lastResolvedLocation.formatted_address&&b.setLocation(b.lastResolvedLocation):b.removeLocation()
},250)},"{autoDetectButton} click":function(){b.busy(!0),b.hasGeolocation&&!b.userLocations?b.getUserLocations(b.suggestUserLocations):b.suggestUserLocations()}}}),EasyBlog.Controller("Location.Map",{defaultOptions:{animation:"drop",language:"en",useStaticMap:!1,disableMapsUI:!0,zoom:5,fitBounds:null,minZoom:null,maxZoom:null,center:null,locations:[],mapType:"ROADMAP",width:500,height:400,"{locationMap}":".locationMap"}},function(b){return{init:function(){b.mapLoaded=!1;var c=a.uid("ext");if(window[c]=function(){a.___GoogleMaps.resolve()
},1==b.options.useStaticMap){var d="&language="+String(b.options.language),e="&size="+String(b.options.width)+"x"+String(b.options.height),f="&zoom="+String(b.options.zoom),g="&center="+String(parseFloat(b.options.locations[0].latitude).toFixed(6))+","+String(parseFloat(b.options.locations[0].longitude).toFixed(6)),h="&maptype="+google.maps.MapTypeId[b.options.mapType],i="&markers=",j="https://maps.googleapis.com/maps/api/staticmap?sensor=false"+d+e;if(1==b.options.locations.length)i+=String(parseFloat(b.options.locations[0].latitude).toFixed(6))+","+String(parseFloat(b.options.locations[0].longitude).toFixed(6)),j+=f+g+h+i;
else{var k=new Array;a.each(b.options.locations,function(a,b){k.push(String(parseFloat(b.latitude).toFixed(6))+","+String(parseFloat(b.longitude).toFixed(6)))}),i+=k.join("|"),j+=i+h}b.locationMap().show().html('<img src="'+j+'" />'),b.busy(!1)}else{var c=a.uid("ext");window[c]=function(){a.___GoogleMaps.resolve()},a.___GoogleMaps||(a.___GoogleMaps=a.Deferred(),EasyBlog.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+b.options.language+"&callback="+c)),a.___GoogleMaps.done(function(){b._init()
})}},_init:function(){null===b.options.fitBounds&&(b.options.fitBounds=1==b.options.locations.length?!1:!0),b.options.disableMapsUI=Boolean(b.options.disableMapsUI),b.locations=new Array,a.each(b.options.locations,function(a,c){"null"!=c.latitude&&"null"!=c.longitude&&b.locations.push(new google.maps.LatLng(c.latitude,c.longitude))}),b.locations.length>0&&b.renderMap(),b.busy(!1)},busy:function(a){b.locationMap().toggleClass("loading",a)},renderMap:function(){b.busy(!0),b.locationMap().show();var a;a=b.options.center?new google.maps.LatLng(center.latitude,center.longitude):b.locations[0],b.map=new google.maps.Map(b.locationMap()[0],{zoom:parseInt(b.options.zoom),minZoom:parseInt(b.options.minZoom),maxZoom:parseInt(b.options.maxZoom),center:a,mapTypeId:google.maps.MapTypeId[b.options.mapType],disableDefaultUI:b.options.disableMapsUI}),google.maps.event.addListener(b.map,"tilesloaded",function(){0==b.mapLoaded&&(b.mapLoaded=!0,b.loadLocations())
})},loadLocations:function(){b.bounds=new google.maps.LatLngBounds,b.infoWindow=new Array;var c=function(){a.each(b.locations,function(a,c){b.bounds.extend(c);var d=function(){b.addMarker(c,b.options.locations[a])};setTimeout(d,100*(a+1))}),b.options.fitBounds&&b.map.fitBounds(b.bounds)};setTimeout(c,500)},addMarker:function(a,c){if(a){var d=new google.maps.Marker({position:a,map:b.map});d.setAnimation(google.maps.Animation.DROP),b.addInfoWindow(d,c)}},addInfoWindow:function(c,d){var e=d.content;e||(e=d.address);
var f=new google.maps.InfoWindow;f.setContent(e),b.infoWindow.push(f),b.options.locations.length>1?google.maps.event.addListener(c,"click",function(){a.each(b.infoWindow,function(a,b){b.close()}),f.open(b.map,c)}):(google.maps.event.addListener(c,"click",function(){f.open(b.map,c)}),f.open(b.map,c)),d.ratingid&&google.maps.event.addListener(f,"domready",function(){a.each(d.ratingid,function(b,c){eblog.ratings.setup("ebpostmap_"+c+"-ratings",!0,"entry"),a("#ebpostmap_"+c+"-ratings").removeClass("ui-state-disabled"),a("#ebpostmap_"+c+"-ratings-form").find(".blog-rating-text").hide(),a("#ebpostmap_"+c+"-ratings .ratings-value").hide()
})})}}}),b.resolve()})}),EasyBlog.module("media",function(a){var d,f,g,h,b=this,c=function(b){return a("<div>").text(b).html().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};EasyBlog.Controller("Media",{defaultOptions:{debug:{logging:EasyBlog.debug,itemVisibility:!1,delayConfiguration:0,delayCommon:0,delayBrowser:0,delayUploader:0,delayEditor:0},ui:"#EasyBlogMediaManagerUI",overlay:{background:"black",opacity:0},modal:{size:.9},recentActivities:{hideAfter:3e3},"{modalGroup}":".mediaModalGroup","{modal}":".mediaModal","{loaderModal}":".loaderModal","{uploaderModal}":".uploaderModal","{browserModal}":".browserModal","{editorModal}":".editorModal","{modalContent}":".modalContent","{overlay}":".media-overlay","{modalDashboardButton}":".dashboardButton","{assetItem}":".assetItem"}},function(c){return{console:function(a,b){if(c.options.debug.logging){var d=window.console;
if(d){var a=d[a];a&&(a.apply?a.apply(d,b):a(b.join(" ")))}}},assets:{},getAsset:function(b){if(void 0===c.assets[b]){var d=c.assets[b]=a.Deferred();d.done(function(){c.assetItem(".asset-type-"+b).removeClass("loading done failed").addClass("done")}).fail(function(){c.assetItem(".asset-type-"+b).removeClass("loading done failed").addClass("fail")})}return c.assets[b]},createAsset:function(a,b,d){var e=c.getAsset(a);return e.factory=b,setTimeout(function(){e.factory&&e.factory(e)},d),e},init:function(){if(d=c,c.IE=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a
}(),"undefined"!=typeof tinyMCE&&tinyMCE&&tinyMCE.isIE&&9==c.IE)var b=setInterval(function(){var d=tinyMCE.editors.write_content;if(d){var e="keydown.mediaManager mousedown.mediaManager focus.mediaManager";a(d.contentWindow).off(e).on(e,function(){c.bookmark={element:d.selection.getEnd(),range:d.selection.getBookmark(1).rng}}),clearInterval(b)}},500);c.originalBodyOverflow=a("body").css("overflow"),c.createAsset("configuration",function(a){EasyBlog.module("media/configuration").done(function(){c.initialize(this),a.resolve()
}).fail(function(){a.reject()})},c.options.debug.delayConfiguration),c.createAsset("common",function(a){EasyBlog.require().script("media/navigation").view("media/recent.item","media/browser","media/browser.item-group","media/browser.item","media/browser.tree-item-group","media/browser.tree-item","media/browser.pagination-page","media/browser.uploader","media/browser.uploader.item","media/editor","media/editor.viewport","media/navigation.item","media/navigation.itemgroup").language("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER","COM_EASYBLOG_MM_GETTING_IMAGE_SIZES","COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS","COM_EASYBLOG_MM_ITEM_INSERTED","COM_EASYBLOG_MM_UPLOADING","COM_EASYBLOG_MM_UPLOADING_STATE","COM_EASYBLOG_MM_UPLOADING_PENDING","COM_EASYBLOG_MM_UPLOAD_COMPLETE","COM_EASYBLOG_MM_UPLOAD_PREPARING","COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE","COM_EASYBLOG_MM_UPLOADING_LEFT","COM_EASYBLOG_MM_CONFIRM_DELETE_ITEM","COM_EASYBLOG_MM_CANCEL_BUTTON","COM_EASYBLOG_MM_YES_BUTTON","COM_EASYBLOG_MM_ITEM_DELETE_CONFIRMATION").done(function(){a.resolve()
}).fail(function(){a.reject()})},c.options.debug.delayCommon),c.createAsset("uploader",function(b){a.when(c.getAsset("configuration"),c.getAsset("common"),EasyBlog.require().script("media/uploader").done()).done(function(){var a=c.createModal("uploader");g=a.controller=new EasyBlog.Controller.Media.Uploader(a.element,c.options.uploader),b.resolve()}).fail(function(){b.reject()})},c.options.debug.delayUploader),c.createAsset("browser",function(b){a.when(c.getAsset("configuration"),c.getAsset("common"),EasyBlog.require().script("media/browser").done()).done(function(){var a=c.createModal("browser");
f=a.controller=new EasyBlog.Controller.Media.Browser(a.element,c.options.browser),b.resolve()}).fail(function(){b.reject()})},c.options.debug.delayBrowser),c.createAsset("editor",function(b){a.when(c.getAsset("browser"),EasyBlog.require().script("media/editor").done()).done(function(){var a=c.createModal("editor");a.controller=new EasyBlog.Controller.Media.Editor(a.element,c.options.editor),b.resolve()}).fail(function(){b.reject()})},c.options.debug.delayEditor),c.setLayout=a.debounce(c._setLayout,200)},initialize:function(d){var e={controller:{media:c}},d=a.extend(!0,d,{browser:e,uploader:e,library:e,editor:e,exporter:e});
c.update(d),h=d.directorySeparator;var f=a(c.options.ui);c.element.append(f.html()),f.remove(),c.overlay().css(c.options.overlay),c.loader=new EasyBlog.Controller.Media.Loader(c.createModal("loader"),{controller:{media:c}}),c.element.implement(EasyBlog.Controller.Media.Library,c.options.library,function(){}),c.element.implement(EasyBlog.Controller.Media.Exporter,c.options.exporter),b.resolve()},setLayout:function(){c._setLayout()},_setLayout:function(){return c.layout=c.element.hasClass("active")?a.uid():null,c.layout&&c.setModalLayout(),c.layout
},modals:{},createModal:function(b){var d=c.modal("."+b+"Modal");return d.length<1&&(d=a('<div class="mediaModal"></div>').addClass(b+"Modal").appendTo(c.modalGroup())),c.modals[b]={name:b,element:d}},activateModal:function(a,b){if(void 0===c.modals[a])return c.loader.when(c.assets[a]).done(function(){setTimeout(function(){c.activateModal(a,b)},1e3)}),void 0;if(c.currentModal===a)return!0;var d=c.modals[a];if(!d)return!1;c.deactivateModal(c.currentModal),c.currentModal=a,c.show();var e=d.controller;return e&&e.trigger("modalActivate",b),!0
},deactivateModal:function(a,b){var d=c.modals[a];if(!d)return!1;var e=d.controller;if(e)try{e.trigger("modalDeactivate",b)}catch(f){console.error(f)}return d.element.removeClass("active"),c.currentModal=void 0,!0},setModalLayout:function(){clearTimeout(c.setModalLayout.task);var b=c.modals[c.currentModal];if(b){if(!c.layout)return c._setLayout();b.element.addClass("active");var d=b.controller;if(d&&a.isFunction(d.setLayout)){var e=function(){var a=d.element.offset();0===a.top||0===a.left?c.setModalLayout.task=setTimeout(e,50):d.setLayout()
};e()}}},show:function(){c.element.addClass("active"),c._setLayout(),c.trigger("showModal")},hide:function(){c.element.removeClass("active"),c.deactivateModal(c.currentModal),c.trigger("hideModal")},"{overlay} click":function(){c.hide()},"{window} resize":function(){c.setLayout()},"{modalDashboardButton} click":function(a,b){return b.shiftKey?c.console("dir",[c]):(c.hide(),void 0)},upload:function(){c.activateModal("uploader",arguments)},browse:function(){c.activateModal("browser",arguments)},edit:function(){c.activateModal("editor",arguments)
}}}),EasyBlog.Controller("Media.Loader",{defaultOptions:{}},function(b){return{init:function(){},when:function(){b.media.activateModal("loader");var c=a.when.apply(null,arguments),d=c.done;return c.id=a.uid(),c.done=function(a){d(function(){b.currentQueueId==c.id&&a&&a()})},b.currentQueueId=c.id,c},"{self} hide":function(){b.currentQueueId=null}}}),EasyBlog.Controller("Media.Prompt",{defaultOptions:{"{dialog}":".modalPromptDialog","{cancelButton}":".promptCancelButton"}},function(a){return{init:function(){},get:function(b){var c=a.dialog("."+b);
return a.instantiate(c)},instantiate:function(b){var c={element:b,show:function(){return b.addClass("active"),a.element.addClass("active"),c},hide:function(){return b.removeClass("active"),a.element.removeClass("active"),c},state:function(a){var d=b.data("lastPromptState");if(void 0===a)return d;var e=function(a){return b.find(".promptState.state-"+a)},f=e(a),d=e(d);if(!(f.length<1))return d.removeClass("active"),f.addClass("active"),b.data("lastPromptState",a),c}};return c},hideAll:function(){a.dialog().removeClass("active"),a.element.removeClass("active")
},"{cancelButton} click":function(){a.hideAll()}}}),EasyBlog.Controller("Media.Library",{defaultOptions:{places:[],place:{files:{},acl:{canCreateFolder:!1,canUploadItem:!1,canRenameItem:!1,canRemoveItem:!1,canCreateVariation:!1,canDeleteVariation:!1},populateImmediately:!1}}},function(b){return{init:function(){b.media.library=b,a.each(b.options.places,function(a,c){b.addPlace(c)})},places:{},getPlace:function(a){return a?a.acl?a:"string"==typeof a?b.places[a.split("|")[0]]:void 0:void 0},addPlace:function(c){var c=b.places[c.id]=a.extend({tasks:a.Threads({threadLimit:1}),ready:a.Deferred(),baseFolder:function(){return b.getMeta(c.id+"|"+b.media.options.directorySeparator)
}},b.options.place,c);c.done=c.ready.done,c.fail=c.ready.fail,c.always=c.ready.always;var d=function(b){if(!a.isEmptyObject(b)){if("string"==typeof b)try{b=a.parseJSON(b)}catch(c){}return"object"==typeof b?b:void 0}};return c.files=d(c.files),c.files&&c.tasks.add(function(){b.importMeta(c.files),c.ready.resolve(c)}),c.populate=function(){return void 0!==c.populate.task?c.populate.task:(c.populate.task=a.Deferred(),c.populate[/easysocial|jomsocial|flickr/.test(c.id)||c.files?"getFileTree":"getFolderTree"](),c.populate.task)
},c.populate.getFolderTree=function(){return b.getRemoteMeta({place:c.id,foldersOnly:1}).done(function(a){c.tasks.add(function(){b.importMeta(a),c.ready.resolve(c)}),c.populate.getFileTree()}).fail(function(){c.populate.task.reject(c),delete c.populate.task,c.ready.reject(c)})},c.populate.getFileTree=function(){return b.getRemoteMeta({place:c.id}).done(function(a){c.tasks.add(function(){b.importMeta(a),c.ready.resolve(c),c.populate.task.resolve(c)})}).fail(function(){c.populate.task.reject(c),delete c.populate.task
})},c.populateImmediately&&c.populate(),c},meta:{},metadata:{},isMeta:function(b){return!(void 0===b||!a.isPlainObject(b)||a.isEmptyObject(b))},get:function(c){if(b.meta.hasOwnProperty(c)){var d=a.extend({},b.meta[c]);return d.data=b.metadata[c],d}},getKey:function(a){return a?a.place+"|"+a.path:null},getParentKey:function(a){if(a){var c="string"==typeof a?a:a.key||b.getKey(a),d=c.indexOf(h),e=c.lastIndexOf(h);return e===c.length-1?void 0:c.substring(0,e+(d===e?1:0))}},getMeta:function(a){return a?b.isMeta(a)?b.get(b.getKey(a))||a:"string"==typeof a?b.get(a):void 0:void 0
},getRemoteMeta:function(c){var d=a.Deferred();d.retry=0;var e={path:b.media.options.directorySeparator,retry:3,retryAfter:1e3,variation:0,foldersOnly:0},c=a.extend(e,c);if(void 0===c.place)return d.rejectWith(d,"Error: Place not given!");var f=function(){return d.loader=EasyBlog.ajax("site.views.media.getMeta",c,{success:function(){d.resolveWith(d,arguments)},fail:function(){d.rejectWith(d,arguments)},error:function(){d.retry++,d.retry<c.retry?f():d.rejectWith(d,arguments)}}),arguments.callee}();return d},getMetaVariations:function(a){var a=b.getMeta(a);
if(void 0!==a)return b.getRemoteMeta({place:a.place,path:a.path,variation:1}).done(function(a){b.addMeta(a)})},removeMetaVariation:function(a,c){var a=b.getMeta(a);if(void 0!==a&&void 0!==a.variations){for(var d,e=0;e<a.variations.length;e++)if(a.variations[e].name===c){d=a.variations[e],a.variations.splice(e,1);break}return d}},addMeta:function(c){var d=b.getKey(c),e=b.getMeta(d);if(e&&c.hash===e.hash)return e;c.key=d,c.hash=a.uid(),c.group="folder"==c.type?"folders":"files",c.parentKey=b.getParentKey(c);var f=b.getPlace(c.place);
c.friendlyPath=c.path===h?f.title:f.title+c.path.substring(c.path.indexOf(h),c.path.length),b.meta[d]=c;var g=c.data=b.metadata[d]||(b.metadata[d]=a.eventable({}));if("folder"==c.type&&(g.files=g.files||{},g.folders=g.folders||{},g.views=g.views||b.createMetaView(c)),e)setTimeout(function(){c.data.fire("updated",c)},0);else{var i=b.getMeta(c.parentKey);i&&i.data.views.addMeta(c)}return c},removeMeta:function(a){var a=b.getMeta(a);if(void 0!==a){if("folder"===a.type){var c=a.data.folders,d=a.data.files;for(key in c)b.removeMeta(key);
for(key in d)b.removeMeta(key)}if(a.parentKey){var e=b.getMeta(a.parentKey);e&&e.data.views.removeMeta(a),delete b.meta[a.key],setTimeout(function(){a.data.fire("removed",a)},0)}return a}},removeRemoteMeta:function(c){var d=a.Deferred(),c=b.getMeta(c);return void 0===c?d.rejectWith(d,"The file does not exist in the media library."):(d.loader=EasyBlog.ajax("site.views.media.delete",{place:c.place,path:c.path},{success:function(){b.removeMeta(c),d.resolveWith(d,[c])},fail:function(){d.rejectWith(d,arguments)},error:function(a,b){d.rejectWith(d,[b])
}}),d)},createFolder:function(c,d){var e=a.Deferred(),c=b.getMeta(c),f=c.place;return void 0===c||"folder"!==c.type?e.rejectWith(e,"Parent folder was not found."):(e.loader=EasyBlog.ajax("site.views.media.createFolder",{place:f,path:c.path+h+d},{success:function(a){a.place=f;var a=b.addMeta(a);e.resolveWith(e,[a])},fail:function(){e.rejectWith(e,arguments)},error:function(a,b){e.rejectWith(e,[b])}}),e)},importMeta:function(a,c){if(void 0!==a&&"folder"===a.type){void 0===c&&(c=!0);var d=a.contents,e=d.length;
delete a.contents,d.reverse();for(var f=b.addMeta(a),g=f.data,h={files:{},folders:{}},i=0;e>i;){var a=b.addMeta(d[i]),j=a.key,k=a.group;h[k][j]=delete g[k][j],i++}for(j in g.files)b.removeMeta(j);for(j in g.folders)b.removeMeta(j);if(g.folders=h.folders,g.files=h.files,c)for(j in g.folders)b.importMeta(b.getMeta(j),c);return f}},createMetaView:function(c){var d={meta:c,addMeta:function(a){for(mode in d.modes){var b=d.modes[mode][a.group];b&&b.add(a)}},removeMeta:function(a){for(mode in d.modes){var b=d.modes[mode][a.group];
b&&b.remove(a)}},create:function(b){var c={from:0,to:1024,mode:"dateModified",group:"files"},e=a.Callbacks("unique memory");return a.extend(e,c,b,{uid:a.uid(),select:function(b){return a.extend(e,b),e.map&&delete e.map.monitors[e.uid],e.map=d.modes[e.mode][e.group],e.map.monitors[e.uid]=e,e.refresh()},updated:e.add,refresh:function(){return e.fire(e.map.slice(e.from,e.to))},destroy:function(){return e.disable(),e.map&&delete e.map.monitors[e.uid],e}}),e.select()}};return b.createViewModes(d),d},createViewModes:function(a){return a.modes={dateModified:{folders:b.createViewMap(a,!0),files:b.createViewMap(a)}},a
},createViewMap:function(b,c){var d=a.extend([],{task:a.Threads({threadLimit:1}),affectedIndex:[],add:function(a){d.task.add(function(){d.unshift(a.key),d.affectedIndex.push(0),c&&d.sort().reverse(),d.refreshMonitor()})},remove:function(a){d.task.add(function(){for(var e,b=a.key,c=d.length;c--;)if(d[c]===b){e=c;break}void 0!==e&&(d.splice(c,1),d.affectedIndex.push(c),d.refreshMonitor())})},monitors:{},refreshMonitor:function(){clearTimeout(d.refreshMonitor.timer),d.refreshMonitor.timer=setTimeout(function(){var a=d.affectedIndex;
d.affectedIndex=[],d.task.add(function(){var b=a.length,c=0;for(id in d.monitors){var c,e=d.monitors[id],f=e.from,g=e.to;for(c=0;b>c;c++){var h=a[c];if(h>=f||g>=h){e.refresh();break}}}})},250)}});return d},search:function(c){if(""===a.trim(c))return[];var c=c.toLowerCase(),d=b.createMetaView({type:"search"});for(key in b.meta){var e=key.split("|"),f=e[0],g=e[1],h=b.meta[key];/easysocial|jomsocial|flickr/.test(f)&&(g=h.title||""),g.toLowerCase().match(c)&&d.addMeta(h)}return d}}}),EasyBlog.Controller("Media.Exporter",{defaultOptions:{view:{recentItem:"media/recent.item"},"{recentActivities}":".recentActivities","{recentActivitiesDialog}":".recentActivities .modalPromptDialog","{hideRecentActivitiesButton}":".recentActivities .promptHideButton","{dashboardButton}":".recentActivities .dashboardButton","{recentItemGroup}":".recentItemGroup","{recentItem}":".recentItem"}},function(b){return{init:function(){d.exporter=b,d.insert=b.insert
},handler:{},showDialog:function(){b.recentActivitiesDialog().addClass("active"),b.recentActivities().css({top:0,opacity:1}).addClass("active")},hideDialog:function(){b.recentActivities().animate({top:"-=50px",opacity:0},{duration:250,complete:function(){b.recentActivities().removeClass("active"),b.recentActivitiesDialog().removeClass("active")}})},"{dashboardButton} click":function(){b.hideDialog()},"{hideRecentActivitiesButton} click":function(){b.hideDialog()},insert:function(c,e){var f=d.library.getMeta(c);
if(void 0!==f){var g=b.create(f.type,f.key,e);return b.showDialog(),g.recentItem=b.view.recentItem({meta:f}).addClass("loading").css({opacity:0}).prependTo(b.recentItemGroup()).animate({opacity:1},{duration:500,complete:function(){g.done(function(c){if(""===c&&g.recentItem.removeClass("loading done").addClass("error").find(".itemProgress").html(a.language("COM_EASYBLOG_MM_UNABLE_TO_EXPORT_ITEM")),"undefined"!=typeof tinyMCE)if(tinyMCE&&tinyMCE.isIE&&9==d.IE){var e=d.bookmark;if(e){var f=tinyMCE.editors.write_content;
f.selection.moveToBookmark({rng:e.range}),f.execCommand("mceInsertContent",!1,c)}else EasyBlog.dashboard.editor.insert(c)}else EasyBlog.dashboard.editor.insert(c);else EasyBlog.dashboard.editor.insert(c);g.recentItem.removeClass("loading failed").addClass("done").find(".itemProgress").html(a.language("COM_EASYBLOG_MM_ITEM_INSERTED")),d.options.recentActivities.hideAfter>0&&setTimeout(function(){b.hideDialog()},d.options.recentActivities.hideAfter)}).progress(function(a){g.recentItem.hasClass("done")||g.recentItem.find(".itemProgress").html(a)
}).fail(function(a){g.recentItem.removeClass("loading done").addClass("error").find(".itemProgress").html(a)})}}),g}},create:function(c,d,e){var f=b.handler[c],g=a.Deferred();if(void 0===f){var h=EasyBlog.Controller.Media.Exporter[a.String.capitalize(c)];if(void 0===h)return g.reject(a.language("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER")),g;f=b.handler[c]=new h(b.element,a.extend({},{settings:b.options[c],controller:{media:b.media}}))}return f.create(g,d,e),g}}}),EasyBlog.Controller("Media.Exporter.File",{defaultOptions:{settings:{title:"",target:"_self",content:""}}},function(b){return{init:function(){},create:function(c,d,e){var f=a.extend({},b.options.settings,e),g=b.media.library.getMeta(d),h=a(document.createElement("A")).attr({title:f.title,target:f.target,href:g.url}).html(f.content?f.content:g.title);
return c.resolve(h.toHTML()),c}}}),EasyBlog.Controller("Media.Exporter.Folder",{defaultOptions:{settings:{}}},function(b){return{init:function(){},create:function(c,d,e){var f=a.extend({},b.options.settings,e),g=b.media.library.getMeta(d),h="jomsocial"==g.place||"easysocial"==g.place?"album":"gallery";f.file=g.path,f.place=g.place;var i="[embed="+h+"]"+JSON.stringify(f)+"[/embed]";return c.resolve(i),c}}}),EasyBlog.Controller("Media.Exporter.Image",{defaultOptions:{settings:{zoom:null,caption:null,lightbox:!1,enforceDimension:!1,enforceWidth:null,enforceHeight:null,variation:null,defaultVariation:"thumbnail",defaultZoom:"original"}}},function(b){return{init:function(){},create:function(d,e,f){var g=a.extend({},b.options.settings,f),h=b.media.library.getMeta(e),i=a(new Image),j=c(h.title);
i.attr({src:h.thumbnail.url,alt:j,title:j});var k=function(){d.resolve(i.toHTML())},l=function(){var b={};a.each(h.variations,function(a,c){b[c.name]=c});var d=b[g.variation]||b[g.defaultVariation]||h.variations[0],e=c(d.title);if(i.attr({src:d.url,alt:e,title:e}),g.enforceDimension&&null!==g.enforceWidth&&null!==g.enforceHeight){var f=a.Image.resizeWithin(d.width,d.height,g.enforceWidth,g.enforceHeight);f.width=Math.floor(f.width),f.height=Math.floor(f.height),i.attr(f)}if(null!==g.caption){var j=c(g.caption);
i.addClass("easyblog-image-caption").attr("title",j).attr("alt",j)}if(null!==g.zoom){var l=b[g.zoom]||b[g.defaultZoom]||{url:h.thumbnail.url,title:h.title},e=c(g.caption||l.title||"");i=a("<a>").addClass("easyblog-thumb-preview").attr({href:l.url,title:e}).html(i)}k()};return g.variation||g.zoom||g.enforceWidth||g.enforceHeight?void 0===h.variations?(d.notify(a.language("COM_EASYBLOG_MM_GETTING_IMAGE_SIZES")),b.media.library.getMetaVariations(e).done(function(a){h=a,l()}).fail(function(){d.reject(a.language("COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS"))
})):l():k(),d}}}),EasyBlog.Controller("Media.Exporter.Audio",{defaultOptions:{width:400,height:24,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff"}},function(b){return{init:function(){},create:function(c,d,e){var f=a.extend({},b.options.settings,e),g=b.media.library.getMeta(d);f.file=g.path,f.place=g.place;var h="[embed=audio]"+JSON.stringify(f)+"[/embed]";return c.resolve(h),c}}}),EasyBlog.Controller("Media.Exporter.Video",{defaultOptions:{settings:{width:400,height:225,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff"}}},function(b){return{init:function(){},create:function(c,d,e){var f=a.extend({},b.options.settings,e),g=b.media.library.getMeta(d);
f.file=g.path,f.place=g.place;var h="[embed=video]"+JSON.stringify(f)+"[/embed]";return c.resolve(h),c}}}),EasyBlog.Controller("MediaLauncher",{defaultOptions:{"{uploadImageButton}":".uploadImageButton","{chooseImageButton}":".chooseImageButton"}},function(){return{init:function(){a("#media_manager_button").click(function(){EasyBlog.mediaManager.browse()})},"{uploadImageButton} click":function(){EasyBlog.mediaManager.upload()},"{chooseImageButton} click":function(){EasyBlog.mediaManager.browse()}}});var i=a(document.createElement("div")).attr("id","EasyBlogMediaManager").appendTo("body");
EasyBlog.mediaManager=new EasyBlog.Controller.Media(i)}),EasyBlog.module("media/navigation",function(a){var b=this;EasyBlog.require().done(function(){var c,d,e;EasyBlog.Controller("Media.Navigation",{defaultOptions:{view:{item:"media/navigation.item",itemGroup:"media/navigation.itemgroup"},nestLevel:8,groupCollapseDelay:1e3,canActivate:!0,"{itemGroup}":".navigationItemGroup","{item}":".navigationItem"}},function(b){return{init:function(){c=b.media,d=c.library,e=c.options.directorySeparator,b.element.toggleClass("canActivate",b.options.canActivate)
},setPathway:function(c){var c=d.getMeta(c);if(c){b.currentKey=c.key;var l,f=d.getPlace(c.place),g=c.path,h="folder"===c.type,i=g.split(e).splice(1),j=b.options.nestLevel,k=i.length-(i.length%j||j);b.element.empty().toggleClass("type-folder",h),b.view.item({title:f.title||e}).addClass("base").data("key",f.id+"|"+e).appendTo(b.element);var m="jomsocial"===f.id;g!==e&&a.each(i,function(a,g){var n=!h&&a==i.length-1,o=e+i.slice(0,a+1).join(e),p=f.id+"|"+o,g=m?d.getMeta(p).title:g,q=b.view.item({title:n?c.title:g}).data("key",p).toggleClass("filename",n);
a>=k?q.appendTo(b.element):(a%j==0&&(l=b.view.itemGroup().appendTo(b.element)),q.appendTo(l))})}},"{itemGroup} mouseover":function(a){clearTimeout(a.data("delayCollapse")),a.addClass("expand")},"{itemGroup} mouseout":function(a){a.data("delayCollapse",setTimeout(function(){a.removeClass("expand")},b.options.groupCollapseDelay))},"{item} click":function(a){if(b.options.canActivate){var c=a.data("key");b.trigger("activate",c)}}}}),b.resolve()})}),EasyBlog.module("media/uploader",function(a){var b=this;EasyBlog.require().library("plupload").done(function(){var c,d,e,f;
EasyBlog.Controller("Media.Uploader",{defaultOptions:{view:{uploader:"media/browser.uploader",uploadItem:"media/browser.uploader.item"},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{modalFooter}":".modalFooter","{modalPrompt}":".modalPrompt","{modalBrowserButton}":".modalButton.browserButton","{modalDashboardButton}":".modalButton.dashboardButton","{uploadButton}":".uploadButton","{uploadNavigation}":".uploadNavigation","{uploadForm}":".uploadForm","{uploadPath}":".uploadPath","{uploadSize}":".uploadSize","{uploadExtensionList}":".uploadExtensionList","{uploadItemGroup}":".uploadItemGroup","{uploadItem}":".uploadItem","{uploadDropHint}":".uploadDropHint","{uploadInstructions}":".uploadInstructions","{clearListButton}":".clearListButton"}},function(b){return{init:function(){c=b.media,d=c.library,e=c.uploader=b,f=c.options.directorySeparator,b.element.addClass("uploader").html(b.view.uploader({uploadSize:b.options.settings.max_file_size,uploadExtensionList:b.options.settings.filters[0].extensions.split(",").join(", ")})),b.uploadNavigation().implement(EasyBlog.Controller.Media.Navigation,{controller:b.controllerProps()},function(){b.navigation=this
}),b.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,{controller:b.controllerProps()},function(){b.promptDialog=this}),b.element.implement(EasyBlog.Controller.Media.Uploader.FolderSwitcher,{controller:b.controllerProps()},function(){b.folderSwitcher=this}),b.element.implement("plupload",{settings:b.options.settings,"{uploadButton}":b.options["{uploadButton}"],"{uploadDropsite}":b.options["{uploadItemGroup}"]},function(){if(b.plupload=this.plupload,"html4"==b.plupload.runtime||a.browser.msie){b.uploadDropHint().remove(),b.uploadItemGroup().addClass("indefinite-progress");
var d=b.uploadInstructions().appendTo(c.element);b.element.find("> form").mouseover(function(){var e=b.uploadButton(),f=e.offset();d.addClass("show").css({top:f.top+e.outerHeight()-c.element.offset().top+3,right:a(window).width()-(f.left+e.outerWidth())-1})}).mouseout(function(){d.removeClass("show")})}else b.uploadButton().mouseover(function(){b.uploadInstructions().addClass("show")}).mouseout(function(){b.uploadInstructions().removeClass("show")})}),b.setLayout()},setLayout:function(){if("uploader"===c.currentModal){var d;
b.modalContent().hide().height(d=b.element.height()-b.modalHeader().outerHeight()-b.modalToolbar().outerHeight()-b.modalFooter().outerHeight()).show(),a.browser.msie&&(b.uploadDropHint().height(d),b.uploadItemGroup().height(d)),b.plupload&&b.plupload.refresh()}},controllerProps:function(c){return a.extend({media:b.media,uploader:b},c||{})},setUploadFolder:function(a){a&&(b.navigation.setPathway(a),b.currentUploadFolder=a)},items:{},createItem:function(c){var d=new EasyBlog.Controller.Media.Uploader.Item(b.view.uploadItem(),{controller:b.controllerProps({id:c.id,originalFile:c,uploadFolder:b.currentUploadFolder})});
d.element.appendTo(b.uploadItemGroup());var e=d.file().filesize,e=e?"":" ("+e+").";return d.setMessage(a.language("COM_EASYBLOG_MM_UPLOADING_PENDING")+e),b.items[c.id]=d,d},"{self} BeforeUpload":function(c,e,f,g){var h=b.items[g.id];if(void 0!==h){h.setMessage(a.language("COM_EASYBLOG_MM_UPLOAD_PREPARING"));var i=b.options.settings.url,j=d.getMeta(h.uploadFolder),k=j?j.place:h.uploadFolder.split("|")[0],l=encodeURIComponent(j?j.path:h.uploadFolder.split("|")[1]);f.settings.url=i+"&place="+k+"&path="+l}},"{self} FilesAdded":function(c,d,e,f){try{a.each(f,function(a,c){void 0===b.items[c.id]&&b.createItem(c)
}),b.uploadItem().length>0&&b.uploadItemGroup().removeClass("empty"),b.plupload.start()}catch(g){console.error(g)}},"{self} UploadFile":function(c,d,e,f){var g=b.items[f.id];void 0!==g&&(g.setState("uploading"),g.setMessage(a.language("COM_EASYBLOG_MM_UPLOADING_STATE")))},"{self} UploadProgress":function(c,d,e,f){var g=b.items[f.id];void 0!==g&&(g.setProgress(f.percent),g.setMessage(a.language("COM_EASYBLOG_MM_UPLOADING")+(void 0!==f.percent?" "+f.percent+"%":"")+(void 0!==f.loaded&&void 0!==!f.size?f.size-f.loaded?" ("+a.plupload.formatSize(f.size-f.loaded)+" "+a.language("COM_EASYBLOG_MM_UPLOADING_LEFT")+")":"":"")))
},"{self} FileUploaded":function(d,e,f,g,h){var i=b.items[g.id];if(void 0!==i){if(i.response=h,!a.isPlainObject(h))return i.setState("failed"),i.setMessage(a.language("COM_EASYBLOG_MM_SERVER_RETURNED_INVALID_RESPONSE")),void 0;if(!a.isPlainObject(h.item))return i.setState("failed"),i.setMessage(h.message||a.language("COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE")),void 0;i.setState("done"),i.setMessage(a.language("COM_EASYBLOG_MM_UPLOAD_COMPLETE")),i.meta=h.item,i.meta.place=c.library.get(i.uploadFolder).place,"image"!==i.meta.type&&i.insertBlogImageButton().remove(),c.library.addMeta(i.meta)
}},"{self} FileError":function(a,c,d,e,f){var g=b.items[e.id];void 0===g&&(g=b.createItem(e)),g.response=f,g.setState("failed"),g.setMessage(f.message),b.uploadItem().length>0&&b.uploadItemGroup().removeClass("empty")},"{self} Error":function(a,c,d,e){if(e.file){var f=e.file,g=b.items[f.id];void 0===g&&(g=b.createItem(f)),g.setState("failed"),g.setMessage(e.message)}b.uploadItem().length>0&&b.uploadItemGroup().removeClass("empty")},"{modalBrowserButton} click":function(){c.browse()},"{modalDashboardButton} click":function(){c.hide()
},"{uploadNavigation} activate":function(a,c,d){b.setUploadFolder(d)},"{self} modalActivate":function(a,d,e){b.setUploadFolder(e),c.browser&&b.uploadItemGroup().toggleClass("blogimage","blogimage"==c.browser.mode())},removeItem:function(a){var c=b.items[a];void 0!==c&&(b.plupload.removeFile(c.file()),c.element.remove(),delete b.items[a]),b.uploadItem().length<1&&b.uploadItemGroup().addClass("empty")},"{clearListButton} click":function(){for(id in b.items)b.removeItem(id)}}}),EasyBlog.Controller("Media.Uploader.Item",{defaultOptions:{"{filename}":".uploadFilename","{progressBar}":".uploadProgressBar progress","{percentage}":".uploadPercentage","{status}":".uploadStatus","{removeButton}":".uploadRemoveButton","{insertItemButton}":".insertItemButton","{locateItemButton}":".locateItemButton","{insertBlogImageButton}":".insertBlogImageButton"}},function(b){return{init:function(){var a=b.file();
b.filename().html(a.name),b.setState("queued")},file:function(){var c=e.plupload.getFile(b.id)||b.originalFile;return c&&(c.filesize=void 0===c.size||"N/A"==c.size?"":a.plupload.formatSize(b.file.size)),c},dblclick:function(a,d){d.shiftKey&&c.console("log",b)},setProgress:function(a){b.progressBar().attr("value",a),b.percentage().html(a)},setState:function(a){b.element.removeClass("upload-state-"+b.state).addClass("upload-state-"+a),b.state=a},setMessage:function(a){b.status().html(a)},"{removeButton} click":function(a,c){c.stopPropagation(),e.removeItem(b.id)
},"{insertItemButton} click":function(){c.insert(b.meta)},"{locateItemButton} click":function(){c.browse(b.meta)},"{insertBlogImageButton} click":function(){var a=d.meta[d.getMeta(b.meta).key];EasyBlog.dashboard.blogImage.setImage(a),c.hide()}}}),EasyBlog.Controller("Media.Uploader.FolderSwitcher",{defaultOptions:{view:{treeItemGroup:"media/browser.tree-item-group",treeItem:"media/browser.tree-item"},"{changeUploadFolderButton}":".changeUploadFolderButton","{selectFolderButton}":".selectFolderButton","{treeItemField}":".browserTreeItemField","{treeItemGroup}":".browserTreeItemGroup","{treeItem}":".browserTreeItem"}},function(b){return{init:function(){var d;
b.promptDialog=e.promptDialog.get("changeUploadFolderPrompt"),a.each(c.library.places,function(a,c){c.acl.canUploadItem&&(c.uploaderTreeItemGroup=b.view.treeItemGroup().addClass("expanded").appendTo(b.treeItemField()),c.uploaderTreeItem=b.view.treeItem({title:c.title}).addClass("loading").addClass("type-place").data("place",c).appendTo(c.uploaderTreeItemGroup),d||(d=c.id+"|"+f,e.setUploadFolder(d)),c.done(function(){b.createTreeItem(c.baseFolder()),c.uploaderTreeItem.removeClass("loading")}))})},treeItems:{},createTreeItem:function(c){var c=d.getMeta(c),e=b.treeItems[c.key]||function(){var e=d.getPlace(c.place),f=d.getMeta(c.parentKey),g=b.treeItems[c.key]=(f?b.view.treeItem({title:c.title}).addClass("type-folder").insertAfter(b.treeItems[f.key]):e.uploaderTreeItem).data("key",c.key);
return c.data.on("removed",function(){b.removeTreeItem(c)}),c.data.views.create({group:"folders"}).updated(function(c){a.each(c,function(a,c){b.createTreeItem(c)})}),g}();return e},removeTreeItem:function(a){var a=d.getMeta(a),c=b.treeItems[a.key];if(c){c.remove();{b.treeItems[a.parentKey]}e.setUploadFolder(a.parentKey)}},"{treeItem} click":function(a){b.treeItem().removeClass("active"),a.addClass("active")},"{changeUploadFolderButton} click":function(){var a=b.currentUploadFolder,c=b.treeItems[a]||b.treeItem(":first");
c.click(),b.promptDialog.show()},"{selectFolderButton} click":function(){var a=b.treeItem(".active").data("key");e.setUploadFolder(a),b.promptDialog.hide()}}}),b.resolve()})}),EasyBlog.module("media/browser",function(a){var b=this;EasyBlog.require().library("image","easing","scrollTo").script("media/browser.item").done(function(){var c,d,e,g,h;EasyBlog.Controller("Media.Browser",{defaultOptions:{view:{browser:"media/browser",itemGroup:"media/browser.item-group",item:"media/browser.item",treeItemGroup:"media/browser.tree-item-group",treeItem:"media/browser.tree-item",paginationPage:"media/browser.pagination-page"},path:"",items:void 0,mode:"browse",layout:{viewMode:"tile",tileSize:.125,scrollToItemDuration:500,scrollToItemEasing:"swing",iconMaxLoadThread:8},search:{chunkSize:128,chunkDelay:500},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{modalFooter}":".modalFooter","{modalPrompt}":".modalPrompt","{modalUploaderButton}":".uploaderButton","{header}":".browserHeader","{content}":".browserContent","{footer}":".browserFooter","{treeToggleButton}":".browserTreeToggleButton","{tileViewButton}":".browserTileViewButton","{listViewButton}":".browserListViewButton","{itemField}":".browserItemField","{itemGroup}":".browserItemGroup","{item}":".browserItem","{treeItemField}":".browserTreeItemField","{treeItemGroup}":".browserTreeItemGroup","{treeItem}":".browserTreeItem","{headerTitle}":".browserTitle","{headerSearch}":".browserSearch","{headerNavigation}":".browserNavigation","{headerUpload}":".browserUploadButton","{footerStatus}":".browserStatus","{footerMessage}":".browserMessage","{itemActionSet}":".browserItemActionSet","{itemFieldHints}":".browserItemField .hints","{browserPagination}":".browserPagination","{currentPage}":".currentPage","{totalPage}":".totalPage","{prevPageButton}":".prevPageButton","{nextPageButton}":".nextPageButton","{pageSelection}":".pageSelection","{paginationPage}":".paginationPage","{searchInput}":".searchInput"}},function(b){return{init:function(){c=b.media,d=c.library,e=c.browser=b,h=c.options.directorySeparator,b.iconThread=a.Threads({threadLimit:b.options.layout.iconMaxLoadThread}),b.enqueue=a.Enqueue();
var f=d.getPlace("flickr");b.element.addClass("browser").html(b.view.browser({canUpload:b.options.acl.canUpload,flickrCallback:f?f.options.callback:"",flickrLogin:f?f.options.login:""})),b.headerNavigation().implement(EasyBlog.Controller.Media.Navigation,{controller:b.controllerProps()},function(){b.navigation=this}),b.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,{controller:b.controllerProps()},function(){g=b.promptDialog=this}),b.element.implement(EasyBlog.Controller.Media.Browser.Actions,{controller:b.controllerProps()},function(){b.actions=this
}),b.search=a.debounce(b._search,500),b.mode("browse"),c.element.bind("hideModal",function(){b.mode("browse")}),b.viewMode(b.options.layout.viewMode),b.setLayout(),b.on("scroll",b.itemField(),a.debounce(b["{itemField} scroll"],250)),a.each(d.places,function(a,c){b.createPlace(c)}),b.activatePlace(b.options.initialPlace||d.places[0].id).done(b.enqueue(function(a){b.activateItem(a.baseFolder())}))},controllerProps:function(b){return a.extend({media:c},b||{})},items:{},createPlace:function(a){var a=d.getPlace(a);
return a.treeItemGroup=b.view.treeItemGroup().appendTo(b.treeItemField()),a.treeItem=b.view.treeItem({title:a.title}).addClass("type-place").data("place",a).appendTo(a.treeItemGroup),a.itemGroup=b.view.itemGroup().appendTo(b.itemField()),a},activatePlace:function(c){var c=d.getPlace(c);if(void 0!==c){if(b.itemGroup().removeClass("active"),c.itemGroup.addClass("active"),b.treeItem().removeClass("active"),c.treeItem.addClass("active"),c.activator||(c.activator=a.Deferred()),"flickr"===c.id&&!c.options.associated)return e.currentFolderStatus("flickr"),c.activator;
if(!c.populated){c.populated=!0,b.currentFolderStatus("loading");var f=/easysocial|jomsocial|flickr/.test(c.id)?c.populate():c.ready;f.done(function(){var a=b.createFolder(c.baseFolder());c.activator.resolveWith(c,[c,a])}).fail(function(){b.currentFolderStatus("error"),c.activator.rejectWith(c,arguments)})}return c.activator}},getItem:function(a){return void 0!==a?a instanceof EasyBlog.Controller.Media.Browser.Item?a:"string"==typeof a?b.items[a]:d.isMeta(a)?b.items[d.getKey(a)]:void 0:void 0},createItem:function(a){var a=d.getMeta(a);
if(a)return b.items[a.key]=new EasyBlog.Controller.Media.Browser.Item(b.view.item({meta:a}),{controller:{key:a.key,media:c}})},createFolder:function(c){var c=d.getMeta(c);return b.getItem(c)||function(){var d=b.createItem(c),e=d.place(),f=d.parentFolder();return f?d.element.insertAfter(f.element):d.element.appendTo(e.itemGroup),d.treeItem=(f?b.view.treeItem({title:c.title}).addClass("type-folder").css("marginLeft",18*(c.path.split(h).length-1)).insertAfter(f.treeItem):e.treeItem).data("item",d),c.data.views.create({group:"folders"}).updated(function(c){a.each(c,function(a,c){b.createFolder(c)
})}),d}()},createFile:function(a){var a=d.getMeta(a);return b.getItem(a)||b.createItem(a)},removeItem:function(a){clearTimeout(b.removeItem.revert);var a=b.getItem(a),c=a.parentFolder();a.remove(),a.treeItem&&a.treeItem.remove(),delete b.items[a.key],b.itemField().hasClass("searching")||(b.removeItem.revert=setTimeout(function(){c&&b.activateItem(c)},500))},focusItem:function(a,c){var a=b.getItem(a);a&&(c?b.activateItem(a):(b.currentItem(a),a.element.removeClass("active")),b.scrollTo(a),b.trigger("itemFocus",[a]))
},locateItem:function(a){b.itemField().hasClass("searching")&&b.clearSearch(!0);var a=d.getMeta(a);a&&b.activatePlace(a.place).done(b.enqueue(function(){var c="folder"===a.type,d=b.activateItem(c?a:a.parentKey);if(void 0!==d){c||d.handler.locateItem(a);var e=d.handler.folderView;e&&e.refresh()}}))},activateItem:function(a){var a=b.getItem(a);if(a)return b.currentItem(a),a.activate(),b.trigger("itemActivate",[a]),a},scrollTo:function(a){var a=b.getItem(a);a&&b.itemField().scrollTo(a.element,{duration:b.options.layout.scrollToItemDuration,easing:b.options.layout.scrollToItemEasing,offset:{top:b.itemField().height()*-.1}})
},currentItem:function(a){var c=b.currentItem.item;!c||!c._destroyed&&b.items[c.key]||(c=b.currentItem.item=void 0);var a=b.getItem(a);if(!a)return c;if(a._destroyed)return c;c&&(c.element.removeClass("active focus"),"folder"!==c.meta().type&&c.parentFolder().element.removeClass("active focus"),c.place().itemGroup.removeClass("active")),a.element.addClass("active focus");var d="folder"==a.meta().type;return d||a.parentFolder().element.addClass("focus"),a.place().itemGroup.addClass("active"),b.currentFolder(d?a:a.parentFolder()),b.navigation.setPathway(a.key),b.currentItem.item=a
},currentFolder:function(a){var c=b.currentFolder.folder;c&&c._destroyed&&(c=b.currentFolder.folder=void 0);var a=b.getItem(a);return a?(b.treeItem().removeClass("active"),a.treeItem.addClass("active"),a.meta().path!==h&&a.place().treeItemGroup.addClass("expanded"),a.handler.folderView&&a.handler.refreshSeed!==b.folderRefreshSeed&&(a.handler.folderView.refresh(),a.handler.refreshSeed=b.folderRefreshSeed),b.currentFolder.folder=a):c},currentFolderStatus:function(a){if(!b.itemField().hasClass("searching")||/emptySearch|ready/.test(a)){var c=b.currentFolderStatus.lastStatus;
if(void 0===a)return c;if("string"==typeof a)return c&&b.itemField().removeClass(c),b.itemField().addClass(a),b.currentFolderStatus.lastStatus=a}},setLayout:function(){if(c.layout&&"browser"===c.currentModal){var d;b.modalContent().hide().height(d=b.element.height()-b.modalHeader().outerHeight()-b.modalToolbar().outerHeight()-b.modalFooter().outerHeight()).show(),a.browser.msie&&(b.treeItemField().height(d),b.itemField().height(d),b.itemFieldHints().height(d)),b.setItemLayout(),b.trigger("setLayout")}},setItemStyle:function(d){if(!d){var e=c.layout;
if(b.setItemStyle.seed===e)return;b.setItemStyle.seed=e}var f=b.viewMode(),g={};if("tile"==f){var h="#EasyBlogMediaManager .browser .browserItemField.view-tile .browserItem",i=function(){var c=a(document.createElement("DIV")).prependTo(b.itemField()),d=c.width();return c.remove(),d}(),j=Math.floor(i*b.options.layout.tileSize),k=j-24;g[h]={width:j+"px",height:k+"px"}}var l=document.getElementsByTagName("head")[0];if(b.itemStyle)try{l.removeChild(b.itemStyle)}catch(m){}b.itemStyle=document.createElement("style"),b.itemStyle.type="text/css";
var n="";a.each(g,function(b,c){n+=b+"{"+a.map(c,function(a,b){return b+":"+a}).join(";")+"}\n"}),b.itemStyle.styleSheet?b.itemStyle.styleSheet.cssText=n:b.itemStyle.appendChild(document.createTextNode(n)),l.appendChild(b.itemStyle)},setItemLayout:function(){c.layout&&"browser"===c.currentModal&&(b.setItemStyle(),setTimeout(function(){var a=[];if(b.itemField().hasClass("searching"))b.searchItemGroup&&(a=b.searchItemGroup.find(".browserItem"));else{var c=b.currentFolder();if(void 0===c)return;a=c.childItem()}if(!(a.length<1)){var e,f,d=b.itemField().offset(),g=a.length,h=1;
if(!(a.length<1)){for(;Math.abs(g-h)>1;){e=a.eq(h-1),f=e.offset();var i=f.top-d.top+e.outerHeight();0>i?h=Math.ceil((g+h)/2):(g=h,h=Math.ceil(g/2))}1===h&&(h=0);var j=h,k=h,l=0,m=a.length-1;for(setLayout=function(b){if(l>b||b>m)return!1;var c=a.eq(b).data("item");return c.isVisible()?(c.setLayout(),void 0):!1};;){if(setLayout(j)===!1)break;j--}for(;;){if(setLayout(k)===!1)break;k++}}}},0))},viewMode:function(a){var c=b.viewMode.mode;if(c||(c=b.viewMode.mode=b.options.layout.viewMode),void 0!==a){b.setItemStyle.seed=null,b.itemField().removeClass("view-"+c).addClass("view-"+a),b.viewMode.mode=c=a,b.setLayout();
var d=b.currentItem();void 0!==d&&b.scrollTo(d)}return c},mode:function(c){if(void 0===c)return b.mode.currentMode||"browse";switch(c){case"browse":b.element.removeClass("mode-blogimage").addClass("mode-browse"),a.each(d.places,function(a,b){/easysocial|jomsocial|flickr/.test(b.id)&&(b.treeItemGroup&&b.treeItemGroup.show(),b.itemGroup&&b.itemGroup.show())});break;case"blogimage":b.element.addClass("mode-blogimage").removeClass("mode-browse");var e=b.currentItem(),f=!1;e&&/easysocial|jomsocial|flickr/.test(e.place().id)&&(f=!0),a.each(d.places,function(a,b){/easysocial|jomsocial|flickr/.test(b.id)?(b.treeItemGroup&&b.treeItemGroup.hide(),b.itemGroup&&b.itemGroup.hide()):f&&(f=!1,b.treeItem&&b.treeItem.click())
})}b.mode.currentMode=c},"{self} itemActivate":function(a,c,d){b.itemActionSet().removeClass("active"),"folder"==d.meta().type?b.itemActionSet(".type-folder").addClass("active"):b.itemActionSet(".type-item").addClass("active")},"{headerNavigation} activate":function(a,c,d){b.activateItem(d)},"{tileViewButton} click":function(a){a.addClass("active").siblings().removeClass("active"),b.viewMode("tile")},"{listViewButton} click":function(a){a.addClass("active").siblings().removeClass("active"),b.viewMode("list")
},"{treeItem} click":a.debounce(function(c,d){b.clearSearch(!0);var e=c.data("item");if(c.hasClass("type-place")){var f=c.data("place");return a(d.target).hasClass("treeItemToggle")&&f.treeItemGroup.toggleClass("expanded"),b.activatePlace(f).done(b.enqueue(function(a,c){"jomsocial"===a.id&&a.treeItemGroup.addClass("expanded"),"easysocial"===a.id&&a.treeItemGroup.addClass("expanded"),b.activateItem(c)})),void 0}b.activateItem(e)},50),"{itemField} scroll":function(){b.setItemLayout()},"{item} click":function(a,c){c.stopPropagation();
var d=a.data("item");if(void 0!==d){var e=d.place();b.activatePlace(e).done(b.enqueue(function(){b.activateItem(d)}))}},"{item} dblclick":function(a,e){e.stopPropagation();var f=a.data("item");if(e.shiftKey)return c.console("log",[f]),void 0;if(void 0!==f&&"folder"!=f.meta().type)if("blogimage"===b.mode.currentMode){if("image"==f.meta().type){var g=d.meta[f.key];EasyBlog.dashboard.blogImage.setImage(g),c.hide()}}else c.edit(f.key)},"{modalUploaderButton} click":function(){var a=b.currentFolder();c.upload(a.place().acl.canUploadItem?a.key:"")
},"{self} modalActivate":function(a,c,e,f){void 0!==f&&b.mode(f);var e=d.getMeta(e)||b.currentItem().meta();e&&b.locateItem(e)},"{prevPageButton} click":function(){var a=e.currentFolder();a.handler.changePage("prev")},"{nextPageButton} click":function(){var a=e.currentFolder();a.handler.changePage("next")},"{pageSelection} click":function(a){b.paginationPage().length>1&&a.toggleClass("expanded")},"{paginationPage} click":function(a){if(b.pageSelection().hasClass("expanded")&&!a.hasClass("selected")){var c=a.data("page"),d=e.currentFolder();
d.handler.isChangingPage=!0,d.handler.currentPage(c)}},"{window} click":function(c,d){var e=a(d.target).attr("class");/pageSelection|paginationPage/.test(e)||b.pageSelection().hasClass("expanded")&&b.pageSelection().removeClass("expanded")},_search:function(a){b.itemBeforeSearch||(b.itemBeforeSearch=b.currentItem().meta()),b.element.addClass("searching"),b.itemField().addClass("searching"),b.searchItemGroup||(b.searchItemGroup=b.view.itemGroup().appendTo(b.itemField())),b.searchItemGroup.addClass("active search-mode");
var c;b.searchView=d.search(a).create({from:0,to:300}).updated(function(a){var d=a.length;if(1>d)return c=setTimeout(function(){e.currentFolderStatus("emptySearch")},500),void 0;for(clearTimeout(c),e.currentFolderStatus("ready"),i=0;d>i;i++){var f=a[i],g=e.createFile(f);g.element.appendTo(b.searchItemGroup)}b.setItemLayout()})},clearSearch:function(c){b.folderRefreshSeed=a.uid(),c&&b.searchInput().val("").blur(),b.element.removeClass("searching"),b.itemField().removeClass("searching"),b.searchItems&&a.each(b.searchItems,function(b,c){a(c).detach()
}),b.searchItemGroup&&(b.searchItemGroup.find(".browserItem").detach(),b.searchItemGroup.removeClass("active")),b.searchView&&b.searchView.destroy(),delete b.searchView,b.itemBeforeSearch&&b.locateItem(b.itemBeforeSearch)},"{searchInput} focusin":function(b){b.parent().addClass("active"),""!==a.trim(b.val())&&b.parent().addClass("showCancelButton")},"{searchInput} focusout":function(b){setTimeout(function(){""===a.trim(b.val())&&b.parent().removeClass("active showCancelButton")},50)},"{searchInput} keyup":function(c){var d=a.trim(c.val());
return""===d?(c.parent().removeClass("showCancelButton"),b.clearSearch(),delete b.itemBeforeSearch,void 0):(c.parent().addClass("showCancelButton"),b.search(d),void 0)}}}),EasyBlog.Controller("Media.Browser.Actions",{defaultOptions:{"{customizeItemButton}":".customizeItemButton","{insertAsGalleryButton}":".insertAsGalleryButton","{insertItemButton}":".insertItemButton","{insertBlogImageButton}":".insertBlogImageButton","{createFolderButton}":".createFolderButton","{confirmCreateFolderButton}":".createFolderPrompt .confirmCreateFolderButton","{folderPath}":".createFolderPrompt .folderPath","{folderCreationPath}":".createFolderPrompt .folderCreationPath","{folderInput}":".createFolderPrompt .folderInput","{folderCreationFailedReason}":".createFolderPrompt .folderCreationFailedReason","{removeItemButton}":".removeItemButton","{removeItemFilename}":".removeItemPrompt .removeItemFilename","{confirmRemoveItemButton}":".confirmRemoveItemButton","{removeItemFailedReason}":".removeItemPrompt .removeItemFailedReason","{flickrLoginButton}":".flickrLoginButton","{cancelSearchButton}":".cancelSearchButton","{retryPopulateButton}":".retryPopulateButton"}},function(b){return{init:function(){},"{self} itemActivate":function(a,c,d){b.item=d;
var f=d.place().acl;b.removeItemButton().toggle(f.canRemoveItem),b.createFolderButton().toggle(f.canCreateFolder),b.insertBlogImageButton().toggle("blogimage"===e.mode()&&"image"===d.meta().type)},"{customizeItemButton} click":function(){c.edit(b.item.key)},"{insertAsGalleryButton} click":function(){c.insert(b.item.key)},"{insertItemButton} click":function(){c.insert(b.item.key)},"{insertBlogImageButton} click":function(){var a=d.meta[b.item.key];EasyBlog.dashboard.blogImage.setImage(a),c.hide()},"{createFolderButton} click":function(){g.get("createFolderPrompt").show().state("default");
var a=e.currentFolder();b.folderPath().html(a.meta().friendlyPath),b.folderInput().focus()[0].select()},"{folderInput} keyup":function(a,c){13==c.keyCode&&b.confirmCreateFolderButton().click()},"{confirmCreateFolderButton} click":function(){var c=a.trim(b.folderInput().val());if(""!==c){var f=e.currentFolder().meta(),i=f.friendlyPath+h+c;b.folderCreationPath().html(i);var j=g.get("createFolderPrompt");j.state("progress"),d.createFolder(f,c).done(function(a){var b=e.createFolder(a);j.hide(),e.activateItem(b)}).fail(function(a){b.folderCreationFailedReason().html(a),j.state("fail")
})}},"{removeItemButton} click":function(){b.removeItemFilename().html(b.item.meta().title),g.get("removeItemPrompt").show().state("default")},"{confirmRemoveItemButton} click":function(){var c=g.get("removeItemPrompt");c.state("progress"),d.removeRemoteMeta(b.item.key).done(function(){c.hide()}).fail(function(a){b.removeItemFailedReason().html(a),c.state("fail")})},"{flickrLoginButton} click":function(a){var b=a.data("login"),c=a.data("callback"),f=e.enqueue(function(){e.activatePlace("flickr").done(e.enqueue(function(a,b){e.activateItem(b)
}))});window[c]=function(){var a=d.getPlace("flickr");a.options.associated=!0,f()},window.open(b,"Flickr Login","scrollbars=no, resizable=no, width=650, height=700")},"{cancelSearchButton} click":function(){e.clearSearch(!0)},"{retryPopulateButton} click":function(){var a=b.item.place();delete a.activator,a.populated=!1,a.treeItem.click()}}}),b.resolve()})}),EasyBlog.module("media/browser.item",function(a){var b=this;EasyBlog.Controller("Media.Browser.Item",{defaultOptions:{"{itemTitle}":".itemTitle","{itemIcon}":".itemIcon","{childItem}":".browserItem",hasCustomHandler:["folder"]}},function(b){var c,d,e;
return{init:function(){c=b.media,d=c.library,e=c.browser,b.element.data("item",b).addClass("item-type-"+b.meta().type),b.meta().data.on("removed",function(){e.removeItem(b)}),b.createHandler()},meta:function(){return d.getMeta(b.key)},place:function(){return d.getPlace(b.key)},parentFolder:function(){return e.getItem(d.getParentKey(b.key))},createHandler:function(){if(!(a.inArray(b.meta().type,b.options.hasCustomHandler)<0)){var c=EasyBlog.Controller.Media.Browser.Item[a.String.capitalize(b.meta().type)];return void 0===c?(EasyBlog.require().script("media/browser.item."+b.meta().type).done(function(){b.createHandler()
}),void 0):(b.handler=new c(b.element,{controller:{media:b.media,item:b}}),void 0)}},activate:function(){b.setLayout(),b.handler&&b.handler.activate()},remove:function(){try{b.element&&b.element.detach().remove(),b.handler&&(b.handler._destroyed||b.handler.destroy())}catch(a){}},isVisible:function(){var a=b.element,c=a.outerHeight(),d=a.offset().top,e=d+c,f=b.media.browser.itemField(),g=f.offset().top,h=g+f.height();return isVisible=!(g>d&&g>e||d>h&&e>h),b.media.options.debug.itemVisiblity&&b.media.console("info",["Item visibility",{title:b.meta().title,isVisible:isVisible,item:b,itemHeight:c,itemTop:d,itemBottom:e,itemFieldTop:g,itemFieldBottom:h}]),isVisible
},setLayout:function(){return"folder"!=b.meta().type?b.handler&&a.isFunction(b.handler.setLayout)?b.handler.setLayout():(b.setIcon(),void 0):void 0},setIcon:function(){b.setIcon.loading||b.setIcon.loaded||void 0===b.meta().icon||b._destroyed||(b.setIcon.loading=!0,e.iconThread.addDeferred(function(a){var c=b.itemIcon();if(b.isVisible()){var d=b.meta(),e=b.place(),f=d.icon.url;b.setIcon.useNaturalUrl||/easysocial|jomsocial|flickr/.test(e.id)||"image"!==d.type||(f=EasyBlog.baseUrl+"&view=media&layout=getIconImage&place="+encodeURIComponent(e.id)+"&path="+encodeURIComponent(b.meta().path)+"&format=image&tmpl=component"),b.element.addClass("loading-icon"),c.image("get",f).done(function(){b.element.removeClass("loading-icon"),b.setIcon.loaded=!0,b.setIcon.loading=!1,a.resolve()
}).fail(function(){b.element.removeClass("loading-icon"),b.setIcon.loaded=!1,b.setIcon.loading=!1,a.reject(),b.setIcon.triedNaturalUrl||(b.setIcon.useNaturalUrl=!0,b.setIcon.triedNaturalUrl=!0)})}else b.setIcon.loading=!1,a.reject()}))}}}),EasyBlog.Controller("Media.Browser.Item.Folder",{defaultOptions:{"{childItem}":".browserItem"}},function(b){var c,d,e;return{init:function(){c=b.media,d=c.library,e=c.browser,b.element.empty()},items:{},setLayout:function(){var d,a=b.item.place();switch(a.ready.state()){case"pending":d="loading";
break;case"rejected":d="error";break;case"resolved":if(b.folderView&&b.folderView.map.length>0)d="ready",e.browserPagination().show();else switch(a.populate.task.state()){case"pending":d="loading";break;case"rejected":d="error";break;case"resolved":b.folderView&&b.folderView.map.length<1?(d=a.acl.canUploadItem?"empty canUpload":"empty","jomsocial"===b.item.meta().place&&b.item.meta().path===c.options.directorySeparator&&(d="selectAlbum"),"easysocial"===b.item.meta().place&&b.item.meta().path===c.options.directorySeparator&&(d="selectAlbum")):d="ready",e.browserPagination().toggle(!/empty|selectAlbum/.test(d))
}}e.currentFolderStatus(d),e.setItemLayout(),b.isChangingPage?b.isChangingPage=!1:b.populatePages()},populate:function(a){if(!e.itemField().hasClass("searching")){var c,d=a.length,f=b.items;if(b.items={},1>d)try{b.childItem().detach()}catch(g){}else{for(c=0;d>c;c++){var h=a[c],i=e.createFile(h);i.element.appendTo(b.element),b.items[h]=i,delete f[h]}for(h in f)try{f[h].element.detach()}catch(g){}}b.item.place().itemGroup.hasClass("active")&&b.element.hasClass("focus")&&b.setLayout()}},activate:function(){b.folderView||(b.folderView=b.item.meta().data.views.create({from:0,to:e.options.layout.maxIconPerPage}),b.folderView.updated(b.populate)),b.setLayout()
},populatePages:function(){var a=b.totalPage();if(2>a)e.browserPagination().hide();else{e.browserPagination().show(),e.pageSelection().html("");for(var c=1;a>=c;c++)e.view.paginationPage({page:c}).appendTo(e.pageSelection());b.folderView.currentPage=b.folderView.currentPage||1,e.paginationPage().removeClass("selected"),e.paginationPage(".page"+b.folderView.currentPage).addClass("selected")}},totalPage:function(){var a=b.folderView.map.length,c=a%e.options.layout.maxIconPerPage,d=Math.floor(c>0?a/e.options.layout.maxIconPerPage+1:a/e.options.layout.maxIconPerPage);
return e.totalPage().text()!=d&&e.totalPage().text(d),d},currentPage:function(c,d){var f=parseInt(b.folderView.currentPage);if(isNaN(f)&&(f=1,b.folderView.currentPage=1,e.paginationPage().removeClass("selected"),e.paginationPage(":first").addClass("selected")),void 0===c&&(c={from:b.folderView.from}),a.isPlainObject(c)&&void 0!==c.from)var h=(b.folderView.map.length,Math.floor(c.from/e.options.layout.maxIconPerPage)+1);if(c=h||c,c!=f){var i=(c-1)*e.options.layout.maxIconPerPage,j=i+e.options.layout.maxIconPerPage;
i!=c.from&&b.folderView.select({from:i,to:j}),b.folderView.currentPage=c,e.paginationPage().removeClass("selected"),e.paginationPage(".page"+c).addClass("selected"),e.trigger("pageChanged",[f,c])}return d&&d(),c},next:function(){b.changePage("next")},prev:function(){b.changePage("prev")},changePage:function(a){b.isChangingPage=!0;var c=b.totalPage(),d=b.currentPage();"next"==a&&c>d&&(d+=1),"prev"==a&&d>1&&(d-=1),b.currentPage(d)},locateItem:function(a){var a=d.getMeta(a),c=b.getItemPage(a);c&&b.currentPage(c,function(){e.focusItem(a.key,!0)
})},getItemPage:function(c){{var h,c=d.getMeta(c),f=c.key;b.folderView.map.length}return a.each(b.folderView.map,function(a,b){return b==f?(h=a,!1):void 0}),void 0!==h?Math.floor(h/e.options.layout.maxIconPerPage)+1:!1}}}),b.resolve()}),EasyBlog.module("media/editor",function(a){var b=this;EasyBlog.require().done(function(){EasyBlog.Controller("Media.Editor",{defaultOptions:{view:{editor:"media/editor",viewport:"media/editor.viewport"},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{navigationPathway}":".navigationPathway","{insertItemButton}":".insertItemButton","{cancelEditingButton}":".cancelEditingButton"}},function(b){return{init:function(){b.element.addClass("editor").html(b.view.editor()),b.navigationPathway().implement(EasyBlog.Controller.Media.Navigation,{controller:{media:b.media},canActivate:!1},function(){b.navigation=this
}),b.setLayout()},setLayout:function(){if("editor"===b.media.currentModal){b.modalContent().hide().height(b.element.height()-b.modalHeader().outerHeight()-b.modalToolbar().outerHeight()).show();var a=b.getEditor(b.currentEditor);a&&a.setLayout&&a.setLayout()}},editors:[],handlers:[],loadHandler:function(c){var d=b.handlers[c];return void 0!==d?d:(d=a.Deferred(),d.require=EasyBlog.require().script("media/editor."+c).done(function(){var e=EasyBlog.Controller.Media.Editor[a.String.capitalize(c)];void 0!==e?d.resolve(e):(delete b.handlers[c],d.reject())
}).fail(function(){d.reject()}),d)},createEditor:function(a,c){b.removeEditor(a);var d=b.media.library.getMeta(a);void 0!==d&&b.loadHandler(d.type).done(function(e){var f=new e(b.view.viewport().addClass("editor-type-"+d.type).prependTo(b.modalContent()),{controller:{media:b.media,editor:b,key:b.media.library.getKey(d)}});b.editors[a]=f,c&&c(f)})},removeEditor:function(a){var c=b.editors[a];void 0!==c&&(c.destroy(),delete b.editors[a])},getEditor:function(a){return b.editors[a]},activateEditor:function(a){b.deactivateEditor(b.currentEditor),b.navigation.setPathway(a);
var c=b.getEditor(a),d=function(c){b.currentEditor=a,c.element.addClass("active"),c.activate&&c.activate()};void 0===c?b.createEditor(a,d):d(c)},deactivateEditor:function(){var a=b.getEditor(b.currentEditor);void 0!==a&&(a.deactivate&&a.deactivate(),a.element.removeClass("active"))},"{self} modalActivate":function(a,c,d){b.activateEditor(d)},"{self} modalDeactivate":function(){b.deactivateEditor()},"{insertItemButton} click":function(){var a=b.getEditor(b.currentEditor);void 0!==a&&a.trigger("insertItem")},"{cancelEditingButton} click":function(){var a=b.getEditor(b.currentEditor);
a&&a.trigger("cancelItem"),b.media.browse()}}}),EasyBlog.Controller("Media.Editor.Panel",{defaultOptions:{"{sectionHeader}":".panelSectionHeader","{sectionContent}":".panelSectionContent"}},function(){return{init:function(){},"{sectionHeader} click":function(a){var b=a.parent();b.toggleClass("active")}}}),EasyBlog.Controller("Media.Editor.Preview",{defaultOptions:{"{container}":".previewContainer","{dialogGroup}":".previewDialogGroup"}},function(a){return{init:function(){},resetLayout:function(){clearTimeout(a.resetLayoutTimer),a.resetLayoutTimer=setTimeout(function(){var b=a.container(),c=a.element.width(),d=a.element.height(),e=b.width(),f=b.height(),g=0,h=0,i="none";
c>e?h=(c-e)/2:i="auto",d>f?g=(d-f)/2:i="auto",a.element.css("overflow",i),b.css({top:g,left:h})},100)},showDialog:function(b){a.dialogGroup().addClass("show-dialog-"+b)},hideDialog:function(b){a.dialogGroup().removeClass("show-dialog-"+b)}}}),b.resolve()})}),EasyBlog.module("media/constrain",function(a){var b=this;EasyBlog.require().library("image").done(function(){a.fn.constrain=function(){var b=this.data("constrain");if(b instanceof a.Constrain){if(!(arguments.length>0))return b;b.update(arguments[0])}else b=new a.Constrain(this,arguments[0]),this.data("constrain",b)
},a.Constrain=function(b,c){var d=this,e={selector:{width:".inputWidth",height:".inputHeight",constrain:".inputConstrain"},forceConstrain:!1},f=c?c:{};d.options=a.extend(!0,{},e,f),d.options.element={width:b.find(d.options.selector.width).data("type","width"),height:b.find(d.options.selector.height).data("type","height"),constrain:b.find(d.options.selector.constrain)},d.options.initial=d.options.initial||d.options.source,void 0!==d.options.allowedMax&&(d.options.max=a.Image.resizeWithin(d.options.source.width,d.options.source.height,d.options.allowedMax.width,d.options.allowedMax.height),d.options.initial.width=Math.min(d.options.max.width,d.options.initial.width),d.options.initial.height=Math.min(d.options.max.height,d.options.initial.height)),d.options.element.width.data("initial",d.options.initial.width),d.options.element.height.data("initial",d.options.initial.height),d.fieldValues(d.calculate("width",d.options.initial)),a.each([d.options.element.width,d.options.element.height],function(b,c){var e=c.data("type"),f=d.getOppositeType(e),c=a(c),g=d.options.element[f];
c.bind("keyup",function(a){return 9==a.keyCode||16==a.keyCode?!1:(d.fieldValues(d.calculate(e)),void 0)}),c.bind("blur",function(){d.options.element.constrain.is(":checked")||""!=a.trim(c.val())||c.val(d.options.initial[e]),""==a.trim(c.val())&&""==a.trim(g.val())&&(c.val(d.options.initial[e]),g.val(d.options.initial[f]))})}),a(d.options.element.constrain).bind("change",function(){if(a(this).is(":checked")){var b=d.fieldValues(),c=""===b.width?"height":"width";d.fieldValues(d.calculate(c))}})},a.extend(a.Constrain.prototype,{calculate:function(a,b){var c=this,b=void 0!==b?b:c.fieldValues(),d=c.getOppositeType(a),e=c.options.max?c.options.max[a]:void 0,f=c.options.max?c.options.max[d]:void 0,g=c.options.source[a],h=c.options.source[d],i=b[a],j=b[d];
if(i=""!=i&&e&&i>e?e:i,this.enforceConstrain())if(""==i)j="";else{var k=g/i;j=Math.round(h/k),f&&j>f&&(j=f)}var l={};return l[a]=i,l[d]=j,l},getOppositeType:function(a){return"width"==a?"height":"width"},getInput:function(b){var c=this,d=c.options.element[b].val();return d=a.trim(d),d=d.replace(new RegExp("[^0-9.]","g"),""),d=parseInt(d,10),isNaN(d)?"":d},fieldValues:function(a){var b=this,c={};return void 0===a?(c.width=b.getInput("width"),c.height=b.getInput("height")):(b.options.element.width.val(Math.floor(a.width)),b.options.element.height.val(Math.floor(a.height)),c=a),c
},enforceConstrain:function(){var a=this;return a.options.forceConstrain?!0:a.options.element.constrain.length<1?!0:a.options.element.constrain.is(":checked")},update:function(b){var c=this;c.options.initial=b.initial||b.source||c.options.initial,void 0!==b.allowedMax&&void 0!==b.source&&(b.max=a.Image.resizeWithin(b.source.width,b.source.height,b.allowedMax.width,b.allowedMax.height),c.options.initial.width=Math.min(b.max.width,c.options.initial.width),c.options.initial.height=Math.min(b.max.height,c.options.initial.height)),c.options=a.extend(!0,{},c.options,b),values=this.calculate("width",{width:c.options.initial.width||c.options.source.width,height:c.options.initial.height||c.options.source.height}),this.fieldValues(values)
}}),b.resolve()})}),EasyBlog.module("media/editor.audio",function(a){var b=this;EasyBlog.require().view("media/editor.audio","media/editor.audio.player").done(function(){EasyBlog.Controller("Media.Editor.Audio",{defaultOptions:{view:{panel:"media/editor.audio",player:"media/editor.audio.player"},player:{width:400,height:24,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff",modes:[{type:"html5"},{type:"flash",src:a.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/player.swf"},{type:"download"}]},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{playerContainer}":".playerContainer","{autoplay}":".autoplay"}},function(b){var c,d,e;
return{init:function(){c=b.media,d=c.library,e=c.browser;{var a=b.meta();b.place()}b.editorPanel().html(b.view.panel({meta:a})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){b.panel=this}),b.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){b.preview=this,b.initPlayer()})},initPlayer:function(){EasyBlog.require().script(a.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/jwplayer.js").done(function(a){var c=b.meta(),e=(b.place(),"player-"+a.uid()),f=a.extend(b.options.player,{id:e,file:b.meta().url}),g=b.view.player({id:e,meta:c,options:f});
b.preview.container().append(g),b.player=jwplayer(e).setup(f),b.preview.resetLayout()})},meta:function(){return d.getMeta(b.key)},place:function(){return d.getPlace(b.meta().place)},setLayout:function(){},stop:function(){b.player&&"PLAYING"==b.player.getState()&&b.player.pause()},deactivate:function(){b.stop()},"{self} cancelItem":function(){b.stop()},"{self} insertItem":function(){var a={autostart:"1"==b.autoplay().val()?!0:!1};c.insert(b.meta(),a)}}}),b.resolve()})}),EasyBlog.module("media/editor.file",function(){var b=this;
EasyBlog.require().view("media/editor.file","media/editor.file.preview").done(function(){EasyBlog.Controller("Media.Editor.File",{defaultOptions:{view:{panel:"media/editor.file",preview:"media/editor.file.preview"},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{filePreviewCaption}":".filePreviewCaption","{insertItemButton}":".insertItemButton","{insertItemDetail}":".insertItemDetail","{insertCaption}":".insertCaption","{insertAs}":".insertAs"}},function(a){var b,c,d;return{init:function(){b=a.media,c=b.library,d=b.browser;
var e=a.meta();a.editorPanel().html(a.view.panel({meta:e})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this}),a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this,a.generatePreview()})},generatePreview:function(){var b=a.preview.container().find("a"),c=a.insertAs().val(),d=a.insertCaption().val();if(b.length<1){var e=a.meta();a.preview.container().html(a.view.preview({meta:e,target:c,content:d}))}else b.attr("target",c).text(d);a.preview.resetLayout()
},setLayout:function(){},meta:function(){return c.getMeta(a.key)},place:function(){return c.getPlace(a.meta().place)},"{self} insertItem":function(){var c=a.meta(),d={title:c.title,target:a.insertAs().val(),content:a.insertCaption().val()};b.insert(a.meta(),d)},"{insertCaption} keyup":function(){a.generatePreview()},"{insertCaption} blur":function(b){if(""==b.val()){var c=a.meta();b.val(c.title),a.generatePreview()}},"{insertAs} change":function(){a.generatePreview()}}}),b.resolve()})}),EasyBlog.module("media/editor.image",function(a){var b=this;
EasyBlog.require().library("ui/position").script("media/constrain").view("media/editor.image","media/editor.image.variation","media/editor.image.caption").done(function(){EasyBlog.Controller("Media.Editor.Image",{defaultOptions:{view:{panel:"media/editor.image",variation:"media/editor.image.variation",caption:"media/editor.image.caption"},defaultVariation:"thumbnail","{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{imageVariationPanel}":".imageVariationPanel","{imageVariationList}":".imageVariationList","{imageVariations}":".imageVariations","{imageVariation}":".imageVariation","{imageEnforceDimensionOption}":".imageEnforceDimensionOption","{imageEnforceWidth}":".imageEnforceWidth","{imageEnforceHeight}":".imageEnforceHeight","{imageCaptionOption}":".imageCaptionOption","{imageCaption}":".imageCaption","{imageZoomOption}":".imageZoomOption","{imageZoomLargeImageSelection}":".imageZoomLargeImageSelection","{itemFilesize}":".itemFilesize","{itemFilename}":".itemFilename","{itemUrl}":".itemUrl","{itemCreationDate}":".itemCreationDate","{modalPrompt}":".modalPrompt"}},function(b){var c,d,e,f;
return{init:function(){c=b.media,d=c.library,e=c.browser;var a=b.meta(),g=b.place(),h={controller:{editor:b,media:b.media}};b.editorPanel().html(b.view.panel({meta:a,acl:g.acl,enableLightbox:c.options.exporter.image.lightbox,enforceImageDimension:c.options.exporter.image.enforceDimension,enforceImageWidth:c.options.exporter.image.enforceWidth,enforceImageHeight:c.options.exporter.image.enforceHeight})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){b.panel=this,("jomsocial"===a.place||"easysocial"==a.place)&&(b.itemFilesize().remove(),b.itemFilename().css("padding-right",0))
}),b.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,h,function(){f=b.promptDialog=this});var i=EasyBlog.Controller.Media.Editor.Image.Filter;b.element.implement(i.Dimension,h).implement(i.Caption,h).implement(i.Lightbox,h),b.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{draggable:!0},function(){b.preview=this,b.previewImage(b.meta().thumbnail.url)}),g.acl.canCreateVariation&&g.acl.canDeleteVariation&&b.element.implement(EasyBlog.Controller.Media.Editor.Image.VariationForm,h),b.populateImageVariations(),b.setLayout()
},meta:function(){return d.getMeta(b.key)},place:function(){return d.getPlace(b.meta().place)},setLayout:function(){b.preview.resetLayout()},"{self} insertItem":function(){var a=b.currentImageVariation().data("variation"),d={variation:a.name};b.imageEnforceDimensionOption().is(":checked")&&(d.enforceDimension=!0,d.enforceWidth=b.imageEnforceWidth().val(),d.enforceHeight=b.imageEnforceHeight().val()),b.imageCaptionOption().is(":checked")&&(d.caption=b.imageCaption().val()),b.imageZoomOption().is(":checked")&&(d.zoom=b.imageZoomLargeImageSelection().val()),c.insert(b.meta(),d)
},populateImageVariations:function(){var c=b.meta(),e=c.variations;return b.imageVariationsData=b.imageVariationsData||{},void 0===e?(b.imageVariations().empty().addClass("busy"),d.getMetaVariations(c.key).done(function(){b.populateImageVariations(),b.imageVariations().removeClass("busy")}).fail(function(){}).always(function(){b.imageVariations().removeClass("busy")}),void 0):(a.each(e,function(a,c){"icon"!=c.name&&b.createImageVariation(c)}),b.trigger("variationPopulated",[b.imageVariationsData]),void 0)},createImageVariation:function(a){var c=b.view.variation({variation:a});
return c.data("variation",a).appendTo(b.imageVariations()),(a["default"]===!0||"true"==a["default"])&&c.addClass("default"),a.canDelete||c.addClass("locked"),b.imageVariationsData[a.name]=c,b.trigger("variationCreated",[c,a]),c},"{self} variationPopulated":function(){var c,d=b.imageVariation(".default");if(b.imageVariation().length>0){if(d.length<1){var e=b.meta(),f=b.previewImage();void 0!==f&&a.each(e.variations,function(a,b){return b.width==f.width()&&b.height==f.height()?(c=b.name,!1):void 0}),c=c||b.imageVariation(":first").data("variation").name
}else c=d.eq(0).data("variation").name;b.currentImageVariation(c)}},"{imageVariation} click":function(a){var c=a.data("variation");b.currentImageVariation(c.name)},currentImageVariation:function(c){var d=b.currentImageVariation.imageVariation,e=b.imageVariationsData[c];if(void 0!==e){var f=e.data("variation"),g=b.meta();if("jomsocial"==g.place||"easysocial"==g.place){var h=b.previewImage();f.width=h?h.data("width"):0,f.height=h?h.data("height"):0,a('<span class="variationDimension"></span>').text(f.width+"x"+f.height).appendTo(e)
}d&&d.removeClass("active"),e.addClass("active"),b.currentImageVariation.imageVariation=e,b.trigger("variationSelected",[e,f])}return b.currentImageVariation.imageVariation},"{self} variationSelected":function(a,c,d,e){b.itemFilesize().html(e.filesize),b.itemUrl().html(e.url),b.itemCreationDate().html(e.dateCreated),b.previewImage(e.url)},"{self} variationRemoved":function(a,c,d,e){delete b.imageVariationsData[e.name],d.remove()},previewImage:function(c){if(void 0===c)return b.previewImage.currentImage;void 0===b.previewImage.images&&(b.previewImage.images={});
var d=b.previewImage.images[c],e=b.previewImage.currentUrl,f=b.previewImage.images[e];return b.preview.showDialog("loading"),void 0===f||a.isDeferred(f)||(f.detach(),b.preview.container().empty()),b.previewImage.currentUrl=c,void 0===d?(b.previewImage.images[c]=a.Image.get(c).done(function(a){b.previewImage.images[c]=a,b.previewImage.currentUrl==c&&b.previewImage(c)}).fail(function(){b.preview.hideDialog("loading"),b.previewImage.currentUrl==c}),void 0):(a.isDeferred(d)||(b.preview.container().append(d),b.previewImage.currentImage=d,b.trigger("previewImage",[b.preview.container(),d]),b.preview.hideDialog("loading"),b.preview.resetLayout()),void 0)
}}}),EasyBlog.Controller("Media.Editor.Image.VariationForm",{defaultOptions:{"{imageVariationForm}":".imageVariationForm","{addVariationButton}":".addVariationButton","{createVariationButton}":".createVariationButton","{removeVariationButton}":".removeVariationButton","{cancelVariationButton}":".cancelVariationButton","{tryCreateVariationButton}":".tryCreateVariationButton","{newVariationName}":".newVariationName","{newVariationWidth}":".newVariationWidth","{newVariationHeight}":".newVariationHeight","{newVariationRatio}":".newVariationRatio","{newVariationLockRatio}":".newVariationLockRatio","{imageVariationMessage}":".imageVariationMessage",variationNameFilter:new RegExp("[^a-zA-Z0-9]","g"),"{createNewImageVariationPrompt}":".createNewImageVariationPrompt","{promptVariationName}":".createNewImageVariationPrompt .variationName","{promptVariationWidth}":".createNewImageVariationPrompt .variationWidth","{promptVariationHeight}":".createNewImageVariationPrompt .variationHeight"}},function(b){return{init:function(){},"{self} variationSelected":function(){var a=b.editor.currentImageVariation().data("variation");
b.removeVariationButton().toggle(a.canDelete)},nextVariationName:function(c){var d=!1,c=a.trim(c.toLowerCase());return a.each(b.editor.imageVariationsData,function(b,e){if(c==e.data("variation").name.toLowerCase()){d=!0;var f=c.substr(-1,1);return c=a.isNumeric(f)?c.substr(0,c.length-1)+(parseInt(f,10)+1):c+1,!1}}),d?b.nextVariationName(c):c},"{addVariationButton} click":function(){b.editor.promptDialog.get("createNewImageVariationPrompt").state("default").show();var c=b.editor.currentImageVariation().data("variation");
variationName=a.String.capitalize(b.nextVariationName(c.name)),b.newVariationName().data("default",variationName).val(variationName).select(),b.newVariationWidth().data("default",c.width).val(c.width),b.newVariationHeight().data("default",c.height).val(c.height),b.imageVariationForm().constrain({selector:{width:b.options["{newVariationWidth}"],height:b.options["{newVariationHeight}"],constrain:b.options["{newVariationLockRatio}"]},source:{width:c.width,height:c.height},allowedMax:{width:b.editor.media.options.exporter.image.maxVariationWidth,height:b.editor.media.options.exporter.image.maxVariationHeight}})
},"{newVariationRatio} click":function(a){a.toggleClass("locked"),a.hasClass("locked")?b.newVariationLockRatio().attr("checked","checked"):b.newVariationLockRatio().removeAttr("checked"),b.newVariationLockRatio().trigger("change")},"{createVariationButton} click":function(){b.createVariation()},"{tryCreateVariationButton} click":function(){b.createVariation()},"{newVariationName} keyup":function(c,d){var e=a.trim(a(c).val());e=e.replace(new RegExp("[^0-9a-zA-Z]","g"),""),a(c).val(e),13==d.keyCode&&b.createVariationButton().trigger("click")
},"[{newVariationWidth}, {newVariationHeight}] keyup":function(a,c){13==c.keyCode&&b.createVariationButton().trigger("click")},createVariation:function(){var c=b.editor.meta(),d=b.editor.place(),e=b.newVariationName().val(),f=b.newVariationWidth().val(),g=b.newVariationHeight().val();return a.trim(e)&&a.trim(f)&&a.trim(g)?(b.promptVariationName().text(e),b.promptVariationWidth().text(f),b.promptVariationHeight().text(g),b.editor.promptDialog.get("createNewImageVariationPrompt").state("progress").show(),EasyBlog.ajax("site.views.media.createVariation",{path:c.path,place:d.id,name:e,width:f,height:g},{success:function(a){b.media.library.meta[c.key].variations.push(a),b.editor.createImageVariation(a),b.editor.currentImageVariation(a.name),b.cancelVariationButton().click()
},fail:function(){b.editor.promptDialog.get("createNewImageVariationPrompt").state("fail").show()}}),void 0):!1},"{removeVariationButton} click":function(){var a=b.editor.imageVariation(".active"),c=a.data("variation"),d=b.editor.meta(),e=b.editor.place();c.canDelete&&EasyBlog.ajax("site.views.media.deleteVariation",{fromPath:d.path,place:e.id,name:c.name},{beforeSend:function(){a.addClass("busy")},success:function(){a.slideUp(function(){b.trigger("variationRemoved",[a,c])}),b.editor.imageVariation(".default").click(),b.media.library.removeMetaVariation(d,c.name)
},fail:function(a){try{console.log(a)}catch(b){}},complete:function(){a.removeClass("busy")}})}}}),EasyBlog.Controller("Media.Editor.Image.Filter.Caption",{defaultOptions:{view:{caption:"media/editor.image.caption"},"{imageVariation}":".imageVariation","{imageCaptionOption}":".imageCaptionOption","{imageCaption}":".imageCaption"}},function(b){return{init:function(){b.item={meta:b.editor.meta()}},"{imageVariation} click":function(){b.transform()},"{self} dimensionEnforced":function(){b.transform()},"{imageCaptionOption} change":function(a,c){c.stopPropagation(),a.parent(".field").toggleClass("hide-field-content",!a.is(":checked")),b.transform()
},"{imageCaptionOption} mouseup":function(){setTimeout(function(){b.imageCaption().focus()[0].select()},1)},"{imageCaption} blur":function(c){""==a.trim(c.val())&&c.val(b.item.meta.title),b.transform()},"{imageCaption} keyup":function(){b.transform()},transform:function(){var a=b.editor.preview.container(),c=a.find("img"),d=a.find("div.imageCaptionText");if(b.imageCaptionOption().is(":checked")){var e=b.imageCaption().val();d.remove(),a.width(c.width()),a.addClass("imageCaptionBorder"),a.width(a.width()),a.append(b.view.caption({caption:e}))
}else a.removeClass("imageCaptionBorder"),d.remove(),a.width("auto");b.editor.preview.resetLayout()}}}),EasyBlog.Controller("Media.Editor.Image.Filter.Lightbox",{defaultOptions:{defaultImageZoomVariation:"original","{imageZoomOption}":".imageZoomOption","{imageZoomLargeImageSelection}":".imageZoomLargeImageSelection","{imageZoomLargeImageOption}":".imageZoomLargeImageSelection option"}},function(b){return{init:function(){},"{self} variationCreated":function(c,d,e,f){var g=a.String.capitalize(f.name),h=a("<option>").val(g).html(g).data("variation",f),i=b.media.options.exporter.image.zoom||b.options.defaultImageZoomVariation;
f.name==i&&h.attr("selected",!0),b.imageZoomLargeImageSelection().append(h)},"{self} variationRemoved":function(a,c,d,e){b.imageZoomLargeImageOption('[value="'+e.name+'"]').remove()},"{imageZoomOption} change":function(a,b){b.stopPropagation(),a.parent(".field").toggleClass("hide-field-content",!a.is(":checked"))},transform:function(){if(b.imageZoomOption().is(":checked")){var c=b.imageZoomLargeImageOption(":selected").data("variation");image=a("<a>").addClass("easyblog-thumb-preview").attr({href:c.url,title:imageCaption||b.item.meta.title}).html(image)
}}}}),EasyBlog.Controller("Media.Editor.Image.Filter.Dimension",{defaultOptions:{"{imageEnforceDimension}":".imageEnforceDimension","{imageEnforceDimensionOption}":".imageEnforceDimensionOption","{imageEnforceWidth}":".imageEnforceWidth","{imageEnforceHeight}":".imageEnforceHeight","{imageEnforceRatio}":".imageEnforceRatio","{imageEnforceLockRatio}":".imageEnforceLockRatio","{imageVariation}":".imageVariation"}},function(b){return{init:function(){var a={selector:{width:b.options["{imageEnforceWidth}"],height:b.options["{imageEnforceHeight}"],constrain:b.options["{imageEnforceLockRatio}"]}};
b.editor.element.bind("variationPopulated",function(){b.editor.media.options.exporter.image.enforceDimension&&b.imageEnforceDimensionOption().attr({checked:"checked",disabled:"disabled"}).parent(".field").removeClass("hide-field-content"),b.applyConstrain(a)})},"{imageVariation} click":function(){b.applyConstrain()},"{imageEnforceDimensionOption} change":function(a,c){c.stopPropagation(),a.parent(".field").toggleClass("hide-field-content",!a.is(":checked")),b.transform()},"{imageEnforceRatio} click":function(a){a.toggleClass("locked"),a.hasClass("locked")?b.imageEnforceLockRatio().attr("checked","checked"):b.imageEnforceLockRatio().removeAttr("checked"),b.imageEnforceLockRatio().trigger("change"),a.hasClass("locked")&&b.transform()
},"{self} previewImage":function(){b.transform()},"{imageEnforceWidth} keyup":function(){b.transform()},"{imageEnforceHeight} keyup":function(){b.transform()},"{imageEnforceWidth} blur":function(c){""!=a.trim(c.val())||b.imageEnforceLockRatio().is(":checked")||c.val(c.data("initial")),b.transform()},"{imageEnforceHeight} blur":function(c){""!=a.trim(c.val())||b.imageEnforceLockRatio().is(":checked")||c.val(c.data("initial")),b.transform()},transform:function(){var a=b.editor.previewImage();if(void 0!==a){var c={};
if(b.imageEnforceDimensionOption().is(":checked"))c={width:b.imageEnforceWidth().val(),height:b.imageEnforceHeight().val()};else{var d=b.editor.currentImageVariation();d=void 0===d?b.editor.meta():d.data("variation"),c={width:d.width,height:d.height}}(a.width()!==c.width||a.height()!==c.height)&&(a.css(c),b.editor.trigger("dimensionEnforced")),b.editor.preview.resetLayout()}},applyConstrain:function(c){var d=void 0===b.editor.currentImageVariation()?b.editor.meta():b.editor.currentImageVariation().data("variation"),e={source:{width:d.width,height:d.height}};
b.editor.media.options.exporter.image.enforceDimension&&(e.allowedMax={width:b.editor.media.options.exporter.image.enforceWidth,height:b.editor.media.options.exporter.image.enforceHeight}),c=a.extend(!0,{},e,c),b.imageEnforceDimension().constrain(c),b.transform()}}}),b.resolve()})}),EasyBlog.module("media/editor.video",function(a){var b=this;EasyBlog.require().view("media/editor.video","media/editor.video.player").done(function(){EasyBlog.Controller("Media.Editor.Video",{defaultOptions:{view:{panel:"media/editor.video",player:"media/editor.video.player"},player:{width:400,height:225,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff",modes:[{type:"html5"},{type:"flash",src:a.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/player.swf"},{type:"download"}]},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{playerContainer}":".playerContainer","{insertWidth}":".insertWidth","{insertHeight}":".insertHeight","{autoplay}":".autoplay"}},function(b){var c,d,e;
return{init:function(){c=b.media,d=c.library,e=c.browser;var a=b.meta(),f=c.options.exporter.video.width,g=c.options.exporter.video.height;void 0!==f&&(b.options.player.width=f),void 0!==g&&(b.options.player.height=g),b.editorPanel().html(b.view.panel({meta:a,insertWidth:b.options.player.width,insertHeight:b.options.player.height})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){b.panel=this}),b.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){b.preview=this,b.initPlayer()
})},initPlayer:function(){b.preview.showDialog("loading"),EasyBlog.require().script(a.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/jwplayer.js").done(function(a){var c=b.meta(),e=(b.place(),"player-"+a.uid()),f=a.extend(b.options.player,{id:e,file:b.meta().url}),g=b.view.player({id:e,meta:c,options:f});b.preview.container().append(g),b.player=jwplayer(e).setup(f),b.preview.resetLayout(),b.preview.hideDialog("loading")}).fail(function(){})},meta:function(){return d.getMeta(b.key)},place:function(){return d.getPlace(b.meta().place)
},setLayout:function(){},"{self} cancelItem":function(){b.player&&"PLAYING"==b.player.getState()&&b.player.pause()},"{self} insertItem":function(){var a={autostart:"1"==b.autoplay().val()?!0:!1,width:parseInt(b.insertWidth().val(),10),height:parseInt(b.insertHeight().val(),10)};c.insert(b.meta(),a)},resize:function(){if(b.player){var a=parseInt(b.insertWidth().val(),10),c=parseInt(b.insertHeight().val(),10);b.player.resize(a,c),b.preview.resetLayout()}},"{insertWidth} keyup":function(){b.resize()},"{insertHeight} keyup":function(){b.resize()
}}}),b.resolve()})}),EasyBlog.module("media/uploader.item",function(a){var b=this;EasyBlog.Controller("Media.Browser.Uploader.Item",{defaultOptions:{"{filename}":".uploadFilename","{progressBar}":".uploadProgressBar progress","{percentage}":".uploadPercentage","{status}":".uploadStatus","{removeButton}":".uploadRemoveButton"}},function(b){return{init:function(){b.element.data("item",b),b.filename().html(b.file.name),b.setState("queued")},getFilesize:function(c,d){return void 0===b.file.size||"N/A"==b.file.size?"":(c?c:"")+a.plupload.formatSize(b.file.size)+(d?d:"")
},setProgress:function(a){b.progressBar().attr("value",a),b.percentage().html(a)},setState:function(a){b.element.removeClass("upload-state-"+b.state).addClass("upload-state-"+a),b.state=a},setMessage:function(a){b.status().html(a)},"{removeButton} click":function(a,c){c.stopPropagation(),b.element.slideUp(function(){b.element.remove()})}}}),b.resolve()}),EasyBlog.module("ratings",function(a){var b=this;EasyBlog.require().library("ui/stars").script("legacy").done(function(){eblog.ratings={setup:function(b,c,d){a("#"+b).stars({split:2,disabled:c,oneVoteOnly:!0,cancelShow:!1,callback:function(c){eblog.loader.loading(b+"-command .rating-text"),ejax.load("ratings","vote",c.value(),a("#"+b).children("input:hidden").val(),d,b)
}})},showVoters:function(a,b){ejax.load("ratings","showvoters",a,b)},update:function(b,c,d){a("#"+b).children(".ui-stars-star").removeClass("ui-stars-star-on"),d=parseInt(d),a("#"+b+"-command").hide(),a("#"+b).addClass("voted"),a("#"+b).children(".ui-stars-star").each(function(b){d>b?a(this).addClass("ui-stars-star-on"):a(this).removeClass("ui-stars-star-on")})}},b.resolve()})}),EasyBlog.module("tag",function(a){var b=this;EasyBlog.require().view("dashboard/dashboard.tags.item").done(function(){EasyBlog.Controller("Tag.Form",{defaultOptions:{tags:[],tagLimit:0,tagSelections:[],tagSelectionLimit:25,"{tagList}":".tag-list.creation","{tagItems}":".tag-list.creation .tag-item","{tagItemRemoveButton}":".remove-tag","{tagCreationForm}":".new-tag-item","{tagInput}":".tagInput","{tagCreateButton}":".tag-create","{totalTags}":".total-tags","{tagSelectionFilter}":".tag-selection-filter","{tagSelectionList}":".tag-list.selection","{tagSelectionItems}":".tag-list.selection .tag-item","{tagSelection}":".tag-selection","{showAllTagsButton}":".show-all-tags",view:{tagItem:"dashboard/dashboard.tags.item"}}},function(b){return{init:function(){EasyBlog.dashboard&&EasyBlog.dashboard.registerPlugin("tags",b),setTimeout(function(){var c,a=b.options.tagSelections,d=a.length;
for(c=0;d>c;c++)b.tags[a[c].title.toLowerCase()]=a[c];var a=b.options.tags,d=a.length;for(c=0;d>c;c++){var e=b.getKey(a[c].title);b.selectTag(e)}b.showTagSelections("")},0)},tags:{},items:{},selected:{},sanitizeTitle:function(b){return a.trim(b).replace(/[,\'\"\#\<\>]/gi,"")},getKey:function(a){return b.sanitizeTitle(a).toLowerCase()},getTag:function(a){return Object.prototype.hasOwnProperty.call(b.tags,a)?b.tags[a]:void 0},createTag:function(a){var a=b.sanitizeTitle(a),c=a.toLowerCase();return b.getTag(c)||(b.tags[c]={title:a})
},getTagItem:function(a){var c=b.getTag(a);if(c)return c.item||(c.item=b.view.tagItem({title:c.title}).data("key",a))},getTagData:function(c){var d=b.getTag(c);if(d)return d.data||(d.data=a('<input class="tagdata" type="hidden" name="tags[]" value="'+d.title+'" />'))},search:function(c){var c=a.trim(c).toLowerCase(),d=[];for(key in b.tags)key.indexOf(c)<0||d.push(key);return d},selectTag:function(a){clearTimeout(b.selectTag.refreshTagSelection);var c=b.getTagItem(a);if(c){var d=b.tagItems();if(!(b.options.tagLimit>0&&d.length>=b.options.tagLimit)){if(c.css({opacity:0}),d.length<1)b.tagList().prepend(c);
else{var e=d.filter(":last");e[0]!=c[0]&&c.insertAfter(e)}c.animate({opacity:1});var f=b.getTagData(a);f.appendTo(b.element),b.selected[a]=!0,b.checkTagLimit(),b.selectTag.refreshTagSelection=setTimeout(function(){b.showTagSelections()},500)}}},unselectTag:function(a){var c=b.getTagItem(a);if(c){c.detach();var d=b.getTagData(a);d.detach(),delete b.selected[a],b.checkTagLimit();var e=b.getTag(a);void 0!==e.alias&&b.showTagSelections()}},addToTagSelectionList:function(a){var c=b.getTagItem(a);return c&&c.appendTo(b.tagSelectionList())
},showTagSelections:function(a){b.tagSelectionItems().detach(),a=b.currentFilter=void 0===a?b.currentFilter||"":a;var c=0,d=b.options.tagSelectionLimit;if(""===a)for(h in b.tags){if(c>=d)break;b.selected[h]||void 0===b.getTag(h).alias||(b.addToTagSelectionList(h),c++)}else{var f,e=b.search(a),g=e.length;for(f=0;g>f&&!(c>=d);f++){var h=e[f];b.selected[h]||void 0===b.getTag(h).alias||(b.addToTagSelectionList(h),c++)}}b.tagSelection().toggleClass("no-selection",1>c)},"{tagInput} keydown":function(a,c){c.stopPropagation(),b.realEnterKey=13==c.keyCode
},"{tagInput} keypress":function(a,c){c.stopPropagation(),b.realEnterKey=b.realEnterKey&&13==c.keyCode},"{tagInput} keyup":function(a,c){switch(clearTimeout(b.filterTask),c.stopPropagation(),c.keyCode){case 27:a.val("");break;case 13:b.realEnterKey&&a.hasClass("canCreate")&&b.createTagFromInput()}b.filterTask=setTimeout(function(){b.showTagSelections(a.val())},250)},createTagFromInput:function(){var c=a.trim(b.tagInput().val());if(""!==c){{var d=b.getKey(c);b.createTag(c)}b.selectTag(d),b.tagInput().val("")}b.showTagSelections("")
},checkTagLimit:function(){var a=b.options.tagLimit;if(!(1>a)){var c=b.tagItems().length;b.totalTags().text(c),b.tagCreationForm()[c>=a?"hide":"show"]()}},"{tagCreateButton} click":function(){b.createTagFromInput()},"{tagSelectionItems} click":function(a){var c=a.data("key");b.selectTag(c)},"{tagItemRemoveButton} click":function(a){var c=a.parents(".tag-item").data("key");b.unselectTag(c)},"{showAllTagsButton} click":function(a){a.hasClass("active")?(a.removeClass("active"),b.options.tagSelectionLimit=b.originalLimit):(a.addClass("active"),b.originalLimit=b.options.tagSelectionLimit,b.options.tagSelectionLimit=9999),b.showTagSelections("")
}}}),b.resolve()})})});