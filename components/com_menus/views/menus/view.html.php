<?php/** * @package     Joomla.Site * @subpackage  com_menus * * @copyright   Copyright (C) 2005 - 2016 Open Source Matters, Inc. All rights reserved. * @license     GNU General Public License version 2 or later; see LICENSE.txt */defined('_JEXEC') or die;/** * The HTML Menus Menu Menus View. * * @since  1.6 */class MenusViewMenus extends JViewLegacy{	/**	 * @var  mixed	 */	protected $items;	/**	 * @var  array	 */	protected $modules;	/**	 * @var  JPagination	 */	protected $pagination;	/**	 * @var  JObject	 */	protected $state;	/**	 * Display the view	 *	 * @param   string  $tpl  The name of the template file to parse; automatically searches through the template paths.	 *	 * @return  void	 *	 * @since   1.6	 */	public function display($tpl = null)	{		$this->items      = $this->get('Items');		$this->modules    = $this->get('Modules');		$this->pagination = $this->get('Pagination');		$this->state      = $this->get('State');		if ($this->getLayout() == 'default')		{			$this->filterForm    = $this->get('FilterForm');			$this->activeFilters = $this->get('ActiveFilters');		}		require_once JPATH_ROOT . '/components/com_menus/helpers/menus.php';		MenusHelper::addSubmenu('menus');		// Check for errors.		if (count($errors = $this->get('Errors')))		{			JError::raiseError(500, implode("\n", $errors));			return false;		}		$this->addToolbar();		$this->sidebar = JHtmlSidebar::render();		parent::display($tpl);	}	/**	 * Add the page title and toolbar.	 *	 * @return  void	 *	 * @since   1.6	 */	protected function addToolbar()	{		$canDo = JHelperContent::getActions('com_menus');		JToolbarHelper::title(JText::_('COM_MENUS_VIEW_MENUS_TITLE'), 'list menumgr');		JToolbarHelper::addNew('menu.add');		JToolbarHelper::editList('menu.edit');		JToolbarHelper::divider();		JToolbarHelper::deleteList('COM_MENUS_MENU_CONFIRM_DELETE', 'menus.delete', 'JTOOLBAR_DELETE');		JToolbarHelper::divider();		JToolbarHelper::preferences('com_menus');		JToolbarHelper::divider();		JToolbarHelper::help('JHELP_MENUS_MENU_MANAGER');	}}