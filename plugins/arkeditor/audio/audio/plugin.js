(function(){CKEDITOR.plugins.add("audio",{requires:"widget",init:function(n){n.widgets.add("audio",{templates:'<div class="htlado"><audio><\/audio><\/div>',upcast:function(n){return n.name=="div"&&n.hasClass("htlado")}});n.on("insertHtml",function(n){var i=n.data,t=i.dataValue;t=t.replace("<audio",'<div class="htlado"><audio').replace("/audio>","/audio><\/div>");i.dataValue=t})},afterInit:function(n){var t=n.dataProcessor,i=t&&t.dataFilter;i&&i.addRules({elements:{audio:function(t){if(!t.parent||t.parent.name!="div"||t.parent.name=="div"&&!t.parent.hasClass("htlado")){var i="widget_"+CKEDITOR.tools.getNextId(),r=new CKEDITOR.htmlParser.element("div",{"class":"htlado",id:i});if(t.wrapWith(r),n.status!="ready")CKEDITOR.once("instanceReady",function(t){var r=n.document.getById(i);t.editor.widgets.initOn(r,"audio")});else n.once("dataReady",function(){var t=n.document.getById(i);n.widgets.initOn(t,"audio")})}return t}}})}})})()