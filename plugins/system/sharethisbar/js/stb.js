var _gaq=_gaq||[],SocialBar=new Class({Implements:[Options],options:{position:"left",swidth:"0",sheight:"0",corrtop:"150",corrbottom:"0",corleft:"90",corright:"-90",effectson:"1",transitioneff:"0",transitiondur:"1000",hreffb:"",hrefgoogle:"",hreftwitter:"",fb_datawidth:"62",delaybarshowup:"3",fb_xmlns:"0",googleanalyt:"0",minresshow:"1100"},initialize:function(a){this.divId=document.getElementsByTagName("body")[0],this.setOptions(a);var b={left:0,top:0,bottom:Window.getScrollSize().y,right:Window.getScrollSize().x};this.divIdCoord=b,this.boolShowBar=1;var c=Window.getSize().x;c>=this.options.minresshow.toInt()-20?this.boolShowBar=1:this.boolShowBar=0,this.createBar()},createBar:function(){this.barContainer=new Element("div",{id:"socialbar",styles:{position:"absolute",top:this.divIdCoord.top,cursor:"pointer","text-align":"center",left:"-2000px"}}),this.barContainer.setStyles({}),this.barContainer.inject(this.divId);var fbDatawidth=this.options.fb_datawidth.toString(),parm_fb_datawidth=fbDatawidth?' data-width="'+fbDatawidth+'"':"",fbHref=this.options.hreffb,parm_fb_href=fbHref?' data-href="'+fbHref+'"':"",fbDataSend=this.options.datasendfb,parm_fb_datasend="1"==fbDataSend?' data-send="true" ':' data-send="false" ';if(this.twittBtnType=this.options.twitter_btntype,"0"==this.twittBtnType){var twittHref=this.options.hreftwitter,parm_twitter_href=twittHref?' data-url="'+twittHref+'" data-counturl="'+twittHref+'"':"",twittLang=this.options.twitter_locale,parm_twitter_lang=twittLang?' data-lang="'+twittLang+'"':"",twittRelated=this.options.twitter_datarelated,parm_twitter_related=twittRelated?' data-related="'+twittRelated+'"':"",twittText=this.options.twitter_text,parm_twitter_text=twittText?' data-text="'+twittText+'"':"",twittVia=this.options.twitter_via;parm_twitter_via=twittVia?' data-via="'+twittVia+'"':""}else{var parm_twitter_src="https://platform.twitter.com/widgets/tweet_button.html?count=vertical",twittHref=this.options.hreftwitter,parm_twitter_href=twittHref?"&amp;url="+encodeURI(twittHref)+"&amp;counturl="+encodeURI(twittHref):"";parm_twitter_src+=parm_twitter_href,twittLang=this.options.twitter_locale,parm_twitter_lang=twittLang?"&lang="+twittLang:"",parm_twitter_src+=parm_twitter_lang,twittRelated=this.options.twitter_datarelated,parm_twitter_related=twittRelated?"&related="+twittRelated:"",parm_twitter_src+=parm_twitter_related,twittText=this.options.twitter_text,parm_twitter_text=twittText?"&text="+twittText:"",parm_twitter_src+=parm_twitter_text,twittVia=this.options.twitter_via,parm_twitter_via=twittVia?"&via="+twittVia:"",parm_twitter_src+=parm_twitter_via}var googleHref=this.options.hrefgoogle,parm_google_href=googleHref?' data-href="'+googleHref+'"':"",linkedinHref=this.options.hreflinkedin,parm_linkedin_href=linkedinHref?' data-url="'+linkedinHref+'"':"",parm_pinterest_href=encodeURI(this.options.hrefpinterest),parm_pinterest_picture=encodeURI(this.options.picturepinterest),parm_pinterest_desc=encodeURI(this.options.descpinterest),bufferHref=this.options.bufferhref,parm_buffer_href=bufferHref?' data-url="'+bufferHref+'"':"",bufferText=this.options.buffertext,parm_buffer_text=bufferText?' data-text="'+bufferText+'"':"",bufferVia=this.options.buffervia,parm_buffer_via=bufferVia?' data-via="'+bufferVia+'"':"",bufferPic=this.options.bufferpic,parm_buffer_pic=bufferPic?' data-picture="'+bufferPic+'"':"",barContainerHtml="",nizBtnsort=this.options.btnsort||[];if("string"==typeof this.options.btnsort)var nizBtnsort=[this.options.btnsort];this.arrActiveBtns=nizBtnsort,"1"==this.options.spreadword&&(barContainerHtml+='<div id="spreadword" style="height:50px;width:75px;margin:auto;cursor:default;background: url(\'/plugins/system/sharethisbar/images/'+this.options.spreadwordpic+'\') no-repeat scroll center center transparent" alt="Spread the Word" title="Spread the Word"></div>'),this.arrCustomButtonScripts=new Array;for(var i=0;i<nizBtnsort.length;i++)switch(nizBtnsort[i]){case"fb":barContainerHtml+='<div class="stbbtnstyle" id="stbfb"><div class="fb-like" '+parm_fb_href+parm_fb_datasend+' data-layout="box_count" '+parm_fb_datawidth+' data-show-faces="false" data-font="arial"></div></div>';break;case"go":barContainerHtml+='<div class="stbbtnstyle plusone-container" id="stbgo"><div class="g-plusone" data-size="tall" '+parm_google_href+' data-count="true" data-source="google:developers"></div></div>';break;case"tw":barContainerHtml+="0"==this.twittBtnType?'<div class="stbbtnstyle" id="stbtw"><a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" '+parm_twitter_href+parm_twitter_lang+parm_twitter_related+parm_twitter_text+parm_twitter_via+">Tweet</a></div>":'<div class="stbbtnstyle" id="stbtw"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="'+parm_twitter_src+'" style="width:58px; height:62px;"></iframe></div>';break;case"li":barContainerHtml+='<div class="stbbtnstyle" id="stbli"><script type="IN/Share" '+parm_linkedin_href+' data-counter="top" data-onsuccess="linkedinShareGA" data-onerror="linkedinShareErrorGA"></script></div>';break;case"pi":""!=parm_pinterest_href&&""!=parm_pinterest_picture&&""!=parm_pinterest_desc&&(barContainerHtml+='<div class="stbbtnstyle" id="stbpi"><a href="http://pinterest.com/pin/create/button/?url='+parm_pinterest_href+"&media="+parm_pinterest_picture+"&description="+parm_pinterest_desc+'" class="pin-it-button" count-layout="vertical"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It" /></a></div>');break;case"bu":barContainerHtml+='<div class="stbbtnstyle"  id="stbbu"><a href="http://bufferapp.com/add" class="buffer-add-button" data-count="vertical" '+parm_buffer_href+parm_buffer_text+parm_buffer_via+parm_buffer_pic+">Buffer</a></div>";break;case"dg":barContainerHtml+='<div class="stbbtnstyle" id="stbdg"><a class="DiggThisButton DiggThisButtonMedium" href="http://digg.com/submit?url='+encodeURIComponent(window.location.href)+"&amp;title="+encodeURIComponent(document.title)+'" rel="nofollow external"><img src="http://widgets.digg.com/img/button/diggThisMedium.png" width="50" height="61" alt="" /></a> </div>';break;case"tu":barContainerHtml+='<div class="stbbtnstyle" id="stbtu"><span id="tumblr_button_abc123"><a href="http://www.tumblr.com/share/link?url='+encodeURIComponent(window.location.href)+"&name="+encodeURIComponent(document.title)+"&description="+encodeURIComponent(document.title)+'" title="Share on Tumblr" style="display:inline-block; overflow:hidden; width:50px; height:50px;" target="_blank"><img src="http://platform.tumblr.com/v1/share_4.png" width="50" height="50" alt="Share on Tumblr" /></a></span></div>';break;case"de":barContainerHtml+='<div class="stbbtnstyle" id="stbde"><a href="https://www.delicious.com/save" target="_blank" onclick="window.open(\'https://www.delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+"&title="+encodeURIComponent(document.title)+'\',\'delicious\',\'toolbar=no,width=550,height=550\'); return false;"><img src="/plugins/system/sharethisbar/images/delicious50x50.gif" height="50" width="50" alt="Delicious" /></a><div style="background-color:#3274d0;color:#fff;border:1px solid #68a0ca;width:48px;height:15px;margin:auto;padding:0 0 5px 0;cursor:default;font-size:15px" id="deliciousCounter"></div></div>';break;case"tr":barContainerHtml+='<div class="stbbtnstyle" id="stbtr"><a href="http://technorati.com/faves?sub=addfavbtn&add='+encodeURIComponent(location.href)+'" target="_blank"><img alt="Add to Technorati Favorites" src="http://scm-l3.technorati.com/images/trussite/icon/logo-lg.png" width="50" height="50" /></div>';break;case"su":barContainerHtml+='<div class="stbbtnstyle"  id="stbsu"><iframe id="iframe-stmblpn-widget-1" scrolling="no" width="50" height="60" frameborder="0" allowtransparency="true" style="overflow: hidden; margin: 0px; padding: 0px; border: 0px none;" src="http://badge.stumbleupon.com/badge/embed/5/?url='+encodeURIComponent(window.location.href)+'"></iframe></div>';break;case"rd":barContainerHtml+='<div class="stbbtnstyle" id="stbrd"><iframe src="https://redditstatic.s3.amazonaws.com/button/button2.html?width=51&url='+encodeURIComponent(window.location.href)+"&newwindow="+encodeURIComponent(window.reddit_newwindow)+"\" height='69' width='51' scrolling='no'  frameborder='0'></iframe>  </div>";break;case nizBtnsort[i]:var imeDugmeKod="this.options."+nizBtnsort[i]+"_code";barContainerHtml+='<div class="stbbtnstyle" id="'+nizBtnsort[i]+'">'+eval(imeDugmeKod)+" </div>";var customButtonScriptFieldName="this.options."+nizBtnsort[i]+"_script",customButtonScriptHtml=eval(customButtonScriptFieldName);customButtonScriptHtml&&this.arrCustomButtonScripts.push(customButtonScriptHtml)}"1"==this.options.sharethisbarlink&&(barContainerHtml+='<div style="margin:4px 2px 0;border:1px solid #68a0ca;border-radius:5px;background-color:transparent "><a style="text-align:center;color:#68a0ca;font-weight:bold;font-style:italic;font-size:10px;text-decoration:none" href="http://extensionshub.com/" alt="ShareThisBar home page" title="ShareThisBar home page">ShareThisBar</a></div>'),this.barContainer.set("html",barContainerHtml),window.addEvent("scroll",function(){var a=Window.getScroll().y,b=Window.getScrollSize().y,c=Window.getSize().y,d=!1,e=b-c;e+5>=a&&a>=e-5&&(d=!0);var f=a+this.divIdCoord.top;this.moveBar(f,d)}.bind(this)),window.addEvent("resize",function(){var a=Window.getSize().x;a>=this.options.minresshow.toInt()-20?this.barContainer.fade("show"):this.barContainer.fade("hide")}.bind(this))},moveBar:function(a,b){if(barCoord=this.barContainer.getCoordinates(),a>=barCoord.top){var c=a>this.barBottomScrollBoundary?this.barBottomScrollBoundary:a;c==a&&1==b&&(c=this.barBottomScrollBoundary)}else var c=a>this.divIdCoord.top?a:this.divIdCoord.top;if("1"==this.options.effectson){var d;switch(this.options.transitioneff){case"0":d="linear";break;case"1":d="bounce:in";break;case"2":d="bounce:out";break;case"3":d="elastic:in";break;case"4":d="elastic:out";break;default:d="linear"}this.barContainer.set("tween",{property:"top",transition:d,duration:this.options.transitiondur}),this.barContainer.tween(c)}else this.barContainer.setStyle("top",c)},correctBar:function(){this.divIdCoord.top+=this.options.corrtop.toInt(),this.divIdCoord.bottom+=this.options.corrbottom.toInt(),this.barContainer.setStyle("top",this.divIdCoord.top);var a=0;a=0!=this.options.sheight.toInt()?this.options.sheight.toInt():this.barContainer.getHeight(),this.barContainer.setStyle("height",a);var b=Window.getScrollSize().y,c=Math.min(b,this.divIdCoord.bottom);this.barBottomScrollBoundary=c-a;var d=0;if(d=0!=this.options.swidth.toInt()?this.options.swidth.toInt():this.barContainer.getWidth(),this.barContainer.setStyle("width",d),"left"==this.options.position){var e=this.divIdCoord.left-d+this.options.corleft.toInt();this.barContainer.setStyle("left",e)}else this.barContainer.setStyle("left",this.divIdCoord.right+this.options.corright.toInt())},prepareSocialNetworks:function(){function a(a,b){if(a){var c=new RegExp("[\\?&#]"+b+"=([^&#]*)"),d=c.exec(a);return null!=d?unescape(d[1]):void 0}}this.arrActiveBtns.indexOf("pi")>=0&&!function(a){var b,c="pinterest-jssdk";a.getElementById(c)||(b=a.createElement("script"),b.id=c,b.src="//assets.pinterest.com/js/pinit.js",a.getElementsByTagName("head")[0].appendChild(b))}(document),this.arrActiveBtns.indexOf("li")>=0&&(!function(a){var b,c="linkedin-jssdk";a.getElementById(c)||(b=a.createElement("script"),b.id=c,b.src="//platform.linkedin.com/in.js",a.getElementsByTagName("head")[0].appendChild(b))}(document),linkedinShareGA=function(a){_gaq.push(["_trackSocial","LinkedIn","Share",a])},linkedinShareErrorGA=function(a){_gaq.push(["_trackSocial","LinkedIn","Share Error",a])}),this.arrActiveBtns.indexOf("go")>=0&&!function(a,b){var c,d="google-plus";if(!a.getElementById(d)){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src="https://apis.google.com/js/plusone.js",c.id=d;var e=a.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e),window.___gcfg={lang:b}}}(document,this.options.google_loc),this.arrActiveBtns.indexOf("fb")>=0&&(!function(a,b){var c,d="facebook-jssdk";a.getElementById(d)||(c=a.createElement("script"),c.id=d,c.async=!0,c.src="//connect.facebook.net/"+b+"/sdk.js#xfbml=1&version=v2.5",a.getElementsByTagName("head")[0].appendChild(c))}(document,this.options.fb_locale),function(a,b){var c,d="facebook-jsfun";a.getElementById(d)||(c=a.createElement("script"),c.id=d,c.text="window.fbAsyncInit = function() {FB.init({"+(parseInt(b)>0?'appid : "'+b+'",':"")+"status : true,cookie : true,xfbml  : true});  var ganlt = parseInt(SocialBarObj.options.googleanalyt); if (ganlt == 1) {FB.Event.subscribe('edge.create',	function(targetUrl) {          if (typeof _gaq == 'object') {              _gaq.push(['_trackSocial','facebook','like',targetUrl]);          } 	} ); FB.Event.subscribe('edge.remove',	function(targetUrl) {          if (typeof _gaq == 'object') {              _gaq.push(['_trackSocial','facebook','unlike',targetUrl]);          } 	} ); } }; // end fbAsyncInit ",a.getElementsByTagName("head")[0].appendChild(c))}(document,this.options.fb_appkey?this.options.fb_appkey.toString():"")),this.arrActiveBtns.indexOf("tw")>=0&&(window.twttr=function(a,b,c){var d,e,f=a.getElementsByTagName(b)[0];if(!a.getElementById(c))return e=a.createElement(b),e.id=c,e.src="//platform.twitter.com/widgets.js",f.parentNode.insertBefore(e,f),window.twttr||(d={_e:[],ready:function(a){d._e.push(a)}})}(document,"script","twitter-wjs"),"0"==this.twittBtnType&&(trackTwitter=function(b){var c;if(b&&"tweet"==b.type||"click"==b.type){"IFRAME"==b.target.nodeName&&(c=a(b.target.src,"url"));var d=b.type+("click"==b.type?"-"+b.region:"");_gaq.push(["_trackSocial","twitter",d,c])}},twttr.ready(function(a){a.events.bind("tweet",trackTwitter),a.events.bind("click",trackTwitter)}))),this.arrActiveBtns.indexOf("de")>=0&&("function"!=typeof Request.JSONP&&(MooTools.More={version:"1.4.0.1",build:"a4244edf2aa97ac8a196fc96082dd35af1abab87"},Request.JSONP=new Class({Implements:[Chain,Events,Options],options:{onRequest:function(a){this.options.log&&window.console&&console.log&&console.log("JSONP retrieving script with url:"+a)},onError:function(a){this.options.log&&window.console&&console.warn&&console.warn("JSONP "+a+" will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs")},url:"",callbackKey:"callback",injectScript:document.head,data:"",link:"ignore",timeout:0,log:!1},initialize:function(a){this.setOptions(a)},send:function(a){if(!Request.prototype.check.call(this,a))return this;this.running=!0;var b=typeOf(a);("string"==b||"element"==b)&&(a={data:a}),a=Object.merge(this.options,a||{});var c=a.data;switch(typeOf(c)){case"element":c=document.id(c).toQueryString();break;case"object":case"hash":c=Object.toQueryString(c)}var d=this.index=Request.JSONP.counter++,e=a.url+(a.url.test("\\?")?"&":"?")+a.callbackKey+"=Request.JSONP.request_map.request_"+d+(c?"&"+c:"");e.length>2083&&this.fireEvent("error",e),Request.JSONP.request_map["request_"+d]=function(){this.success(arguments,d)}.bind(this);var f=this.getScript(e).inject(a.injectScript);return this.fireEvent("request",[e,f]),a.timeout&&this.timeout.delay(a.timeout,this),this},getScript:function(a){return this.script||(this.script=new Element("script",{type:"text/javascript",async:!0,src:a})),this.script},success:function(a,b){this.running&&this.clear().fireEvent("complete",a).fireEvent("success",a).callChain()},cancel:function(){return this.running&&this.clear().fireEvent("cancel"),this},isRunning:function(){return!!this.running},clear:function(){return this.running=!1,this.script&&(this.script.destroy(),this.script=null),this},timeout:function(){return this.running&&(this.running=!1,this.fireEvent("timeout",[this.script.get("src"),this.script]).fireEvent("failure").cancel()),this}}),Request.JSONP.counter=0,Request.JSONP.request_map={}),"function"==typeof Request.JSONP&&!function(){new Request.JSONP({url:"http://badges.del.icio.us/feeds/json/url/data",data:{url:location.host+location.pathname+location.search,format:"json"},onComplete:function(a){var b=a[0];b?document.getElementById("deliciousCounter").innerHTML=b.total_posts:document.getElementById("deliciousCounter").innerHTML="0"}}).send()}()),this.arrActiveBtns.indexOf("su")>=0&&!function(){var a=document.createElement("script");a.type="text/javascript",a.src="//platform.stumbleupon.com/1/widgets.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),this.arrActiveBtns.indexOf("bu")>=0&&!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//static.bufferapp.com/js/button.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),this.arrActiveBtns.indexOf("dg")>=0&&!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="http://widgets.digg.com/buttons.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),this.arrActiveBtns.indexOf("tu")>=0&&!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="http://platform.tumblr.com/v1/share.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),function(){for(var a=SocialBarObj.arrCustomButtonScripts,b=0,c=a.length;c>b;b++){var d=document.createElement("script");d.type="text/javascript",d.text=a[b];var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e)}}()}});