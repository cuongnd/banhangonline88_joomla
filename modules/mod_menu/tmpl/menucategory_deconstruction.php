<?php/** * @package     Joomla.Site * @subpackage  mod_menu * * @copyright   Copyright (C) 2005 - 2016 Open Source Matters, Inc. All rights reserved. * @license     GNU General Public License version 2 or later; see LICENSE.txt */use Joomla\Registry\Registry;defined('_JEXEC') or die;JHtml::_('jQuery.appear');$max_items_root = $params->get('max_items_root', 0);$doc=JFactory::getDocument();$doc->addLessStyleSheet(JUri::root().'modules/mod_menu/assests/less/menucategory.less');$doc=JFactory::getDocument();JHtml::_('jQuery.lazyload');JHtml::_('jQuery.utility');$doc->addScript(JUri::root().'modules/mod_menu/assests/js/menucategory.js');$lazyload=(boolean)$params->get('lazyload',false);?>    <div class="mod_menu menucategory" id="mod_menu_<?php echo $module->id ?>">        <h3 class="title"><?php echo $module->title ?></h3>        <?php        if(!$lazyload){            echo ModMenuHelper::render_module_menucategory($module);        }        ?>    </div><?php$js_content = '';$doc = JFactory::getDocument();$uri=JFactory::getUri();ob_start();?>    <script type="text/javascript">        jQuery(document).ready(function ($) {            $("#mod_menu_<?php echo $module->id ?>").menucategory({                module_id:<?php echo $module->id   ?>,                children_menu_item:<?php echo json_encode($children_menu_item) ?>,                lazyload:<?php echo json_encode($lazyload) ?>,                root_url:"<?php echo $uri->root() ?>",                max_item_level_3:5            });        });    </script><?php$js_content = ob_get_clean();$js_content = JUtility::remove_string_javascript($js_content);$doc->addScriptDeclaration($js_content);?><?php/** * @package     Joomla.Site * @subpackage  mod_menu * * @copyright   Copyright (C) 2005 - 2016 Open Source Matters, Inc. All rights reserved. * @license     GNU General Public License version 2 or later; see LICENSE.txt */$doc = JFactory::getDocument();$doc->addLessStyleSheet(JUri::root() . 'modules/mod_menu/assests/less/default.less');$doc->addScript(JUri::root().'modules/mod_menu/assests/js/mod_menu_default.js');$doc = JFactory::getDocument();$params=$module->params;$lazyload=(boolean)$params->get('lazyload',false);?><div class="mod_menu default <?php echo $moduleclass_sfx ?>" id="mod_menu_<?php echo $module->id ?>">    <?php    if(!$lazyload){        require JModuleHelper::getLayoutPath('mod_menu', 'default_basic');    }else{        require JModuleHelper::getLayoutPath('mod_menu', 'default_deconstruction');    }    ?></div><?php$js_content = '';$doc = JFactory::getDocument();ob_start();?><script type="text/javascript">    jQuery(document).ready(function ($) {        $("#mod_menu_<?php echo $module->id ?>").mod_menu_default({            module_id:<?php echo $module->id   ?>,            lazyload: "<?php echo json_encode($lazyload) ?>",            params:<?php echo json_encode($params->toObject()) ?>        });    });</script><?php$js_content = ob_get_clean();$js_content = JUtility::remove_string_javascript($js_content);$doc->addScriptDeclaration($js_content);?><?php/** * @package     Joomla.Site * @subpackage  mod_menu * * @copyright   Copyright (C) 2005 - 2016 Open Source Matters, Inc. All rights reserved. * @license     GNU General Public License version 2 or later; see LICENSE.txt */$doc = JFactory::getDocument();$doc->addLessStyleSheet(JUri::root() . 'modules/mod_menu/assests/less/menucategory.less');$doc->addScript(JUri::root().'modules/mod_menu/assests/js/menucategory.js');$doc = JFactory::getDocument();$params=$module->params;$lazyload=(boolean)$params->get('lazyload',false);?><div class="mod_menu default <?php echo $moduleclass_sfx ?>" id="mod_menu_<?php echo $module->id ?>">    <?php    if(!$lazyload){        require JModuleHelper::getLayoutPath('mod_menu', 'default_basic');    }else{        require JModuleHelper::getLayoutPath('mod_menu', 'default_deconstruction');    }    ?></div><?php$js_content = '';$doc = JFactory::getDocument();ob_start();?><script type="text/javascript">    jQuery(document).ready(function ($) {        $("#mod_menu_<?php echo $module->id ?>").mod_menu_default({            module_id:<?php echo $module->id   ?>,            lazyload: "<?php echo json_encode($lazyload) ?>",            params:<?php echo json_encode($params->toObject()) ?>        });    });</script><?php$js_content = ob_get_clean();$js_content = JUtility::remove_string_javascript($js_content);$doc->addScriptDeclaration($js_content);?>